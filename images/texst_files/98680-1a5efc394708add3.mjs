(self.modernJsonp=self.modernJsonp||[]).push([["98680"],{237666:function(e,t,n){var r=n(667294),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useSyncExternalStore,o=r.useRef,u=r.useEffect,a=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,d){var c=o(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;var m=s(e,(c=a(function(){function e(e){if(!u){if(u=!0,s=e,e=r(e),void 0!==d&&f.hasValue){var t=f.value;if(d(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var n=r(e);return void 0!==d&&d(t,n)?(s=e,t):(s=e,o=n)}var s,o,u=!1,a=void 0===n?null:n;return[function(){return e(t())},null===a?void 0:function(){return e(a())}]},[t,n,r,d]))[0],c[1]);return u(function(){f.hasValue=!0,f.value=m},[m]),l(m),m}},331103:function(e,t,n){e.exports=n(237666)},503246:function(e,t,n){function r(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(!s(e[r],t[r],n+1))return!1;return!0}function i(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(!(r in t)||!s(e[r],t[r],n+1))return!1;return!0}function s(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let s=Object.prototype.toString.call(e);if(s!==Object.prototype.toString.call(t))return!1;switch(s){case"[object Array]":return r(e,t,n);case"[object Set]":return r(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return i(e,t,n);case"[object Map]":return i(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function o(e,t){return s(e,t,0)}n.d(t,{Z1:()=>i,ZP:()=>o,qP:()=>r})},722194:function(e,t,n){n.d(t,{Z:()=>u});var r=n(667294),i=n(413145),s=n(603316);function o(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.Component{constructor(...e){super(...e),o(this,"state",{error:null,info:null}),o(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,n=this.props.type||"secondary";(0,i.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),(0,s.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,s.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},93966:function(e,t,n){n.d(t,{$H:()=>u,$q:()=>E,$u:()=>i,Az:()=>c,Cw:()=>C,D6:()=>d,GZ:()=>j,KN:()=>L,Ke:()=>g,Lo:()=>s,P2:()=>v,TS:()=>_,Wv:()=>w,ZZ:()=>m,g5:()=>p,jC:()=>a,lX:()=>h,oX:()=>y,qG:()=>b,tG:()=>o,yF:()=>r,yc:()=>f,yt:()=>l});let r=236,i=270,s=157.33333333333334,o=175,u=24,a=4,l=8,d=2,c=8,f=2,m=14,p=16,h=16,v=24,y=16,b=-1,g=2,E=(e=!1,t=!1)=>e?t?h:12:v,w=({defaultItemWidth:e,contentVisibleItemCount:t,gap:n,moduleWidth:r})=>t||r?(r-((Math.ceil(t)+1)*n+8))/t:e,L=(e,t,n,r,i=m)=>{let s=e+i;return`
@media (min-width: ${t*s}px) and (max-width: ${(n+1)*s-1}px) {
  ${r}
}
`},_=(e,t,n)=>{let i=n?3:2,s=t?5:i,u=t?r:o,a=t?y:l,d=u*s+a*s-(t||!t&&n?12:6);if(!e)return d;for(let t=s;t>=2;t-=1)if(e>d)break;else d=u*t+a*t;return d},j=e=>{let t=Object.values(e.videos?.video_list??{}).find(e=>"number"==typeof e.width&&"number"==typeof e.height);return t?{width:t.width,height:t.height}:{width:0,height:0}},C=e=>!!(e&&"is_premiere"in e&&e.is_premiere&&"videos"in e&&e.videos)},286036:function(e,t,n){function r(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});let i=new class{constructor(){r(this,"onResumeListeners",[]),r(this,"onPauseListeners",[]),r(this,"inExp",!1),r(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}},s=e=>{if(e.isHidden){let{reason:t}=e;i.windowInFocus=!1,i.onPauseListeners.forEach(e=>e(t))}else i.windowInFocus=!0,i.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>s({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>s({isHidden:!1})),window.addEventListener("blur",()=>s({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>s({isHidden:!1})),window.addEventListener("pagehide",()=>s({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>s(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>s(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let o=i},355363:function(e,t,n){n.d(t,{Z:()=>a});var r=n(336057),i=n(667294),s=n(392824),o=n(754545),u=n(573746);function a({children:e,isAtEndOfFeed:t,pinData:n,itemCount:a,includeBackgroundImages:l=!1,includeVideos:d=!1,includeSections:c=!1,isPlaceholderGrid:f,stopwatchSetVisuallyCompleteResult:m,stopwatchContext:p}){let{isAuthenticated:h}=(0,u.bC)();h||(c=!0),(0,r.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:l,includeVideos:d,includeSections:c,isPlaceholderGrid:f,stopwatchSetVisuallyCompleteResult:m,stopwatchContext:p});let v=(0,i.useRef)(null),y=(0,o.P9)();return(0,i.useEffect)(()=>{a!==v.current&&(v.current=a,y&&(0,s.ZP)(s.at))},[y,a]),e}},336057:function(e,t,n){n.d(t,{Z:()=>h,v:()=>p});var r=n(667294),i=n(592109),s=n(579358),o=n(901360),u=n(392824),a=n(293169),l=n(754545),d=n(956077),c=n(610046),f=n(603316);let m=(0,i.XV)("GridProfiler"),p=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,s.VZ)();function h({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:p=!1,includeSections:h,isPlaceholderGrid:v,stopwatchSetVisuallyCompleteResult:y,stopwatchContext:b}){let g=(0,l.P9)(),[E,w]=(0,r.useState)({status:"DISABLED"});(0,r.useEffect)(()=>{w({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[g]),(0,r.useEffect)(()=>{if(m("new status",E),"LAYOUT"===E.status){let e=((e,t)=>{let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",()=>{(0,u.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[E.status]),(0,c.Z)(()=>{let r=(0,l.Ly)(),u=()=>{},c=e=>{(0,l.JG)(e),b&&b?.abort()};"unknown"!==r?u=d.rt:(r=`${b?.name}`,b?.addBinaryAnnotation&&(u=b?.addBinaryAnnotation));let g=(0,s.cQ)(n,p,h);if(v)return void m("bypassing PWT run due to skeleton pin grid");switch(E.status){case"LAYOUT":{let t=((e,t)=>{if(!t){let t=(0,s.LM)();if(t===e)return m("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,s.F9)())return m("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(E.numOfItemsChecked,e);t.complete?w({status:"TIMING",failedCount:0,pinElements:g}):500*E.failedCount>6e4?((0,o.A9)(`images.${r}.visuallyComplete.maxLayoutAttempt`),c("visuallyComplete_layoutTimeout"),w({status:"DISABLED"})):w({...E,failedCount:E.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,a.Cg)(),n=E.pinElements.length,s=[],d=0,p=0,h=0,v=1/0,b=0;if(E.pinElements.forEach(({element:t,fileName:n})=>{let o=e.find(e=>e.name.endsWith(n));o?o.responseEnd?(s.push(o),(0,i.v5)(t,"green"),"SEARCH_FEED_RENDER"===r&&(v=Math.min(v,o.requestStart),b=Math.max(b,o.responseEnd))):(h+=1,(0,i.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(p+=1,(0,i.v5)(t,"red")):(d+=1,(0,i.v5)(t,"greenyellow"))}),d||h)100*E.failedCount>6e4?((0,o.A9)(`images.${r}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:d,noTimingCount:p,noTimingResponseEndCount:h}}),c("visuallyComplete_timingTimeout"),w({status:"DISABLED"})):w({...E,failedCount:E.failedCount+1});else{if(m(`All ${s.length} images are fetched`),t&&t.length){var L,_;let e,n,i,s,a,d=(L=t,_=E.pinElements,e=0,n=0,i=0,s=0,a=0,L=L.filter(e=>"pin"===e.type),_.forEach((t,r)=>{let o,u=t.fileName.split(".")[0];o=L[r],u!==o?.image_signature&&(o=L.find(e=>u===e?.image_signature)),void 0===o?a+=1:o.is_promoted||o.recommendation_reason?.reason==="PROMOTED_PIN"||o?.promoter?.length?i+=1:null!==o.story_pin_data_id&&void 0!==o.story_pin_data_id?e+=1:o?.videos?.video_list?n+=1:s+=1}),{storyPinCount:e,videoCount:n,adCount:i,imageCount:s,unknownCount:a});if(Object.entries(d).forEach(([e,t])=>{u(e,t,"I16"),(0,l.XJ)(e,t,"I16")}),(0,o.A9)(`${r}.pinTypes`,{tags:d}),"SEARCH_FEED_RENDER"===r){let e=b-v;t[0].display_options?.num_columns_requested===0?(0,f.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,f.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}(({imageTimings:e})=>{y&&y(),(0,l.cB)(e)})({imageTimings:s}),w({status:"DISABLED"}),(0,o.A9)(`images.${r}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:p}})}}}},"LAYOUT"===E.status&&500||"TIMING"===E.status&&100||null)}},610046:function(e,t,n){n.d(t,{Z:()=>i});var r=n(667294);let i=(e,t)=>{let n=(0,r.useRef)(()=>{});(0,r.useEffect)(()=>{n.current=e},[e]),(0,r.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/98680-1a5efc394708add3.mjs.map