(self.modernJsonp=self.modernJsonp||[]).push([["20612"],{939672:function(e,t,n){n.d(t,{$A:()=>f,N0:()=>T,N3:()=>g,VK:()=>m,_J:()=>y,mW:()=>u});var a=n(667294),r=n(503246),i=n(603316),o=n(785893);let s={},l={},d=!1,c=0,p=(0,a.createContext)({setMetric:()=>void 0,getMetricForComponent:()=>void 0,getMetricsForPath:()=>void 0,setRmaData:()=>void 0});function u({children:e}){let t=(0,a.useCallback)((e,t,n)=>{s[e]||(s[e]={}),s[e][t]=n},[]),n=(0,a.useCallback)((e,t)=>s[e]?.[t],[]),i=(0,a.useCallback)(e=>s[e],[]),u=(0,a.useCallback)(({id:e,path:t,fragmentName:n,executionTime:a,newData:i})=>{if(d)return;let o=`${n}.${e}`;l[t]||(l[t]={}),l[t][o]||(l[t][o]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0,wastedTime:0});let s=l[t][o];(0,r.ZP)(i,s.previousData)?(s.wastedTime+=a,c+=a):s.resultUpdatedCount+=1,s.totalRenderTime+=a,s.renderCount+=1,s.previousData=i},[]),m=(0,a.useMemo)(()=>({setMetric:t,getMetricForComponent:n,getMetricsForPath:i,setRmaData:u}),[t,n,i,u]);return(0,o.jsx)(p,{value:m,children:e})}function m(){return(0,a.use)(p)}function f(e){return s[e]}function g(e){return["www/index.js","www/homefeed.js","www/pin/[id].js"].includes(e)}function y(e){let t=l[e],n={};d=!0,t&&Object.keys(t).length&&g(e)&&(Object.entries(t).forEach(([e,t])=>{let[a]=e.split(".");a&&!n[a]&&(n[a]=!0,(0,i.QX)(`render_stats.rma.${a}.renderCount`,t.renderCount,{sampleRate:1}),(0,i.QX)(`render_stats.rma.${a}.resultUpdatedCount`,t.resultUpdatedCount,{sampleRate:1}),(0,i.LY)(`render_stats.rma.${a}.renderTime`,t.totalRenderTime,{sampleRate:1}),(0,i.LY)(`render_stats.rma.${a}.wastedTime`,t.totalRenderTime,{sampleRate:1}))}),(0,i.LY)("render_stats.rma.totalWastedTime",c,{sampleRate:1,tags:{path:e}}))}function T(){s={},l={},d=!1,c=0}},622481:function(e,t,n){n.d(t,{Z:()=>a});let a=(0,n(667294).createContext)(null)},282803:function(e,t,n){n.d(t,{Z:()=>a});let a=(0,n(667294).createContext)(null)},255957:function(e,t,n){n.d(t,{Z:()=>N});var a=n(667294),r=n(286036),i=n(457636),o=n(592109),s=n(901360),l=n(392824),d=n(67831),c=n(703393),p=n(735201),u=n(868178),m=n(891631),f=n(594885),g=n(579358),y=n(970773),T=n(361423),_=n(15667),w=n(112114),h=n(603316),S=n(785893);let A=["initial_app_load","client_route_push"],E=(0,o.XV)("PwtSurface"),I="NavigationComplete",M="VisuallyComplete",v=()=>{(0,p._T)()},C=e=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let n=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t])),{metricConfig:{metricId:a,pwtStaticContext:r,annotateExperiments:o},annotations:d,binaryAnnotations:u,constraintMap:m,startTime:f,imageTimings:y,spans:T,traceId:_}=e;(0,l.L8)(`Report_PWT_Complete_${(0,i.KJ)(a)}`,f,n);let w=(0,c.W)({annotateExperiments:[...o??[]],annotations:d,binaryAnnotations:u,constraintMap:m,endTime:n,imageTimings:y,metricId:a,pwtStaticContext:r,startTime:f,traceId:_,spans:T});try{var t=String(w.binaryAnnotationMap["metricId.surface"].value);let e=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(t=>{let n=t.src.replace(".jpg","").split("/"),a=n[n.length-1];if(e[a]){let n=(0,g.rZ)(t)?.width||1,r=e[a].downloadSize;return{fileName:a,renderedSize:n,downloadedSize:r,ratio:r/n}}return{fileName:a,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(t=>{let n=t.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),a=n[n.length-1];if(e[a]&&t instanceof HTMLDivElement){let n=(0,g.rZ)(t)?.width||1,r=e[a].downloadSize;return{fileName:a,renderedSize:n,downloadedSize:r,ratio:r/n}}return{fileName:a,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(e=>{let{ratio:n,fileName:a,downloadedSize:r}=e;e.ratio>1.05&&(0,s.A9)(`checkImageRatio.${t}`,{count:Math.round(10*n)/10,tags:{fileName:`${r}_${a}`}})})}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return(0,p._T)(),{...e,result:w,status:"DONE"}}return E(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},R=(e,t)=>{let{constraint:n,time:a}=t,r=(0,i.KJ)(e.metricConfig.metricId);return T.Z?e.metricConfig.constraints.find(e=>e===n)?e.constraintMap[n]?(E(`constraint "${n}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:n,action:r}),e):(E(`marking constraint "${n}" as complete ${a||performance.now()}`),a?(0,l.ZP)(`constraint_${n}_is_complete`,a):(0,l.ZP)(`constraint_${n}_is_complete`),C({...e,constraintMap:{...e.constraintMap,[n]:a||T.Z.now()}})):(E(`marked constraint "${n}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:r}),e)},$=(e,t)=>{if(E("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{let{metricConfig:n,startTime:a,isSampled:r,disablePWTLogging:o}=t;if(o||"TIMING"!==e.status||a===e.startTime||v(),!n)return{status:"DISABLED",metricConfig:null};let l=(0,i.KJ)(n.metricId);if("TIMING"===e.status&&e.startTime===a&&e.constraintMap[I])return(0,s.H)("duplicated_init_route_action",{action:l}),e;if(!o){let e=(0,w.H)();(0,s.A9)(`handler.${l}`,{tags:{handler:e}});let t=void 0!==n.metricId.isAuthenticated&&{tags:{isAuth:n.metricId.isAuthenticated}}||void 0;"Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,s.A9)(`TIMING.${l}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${l}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,s.A9)(`TIMING.${l}`),(0,s.A9)(`TIMING.sampled.${l}`,{sampleRate:.03})),(0,u.C)({resultLog:`TIMING.${l}`,annotateExperiments:n.annotateExperiments||[],getExperimentGroup:n.pwtStaticContext.getExperimentGroup,options:t})}return R({traceId:(0,p.vc)()||(0,p.ZP)("initial_app_load"===n.metricId.navigationType,n.pwtStaticContext.serverData?.trace_id),status:"TIMING",metricConfig:n,startTime:a,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:r,spans:[]},{constraint:I,disablePWTLogging:o})})(e,t.payload);if("TIMING"!==e.status)return E(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":v();let n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":let{name:a}=t.payload;if(!T.Z)return e;let r=T.Z.now();return E(`adding annotation {${a}: ${r}}`),{...e,annotations:{...e.annotations,...{[a]:r}}};case"BINARY_ANNOTATE":let{name:o,value:l,annotationType:d}=t.payload;return E(`adding binary annotation {${o}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[o]:{value:l,type:d}}}};case"MARK_CONSTRAINT_COMPLETE":return R(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!T.Z){let t=(0,i.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}E(`removing constraint "${t}"`);let n=e.metricConfig.constraints.filter(e=>e!==t),{[t]:a,...r}=e.constraintMap;return C({...e,constraintMap:r,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":var c=t.payload;if(!T.Z){let t=(0,i.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}E(`updating pwt segment to "${c}"`);let m={...e.metricConfig.metricId,segment:c};return{...e,metricConfig:{...e.metricConfig,metricId:m}};case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:n}}=t;if(0===n.length)return v(),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let a=Math.max(...n.map(e=>e.responseEnd||0));return R({...e,imageTimings:n},{constraint:M,time:a})}case"ADD_SUBSPAN":let{startTime:f}=e,{payload:{name:g,startTime:_,endTime:h,annotations:S,binaryAnnotations:A,parentId:$}}=t;return{...e,spans:[...e.spans,{name:g,id:(0,y.Z)(),startTime:_||f,endTime:h,annotationMap:{...S},binaryAnnotationMap:{...A},parentId:$}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,y.Z)(),startTime:T.Z?T.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let b=e.spans.findIndex(e=>e.name===t.payload.name);return b>-1?(e.spans[b].endTime=T.Z?T.Z.now():0,t.payload.annotations&&(e.spans[b].annotationMap={...e.spans[b].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[b].binaryAnnotationMap={...e.spans[b].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let N=(0,i.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:N}),e}},b=new Set;function N({children:e,...t}){let n=(0,m.Z)(),o=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(n),l=t.measureGridVisuallyComplete?["web_masonry_v2"]:[],c=[...t.annotateExperiments??[],...l],{context:p}=(({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:i,annotateExperiments:o,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:l,navigationType:d},sampleRate:c})=>{let p=(0,a.useRef)("NOT_SET"),u=(0,f.Z)(),{getState:m,dispatch:g}=((e,t)=>{let n=(0,a.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}})($,{status:"DISABLED",metricConfig:null}),y=(0,_.B)();if(p.current!==l&&(p.current=l,u)){let{isAuthenticated:a}=u,r=e&&d&&(s||A).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:a,segment:n},annotateExperiments:o,constraints:[I,...t||[],...i?[M]:[]],pwtStaticContext:u}:null;(0,h.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:a}});let p=!b.has(l);g({type:"INIT_ROUTE",payload:{metricConfig:r,startTime:l?l.time:0,isSampled:!c||Math.random()<c,disablePWTLogging:!p}}),p&&b.add(l)}let S=m();if((0,a.useEffect)(()=>()=>{b.delete(l)},[l]),(0,a.useEffect)(()=>{let e=e=>{g({type:"ABORT",reason:e})};r.Z.onSessionPause(e);let t=window.innerHeight,n=window.innerWidth,a=()=>{let e=Math.abs(window.innerHeight-t),r=Math.abs(window.innerWidth-n),i=window.innerHeight!==t,o=window.innerWidth!==n,s={handler:(0,w.H)(),deviceType:u?.deviceType??"unknown",isAuthenticated:u?.isAuthenticated??"unknown",platform:y.userAgent.platform??"unknown"};if((0,h.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:i,widthChanged:o}}),i&&(0,h.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:s}),o&&(0,h.S0)("webapp.PwtLogger.resizeWidthDelta",r,{sampleRate:1,tags:s}),window.removeEventListener("resize",a),u?.deviceType==="phone"&&(!o&&i&&e<=150||!i&&!o)||u?.deviceType==="desktop"&&!i&&!o)return void(0,h.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...s,heightChanged:i,widthChanged:o}});g({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",a),()=>{let t=m();E("handling unmount",t),"TIMING"===t.status&&v(),r.Z.removePauseListener(e),window.removeEventListener("resize",a)}},[]),"TIMING"!==S.status||!S.constraintMap[I])return{state:S,context:null};let{startTime:C,metricConfig:R}=S;return{state:S,context:{abort:e=>g({type:"ABORT",reason:e}),addAnnotation:e=>g({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>g({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,a={},r={},i=null)=>g({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:a,binaryAnnotations:r,parentId:i}}),getId:()=>C,getMetricId:()=>R.metricId,markConstraintComplete:e=>g({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:T.Z?T.Z.now():0}}),removeConstraint:e=>g({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>g({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:R.constraints.includes(M)?e=>g({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},a=null)=>g({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:a}}),stopSubspan:(e,t={},n={},a=null)=>g({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:a}})}}})({...t,annotateExperiments:c,navigationInfo:{navigationType:o,clientNavigation:n}}),u=(0,d.A)(),g=!!u;return(0,a.useEffect)(()=>{if(g){let e=u?.getMetricId(),t=e?(0,i.KJ)(e):null;(0,s.H)("nested_pwt_surface",{action:t})}},[g]),(0,S.jsx)(d.S,{value:p,children:e})}},67831:function(e,t,n){n.d(t,{A:()=>r,S:()=>a});let{Provider:a,getMaybe:r}=(0,n(729434).Z)("pwtSurfaceContext")},579358:function(e,t,n){n.d(t,{F9:()=>d,LM:()=>l,VZ:()=>i,cQ:()=>c,rZ:()=>o});var a=n(210811),r=n(901360);let i=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,o=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},l=()=>document.querySelector?document.querySelectorAll(a.wc).length:((0,r.H)("missing_document_query_selector"),0),d=()=>{let e=(()=>{if(!document.querySelector)return(0,r.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(a.wc);return e[e.length-1]||null})();if(!e)return!1;let t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},c=(e,t,n)=>{if(!document.querySelector)return(0,r.H)("missing_document_query_selector"),[];let i={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},l=[a.Wf,...e?[a.fF]:[],...t?[a.$N]:[]].join(","),d=[...document.querySelectorAll(l)];if(n){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let n=[...e.children];!n.length&&e.style.backgroundImage?d.push(e):n.length&&n.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return d.reduce((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&((e,t)=>{let n=o(e);if(!n)return(0,r.H)("missing_client_rect"),!1;if(n.width<70&&n.height<70){if(e instanceof HTMLImageElement)return!1;let t=s(e);if(t?.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:a})=>{let r=e+a;if(r>=n)return!1;let i=Math.min(t,n-r);return i>.5*t||i>.2*n})(n,t)})(n,i)){let t=s(n);if(t){let a=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:a}])}}return e},[])}},210811:function(e,t,n){n.d(t,{$N:()=>l,Kb:()=>a,Wf:()=>o,fF:()=>s,wc:()=>i});let a="pwt-grid-item",r=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${a}"]`],i=r.join(","),o=r.map(e=>`${e} img`).join(","),s=r.map(e=>`${e} div[style*=background-image]`).join(","),l=r.map(e=>`${e} video`).join(",")},703393:function(e,t,n){n.d(t,{W:()=>_,N:()=>w});var a=n(392824),r=n(645214),i=n(788725),o=n(979817),s=n(498724),l=n(524447);let d=(e,t)=>Object.keys(t).reduce((n,a)=>({...n,[`${e}${a}`]:t[a]}),{});var c=n(375730),p=n(603316);let u=["client-","vendor-react-","index-","runtime-","locale-"],m=["PinResource","UserHomefeedResource","BaseSearchResource","BoardResource","UserResource","BoardFeedResource","runtime-","polyfills-","locale-","vendor-react-","vendor-react-","client-","index-","AuthDesktopHeader","DefaultPinRep","StructuredFeed","[id]-","[scope]-","[username]-","CloseupActionBarCommon-","SaveAffordance-"],f=({eventPrefix:e,endTime:t,tags:n,resourceArr:a,resourceType:r="allResources"})=>{let i=a.length;if("object"==typeof a[0]&&!Array.isArray(a[0])&&0!==i){if(u.includes(r)){let t=a[0],i={...n,swIntercepted:t.workerStart>0,workerFinalSourceType:t.workerFinalSourceType||"unknown"};(0,p.LY)(`${e}.app_start_script_${r.replace("-","")}.InFlight`,t.fetchStart,{tags:i}),(0,p.LY)(`${e}.app_start_script_${r.replace("-","")}.Complete`,t.responseEnd,{tags:i})}if(m.includes(r)){let t=a[0];(0,p.LY)(`${e}.critical_resource_${r.replace("-","")}.InFlight`,t.fetchStart,{tags:n}),(0,p.LY)(`${e}.critical_resource_${r.replace("-","")}.Complete`,t.responseEnd,{tags:n})}else{let o=[...a].sort((e,t)=>e.fetchStart-t.fetchStart),s=[...a].sort((e,t)=>e.responseEnd-t.responseEnd),l=1,d=t/5,c=0;for(;l<=5;){let t=0;for(;c<=i-1&&o[c].fetchStart<=d*l;)c+=1,t+=1;(0,p.S0)(`${e}.${r}.fetchStartInterval${l}of5`,t,{sampleRate:.2}),l+=1}let u={InFlightP0:o[0].fetchStart,InFlightP25:o[Math.floor(i/4)].fetchStart,InFlightP50:o[2*Math.floor(i/4)].fetchStart,InFlightP75:o[3*Math.floor(i/4)].fetchStart,InFlightP100:o[i-1].fetchStart,CompleteP25:s[Math.floor(i/4)].responseEnd,CompleteP50:s[2*Math.floor(i/4)].responseEnd,CompleteP75:s[3*Math.floor(i/4)].responseEnd,CompleteP100:s[i-1].responseEnd};for(let t in u)u[t]&&(0,p.LY)(`${e}.${r}.${t}`,u[t],{tags:n})}}};var g=n(970773),y=n(293169);let T=({type:e,annotateExperiments:t,annotations:n,binaryAnnotations:p,constraintMap:T,endTime:_,imageTimings:w,isV4Logger:h,metricId:S,pwtStaticContext:A,startTime:E,traceId:I,spans:M})=>{let v,C=(0,y.Cg)();"initial_app_load"===S.navigationType&&(v=(0,i.Z)());let R=w.map(({name:e})=>e),$=C.map(e=>(0,o.p)(e,R)).filter(({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime)(e,{startTime:E,endTime:_})),b=((0,a.E3)()||[]).map(e=>({name:e.name,id:(0,g.Z)(),parentId:I,startTime:e.startTime||E,endTime:e.endTime,annotationMap:{},binaryAnnotationMap:{}})).filter(e=>!(({startTime:e,endTime:t},n)=>e>n.endTime||!!t&&t<n.startTime)(e,{startTime:E,endTime:_}));return .2>Math.random()&&(({annotateExperiments:e,endTime:t,entries:n,metricId:a,pwtStaticContext:r})=>{let{isAuthenticated:i,isBot:o,isSocialBot:s,deviceType:l}=r,d=`${s&&"socialBot"||o&&"bot"||"nonbot"}.${l}.${a.surface}`,c=[d];e&&[...new Set(e)].forEach(e=>{let t=r.getExperimentGroup(e);t&&c.push(`${d}.experiment.${e}.${t}`)});let p={isAuthenticated:i,navigationType:a.navigationType,startType:r.startType},g=Array.from(n.filter(e=>"number"==typeof e.encodedBodySize&&("xmlhttprequest"===e.initiatorType&&e.encodedBodySize>=1e3||e.encodedBodySize>=1e4)&&e.responseEnd<=t)),y={img:[],css:[],script:[],xmlhttprequest:[],preloadedImages:[]};g.forEach(e=>{if("link"===e.initiatorType&&e.name.includes("i.pinimg.com"))y.preloadedImages=[...y.preloadedImages||[],e];else if(e.initiatorType in y){let t=e.initiatorType;y[t]=[...y[t]||[],e];let n=m.find(t=>e.name.includes(t));n&&(y[n]=[e]);let a=u.find(t=>e.name.includes(t));a&&(y[a]=[e])}}),c.forEach(e=>{f({eventPrefix:e,endTime:t,tags:p,resourceArr:g}),Object.entries(y).forEach(([n,a])=>{f({eventPrefix:e,endTime:t,tags:p,resourceArr:a,resourceType:n})})})})({annotateExperiments:t,endTime:_,entries:C,metricId:S,pwtStaticContext:A}),{traceId:I,startTime:E,endTime:_,spans:[...$.map(e=>(0,c.Z)(e,I)).filter(Boolean),...b].concat(M),annotationMap:(({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...d("constraint_",e),...d("mark_",(0,a.gQ)()),...d("browser_",{...t?{...(0,s.Z)(t),domComplete:t.domComplete||0,domContentLoadedEventStart:t.domContentLoadedEventStart||0,domInteractive:t.domInteractive||0,workerStart:t.workerStart||0}:{},...(()=>{let{largestContentfulPaint:e}=(0,l.v2)();return{largestContentfulPaint:e||0}})()})}))({constraintMap:T,initialNavTiming:v,annotations:n}),binaryAnnotationMap:(0,r.rA)({initialNavTiming:v||{},type:e,annotateExperiments:t,binaryAnnotations:p,entries:C,isV4Logger:h,metricId:S,performanceResources:$,pwtEndTime:_,pwtStaticContext:A})}},_=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:a,endTime:r,imageTimings:i,isV4Logger:o=!1,metricId:s,pwtStaticContext:l,startTime:d,traceId:c,spans:p})=>({type:"COMPLETE",...T({type:"COMPLETE",annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:a,endTime:r,imageTimings:i,isV4Logger:o,metricId:s,pwtStaticContext:l,startTime:d,traceId:c,spans:p})}),w=({reason:e,annotateExperiments:t,annotations:n,binaryAnnotations:a,constraintMap:r,endTime:i,imageTimings:o,isV4Logger:s=!1,metricId:l,pwtStaticContext:d,startTime:c,traceId:p,spans:u})=>({type:"ABORT",reason:e,...T({type:"ABORT",annotateExperiments:t,annotations:n,binaryAnnotations:a,constraintMap:r,endTime:i,imageTimings:o,isV4Logger:s,metricId:l,pwtStaticContext:d,startTime:c,traceId:p,spans:u})})},891631:function(e,t,n){n.d(t,{Z:()=>i});var a=n(667294),r=n(622481);function i(){return(0,a.useContext)(r.Z)}},594885:function(e,t,n){n.d(t,{Z:()=>i});var a=n(667294),r=n(282803);function i(){return(0,a.useContext)(r.Z)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/20612-6dbce07536bd4b21.mjs.map