(self.modernJsonp=self.modernJsonp||[]).push([["66715"],{780879:function(e,t,o){o.d(t,{f:()=>P,l:()=>w});var i=o(667294),r=o(769430),n=o(753090),a=o(478135),l=o(288910),s=o(755222),c=o(838880),d=o(234681),u=o(272191),_=o(631132),h=o(399573),p=o(729434),f=o(503246),b=o(949044),x=o(974705),m=o(785893);let g=(e,t,o)=>{let i=t?.find(({action:e})=>e?.filter?.product_filter_type===o);if(!i)return;let r=(0,b.Z)(x.Z,!0)(i),n=e.findIndex(({action:e})=>e?.filter?.productFilterType===o);e[n]?e[n]=r:e.push(r)},y=(e,t,o,i)=>{let r=i.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(r?.action?.filter){let e=r.action.filter.filterOptions;r.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[o]&&t.split(",").includes(String(e[o]))).map(e=>({...e,selected:!0})):[]}},{Provider:v,get:w}=(0,p.Z)("OneBarProductFilters");function P({children:e}){let[t,o]=(0,i.useState)([]),[p,b]=(0,i.useState)(null),x=function(){let{scope:e}=(0,l.n)();return[a.lw.BOARDS,a.lw.PINS_BUYABLE,a.lw.PINS_VIDEO,a.lw.USERS].includes(e)}(),w=(0,u.Z)(),P=(0,c.Z)(),j=(0,r.Z)(),A=(0,n.Z)(),S=(0,d.Z)(),I=(0,_.Z)(),C=(0,i.useCallback)(({oneBarModules:e,baseCacheKey:i})=>{let r=e?.filter(({module_type:e})=>17===e||0===e);if(!r||r?.length===0||!i)return;let n=i!==p,a=n?[]:t;(n||!x)&&g(a,r,4),(n||!w)&&g(a,r,1),(n||!P)&&g(a,r,0),(n||!j)&&g(a,r,3),(n||!A)&&g(a,r,6),(n||!I)&&g(a,r,10),(n||!S)&&[7,8,9].forEach(e=>{g(a,r,e)}),(0,f.ZP)(a,t)||(o(a),b(i))},[t,j,A,x,P,S,w,I,p]),B=(0,s.Z)(),{priceMax:Z,priceMin:z,scope:T,brands:O,onSale:E,style:k,colors:D,domains:F}=(0,l.n)();(0,i.useEffect)(()=>{if(!B||0===t.length)return;let e=(0,h.Z)(t);if(T!==a.lw.PINS){let t=(0,a.gi)(T),o=e.find(({moduleType:e})=>0===e);o?.action?.filter&&(o.action.filter.appliedFilterOptions=[...o.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:o}=e;return{searchType:o,selected:o===t}}))}if("string"==typeof Z||"string"==typeof z){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(z)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(Z)}:null].filter(Boolean))}y(new Set([3]),O,"stringValue",e),y(new Set([6]),D,"stringValue",e),y(new Set([0]),F,"stringValue",e),y(new Set([7,8,9]),E,"numericValue",e),y(new Set([10]),k,"stringValue",e),(0,f.ZP)(e,t)||o(e)},[t,B,Z,z,T,O,D,F,E,k]);let N=(0,i.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:C}),[t,C]);return(0,m.jsx)(v,{value:N,children:e})}},769430:function(e,t,o){o.d(t,{Z:()=>n});var i=o(616550),r=o(378888);function n(){return!!(0,r.mB)((0,i.TH)().search).brands}},753090:function(e,t,o){o.d(t,{Z:()=>a});var i=o(616550),r=o(274320),n=o(378888);function a(){let{checkExperiment:e}=(0,r.ru)(),t=(0,i.TH)(),{colors:o}=(0,n.mB)(t.search);return!!o&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},755222:function(e,t,o){o.d(t,{Z:()=>r});var i=o(274320);function r(){let{checkExperiment:e}=(0,i.ru)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},838880:function(e,t,o){o.d(t,{Z:()=>n});var i=o(616550),r=o(378888);function n(){return!!(0,r.mB)((0,i.TH)().search).domains}},234681:function(e,t,o){o.d(t,{Z:()=>n});var i=o(616550),r=o(378888);function n(){let e=(0,i.TH)(),{on_sale:t}=(0,r.mB)(e.search);return!!t}},272191:function(e,t,o){o.d(t,{Z:()=>n});var i=o(616550),r=o(378888);function n(){let e=(0,i.TH)(),{price_max:t,price_min:o}=(0,r.mB)(e.search);return!!(o??t)}},631132:function(e,t,o){o.d(t,{Z:()=>a});var i=o(616550),r=o(274320),n=o(378888);function a(){let{checkExperiment:e}=(0,r.ru)(),t=(0,i.TH)(),{style:o}=(0,n.mB)(t.search);return!!o&&!!e("web_shopping_onebar_style_filter",{dangerouslySkipActivation:!0}).anyEnabled}},138:function(e,t,o){o.d(t,{Z:()=>i});function i(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},865540:function(e,t,o){o.d(t,{Z:()=>s});var i=o(821342),r=o(274320),n=o(647709),a=o(448505),l=o(7872);function s(e){let t=(0,n.HG)(),{checkExperiment:o}=(0,r.ru)(),s=(0,a.Z)(),c=(0,i.Z)(),d=(0,l.lJ)(c,s),u=!t||o("web_sce_organic_pinbuilder_dep").anyEnabled;return!d&&(e&&o("sce_lightswitch_organic"),!t||!!u)}},704088:function(e,t,o){o.d(t,{Z:()=>P});var i=o(667294),r=o(20256),n=o(785873),a=o(839626),l=o(982166),s=o(949044),c=o(974705),d=o(805205),u=o(78762),_=o(785893);let h=(0,u.Z)(()=>o.e("85149").then(o.bind(o,401030)),{ssr:!1},e=>401030,void 0),p=(0,u.Z)(()=>o.e("29078").then(o.bind(o,30342)),{ssr:!1},e=>30342,void 0),f=(0,u.Z)(()=>Promise.all([o.e("83324"),o.e("88653")]).then(o.bind(o,140795)),{ssr:!1},e=>140795,void 0),b=(0,u.Z)(()=>o.e("6642").then(o.bind(o,485922)),{ssr:!1},e=>485922,void 0),x=(0,u.Z)(()=>Promise.all([o.e("36815"),o.e("74358")]).then(o.bind(o,236142)),{ssr:!1},e=>236142,void 0),m=(0,u.Z)(()=>o.e("2227").then(o.bind(o,629326)),{ssr:!1},e=>629326,void 0),g=(0,u.Z)(()=>o.e("61273").then(o.bind(o,528792)),{ssr:!1},e=>528792,void 0),y=(0,u.Z)(()=>o.e("38943").then(o.bind(o,3219)),{ssr:!1},e=>3219,void 0),v=(0,u.Z)(()=>o.e("42716").then(o.bind(o,315721)),{ssr:!1},e=>315721,void 0),w=[505420,505933,506173,506124,506436];function P({placementId:e}){return(0,_.jsx)(i.Fragment,{children:(0,_.jsx)(a.a3,{eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505420,505933,506173,506124,506436],placementId:e,children:({complete:t,dismiss:o,experience:{experience_id:i,display_data:a}})=>{let u=function(e){switch(e){case 504721:return g;case 504569:return m;case 504032:return y;case 502271:return p;case 505093:return v;default:return h}}(i),P=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(i);return(0,_.jsxs)(r.xu,{children:[!w.includes(i)&&(0,_.jsx)(l.ZP,{accessibilityModalLabel:"",onDismiss:o,size:P,children:(0,_.jsx)(u,{...(0,s.Z)(c.Z)(a),experienceId:i,handleComplete:t,handleDismiss:o,placementId:e})}),506124===i&&(0,_.jsx)(f,{handleComplete:t,handleDismiss:o,isDesktop:!0,isGooglePrimary:!0,...(0,s.Z)(c.Z)(a)}),(506173===i||506436===i)&&(0,_.jsx)(f,{handleComplete:t,handleDismiss:o,isDesktop:!0,isGooglePrimary:!1,...(0,s.Z)(c.Z)(a)}),505420===i&&(0,_.jsx)(x,{experienceId:505420,onSubmitSurvey:async()=>{(0,n.Z)((0,d.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:e,viewType:251}),505933===i&&(0,_.jsx)(b,{handleComplete:()=>{t(),(0,n.Z)((0,d.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:o,onAdsReportingSurface:!1})]})}})})}},456202:function(e,t,o){o.d(t,{Z:()=>r});var i=o(686319);let r=async e=>(await (0,i.Z)({url:`/v3/board/${e}/report_reasons/`})).resource_response.data},507187:function(e,t,o){o.d(t,{Z:()=>r});var i=o(686319);let r=async(e,t)=>await (0,i.Z)({url:`/v3/board/${e}/flag/`,method:"POST",data:t})},95763:function(e,t,o){o.d(t,{Z:()=>l});var i=o(475498),r=o(525839),n=o(87853),a=o(785893);function l(){let e=(0,r.ZP)(),{showToast:t}=(0,n.dI)();return{showErrorToast:()=>{t(({hideToast:t})=>(0,a.jsx)(i.Z,{onHide:t,text:e._('Something went wrong.', 'fetchReportingReasons.Toast.Unsuccessful', 'Toast after fetching reporting reasons is unsuccessful')}))},showSuccessToast:()=>{t(({hideToast:t})=>(0,a.jsx)(i.Z,{onHide:t,text:e._('Thanks. For updates, see your reports and violations center.', 'userReporting.handleSubmitReport.toast', 'This string appears on a banner that is displayed for a few seconds after the user submits a report, such as for content that violates Pinterest\u2019s policies. This banner confirms receipt and lets the user know where they can find updates. \u201Creports and violations center\u201D is the name of a feature within settings. It is a common noun. The tone of this is neutral and calm.')}))}}}},478135:function(e,t,o){o.d(t,{Hd:()=>c,_R:()=>l,gi:()=>n,lw:()=>i,oD:()=>r,wF:()=>s,zh:()=>a});let i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",BOARDS_MINE:"my_boards",USERS:"users",MY_CONTENT:"my_content",SHOP_TOOL:"shop_tool"},r=e=>Object.values(i).find(t=>t===e)??void 0,n=e=>{switch(e){case i.PINS:return 0;case i.PINS_MINE:return null;case i.PINS_BUYABLE:return 1;case i.PINS_VIDEO:return 2;case i.BOARDS:return 3;case i.USERS:return 4;default:return null}},a=e=>{switch(e){case 0:return i.PINS;case 1:return i.PINS_BUYABLE;case 2:return i.PINS_VIDEO;case 3:return i.BOARDS;case 4:return i.USERS;default:return null}},l=e=>{switch(e){case i.PINS_MINE:case i.MY_CONTENT:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.SHOP_TOOL:return 3380;case i.BOARDS:return 44;case i.USERS:return 45;case i.PINS:default:return 43}},s=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:case i.MY_CONTENT:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}},c=(e,t)=>{if(t)switch(e){case i.USERS:return 1000392;case i.PINS_BUYABLE:return 1000391;case i.PINS:default:return 29}switch(e){case i.USERS:return 1000432;case i.PINS_BUYABLE:return 1000433;case i.PINS:default:return 1000269}}},244347:function(e,t,o){o.d(t,{Z:()=>n});var i=o(378888),r=o(215295);function n(e){if(!e)return"";let{directory:t,queryKey:o}=(0,r.Z)((0,i.Gw)(e,["request_params"]));return t+"?"+Object.keys(o).sort().map(e=>`${e}=${o[e]}`).join("&")}},712064:function(e,t,o){o.d(t,{Ht:()=>a,Tb:()=>n});var i=o(244347),r=o(940280);function n({appliedProductFilters:e,appliedUnifiedFilters:t,autoCorrectionDisabled:o,filters:i,journeyDepth:r,query:n,rs:a,scope:l,selectedOneBarModules:s,selectedPinImgSig:c,sourceId:d,sourceModuleId:u,topPinIds:_,user:h}){let p=[e,i,r,n,a,l,s,c,d,u,t,_,h].map(e=>e??"").join(":");return o?"auto-correction-disabled:"+p:p}function a(e){let{appliedProductFilters:t,appliedUnifiedFilters:o,autoCorrectionDisabled:n,bubbleId:a,domains:l,filters:s,guidedSearchQuery:c,journeyDepth:d,pageSize:u,priceMax:_,priceMin:h,query:p,requestParams:f,rs:b,scope:x,selectedOneBarModules:m,selectedPinImgSig:g,seoDrawerEnabled:y,sourceId:v,sourceModuleId:w,sourceUrl:P,topPinId:j,topPinIds:A,user:S}=e;return{name:"BaseSearchResource",options:function({appliedUnifiedFilters:e=null,appliedProductFilters:t=null,autoCorrectionDisabled:o=!1,bubbleId:n=null,domains:a=null,filters:l=null,journeyDepth:s=null,pageSize:c=null,priceMax:d=null,priceMin:u=null,query:_="",requestParams:h=null,rs:p=r.i.DIRECT_NAVIGATION,scope:f="pins",selectedOneBarModules:b=null,selectedPinImgSig:x=null,seoDrawerEnabled:m=!1,sourceId:g=null,sourceModuleId:y=null,sourceUrl:v=null,topPinId:w=null,topPinIds:P=null,user:j}){return{applied_unified_filters:e,appliedProductFilters:t,article:n,auto_correction_disabled:o,corpus:x?"personalize":null,customized_rerank_type:x?"manas_graph_sage_only_wand_rewrite":null,domains:a,filters:l,journey_depth:s,page_size:c,price_max:d,price_min:u,query_pin_sigs:x,query:_,redux_normalize_feed:!0,request_params:h,rs:p,scope:f,selected_one_bar_modules:b,seoDrawerEnabled:m,source_id:g,source_module_id:y,source_url:(0,i.Z)(v),top_pin_id:w,top_pin_ids:P,user:j}}({appliedProductFilters:t,appliedUnifiedFilters:o,autoCorrectionDisabled:!!n,bubbleId:a,domains:l,filters:s,guidedSearchQuery:c,journeyDepth:d,pageSize:u,priceMax:_,priceMin:h,query:p,requestParams:f,rs:b,scope:x,selectedOneBarModules:m,selectedPinImgSig:g,seoDrawerEnabled:y,sourceId:v,sourceModuleId:w,sourceUrl:P,topPinId:j,topPinIds:A,user:S})}}},636921:function(e,t,o){o.d(t,{Z:()=>s});var i=o(20256),r=o(475498),n=o(525839),a=o(87853),l=o(785893);function s(){let{showToast:e}=(0,a.dI)(),t=(0,n.ZP)();return()=>{e(({hideToast:e})=>(0,l.jsx)(r.Z,{duration:5e3,onHide:e,text:t._('Blocked. To manage your block list, see social permissions in settings.', 'blockedAccounts.blockConfirmMessage', 'This message appears when a user block an account as confirmation message'),thumbnail:{icon:(0,l.jsx)(i.JO,{accessibilityLabel:t._('Success icon', 'blockedAccounts.blockConfirmMessage.icon', 'Icon displayed in the toast message as visual representation of a success message'),color:"default",icon:"check-circle-fill",size:12})}}))}}},250905:function(e,t,o){o.d(t,{HW:()=>l,MS:()=>_,i3:()=>h,o2:()=>u});var i=o(667294),r=o(729434),n=o(25837),a=o(785893);let l=n.fe+1,s={educationId:null,paddingRight:0,zIndex:l};function c(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:o}=t.payload;return{...e,educationId:o};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:i}=t.payload;return{...e,paddingRight:i};case"FOOTER_SET_Z_INDEX":let{zIndex:r}=t.payload;return{...e,zIndex:r};default:return e}}let{Provider:d,Consumer:u,get:_}=(0,r.Z)("footerContext");function h({children:e}){let[t,o]=(0,i.useReducer)(c,s),r=(0,i.useCallback)(e=>o({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),n=(0,i.useCallback)(e=>o({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),l=(0,i.useCallback)(e=>o({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,i.useMemo)(()=>({...t,setEducationId:n,setPaddingRight:r,setZIndex:l}),[t,n,r,l]);return(0,a.jsx)(d,{value:u,children:e})}},644024:function(e,t,o){o.d(t,{Z:()=>n});var i=o(20256),r=o(785893);function n(e){let{accessibilityLabel:t,accessibilityControls:o,accessibilityExpanded:n,bgColor:a,icon:l,iconColor:s,onClick:c,selected:d,size:u,tooltip:_}=e;return(0,r.jsx)(i.hU,{accessibilityControls:o,accessibilityExpanded:n,accessibilityLabel:t,bgColor:a??"transparent",icon:l,iconColor:s??"darkGray",onClick:c,selected:d,size:u??"lg",tooltip:_?{text:_}:void 0})}},821115:function(e,t,o){o.d(t,{Z:()=>l});var i=o(667294),r=o(20256),n=o(644024),a=o(785893);function l({bgColor:e,children:t,label:o,icon:l,iconColor:s,id:c,size:d,tooltip:u}){let _=(0,i.useRef)(null),[h,p]=(0,i.useState)(!1),f=()=>p(!1),b="actionBarMenuButton";return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(r.xu,{ref:_,"data-test-id":c,children:(0,a.jsx)(n.Z,{accessibilityControls:b,accessibilityExpanded:h,accessibilityLabel:o,bgColor:e,icon:l,iconColor:s,onClick:()=>p(!h),selected:h,size:d,tooltip:u})}),h&&(0,a.jsx)(r.Lt,{anchor:_.current,disableMobileUI:!0,id:b,idealDirection:"down",onDismiss:f,zIndex:new r.Ry(1e3),children:t({handleClose:f})})]})}},288910:function(e,t,o){o.d(t,{n:()=>u,v:()=>_});var i=o(667294),r=o(616550),n=o(729434),a=o(478135),l=o(647709),s=o(601811),c=o(785893);let{Provider:d,get:u}=(0,n.Z)("SearchParams"),_=({children:e,value:t})=>{let o=function(){let e=(0,l.HG)(),{search:t,pathname:o}=(0,r.TH)(),{scope:i}=(0,r.UO)(),n=!i&&o.includes("/_tools/shop");return(0,s.Z)({isDesktop:e,scope:n?a.lw.SHOP_TOOL:i,search:t})}(),n=(0,i.useMemo)(()=>({...o,...t}),[o,t]);return(0,c.jsx)(d,{value:n,children:e})}},601811:function(e,t,o){o.d(t,{Z:()=>n});var i=o(478135),r=o(378888);function n({isDesktop:e,scope:t,search:o}){let{auto_correction_disabled:n="",b_id:a,brands:l,category:s,colors:c,commerce_only:d="",cover_pin_sig:u,deb_d:_,domains:h,filters:p,guided_search_query:f,interest_id:b,journey_depth:x,on_sale:m,price_max:g,price_min:y,q:v,query_pin_sigs:w,request_params:P,rs:j,selected_one_bar_modules:A,source_id:S,source_module_id:I,style:C,tab:B,top_pin_ids:Z,user:z}=(0,r.mB)(o),T="true"===d.toLowerCase()&&"shop_tool"!==t?i.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===n.toLowerCase(),brands:l,bubbleId:a,category:s,colors:c,commerceOnly:"true"===d.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:p,debD:_,domains:h,guidedSearchQuery:f,interestId:b,journeyDepth:x?parseInt(x,10):void 0,onSale:m,personalizationPinSig:w,placementId:(0,i.Hd)(T,e),priceMax:g,priceMin:y,query:v,requestParams:P,rs:j,scope:T,selectedOneBarModules:A,sourceId:S,sourceModuleId:I,style:C,tab:B||"",topPinIds:Z,user:z,viewParameter:(0,i._R)(T),viewType:T===i.lw.SHOP_TOOL?1:2}}},483190:function(e,t,o){o.d(t,{ZP:()=>l,hR:()=>s});var i=o(525839),r=o(15667),n=o(533076),a=o(229249);function l(){return s((0,i.ZP)())}function s(e){let{countryFromIp:t,isAuthenticated:o,isBot:i}=(0,r.Ts)(),l=function(e){if(e){for(let[t,o]of Object.entries(n.a0))if(o?.COUNTRY_CODES&&o.COUNTRY_CODES.includes(e))return t}}(t||""),s=function(e=n.Wy.TEST,t){let o=(0,a.Z)({law:e,i18n:t}),i=o?.translations?.takedown?.inAppReporting;return i?{board:i?.board,profile:i?.profile,pin:i?.pin,comment:i?.comment}:{}}(l,e),c={lawImplementation:void 0,hasApplicableLawForCountry:!1,inAppReporting:{},createReportLink:()=>""};if(!(!o&&!i)||!l)return c;let d=l?n.a0[l]:void 0,u=d?.ENABLE_UNAUTH_IN_APP_REPORTING??!0;if(l&&u){let e=n.a0[l]?.BASE_FORM_URL||"";return{lawImplementation:l,hasApplicableLawForCountry:!0,inAppReporting:s,createReportLink:t=>{if(!e)return"";let o=new URL(e);return t?.pinId?(o.searchParams.set("pinId",t.pinId),t?.didItId&&o.searchParams.set("did_it_id",t.didItId),t?.commentId&&o.searchParams.set("commentId",t.commentId)):t?.username&&(o.searchParams.set("username",t.username),t?.boardName&&o.searchParams.set("boardName",t.boardName)),o.toString()}}}return c}},349417:function(e,t,o){o.d(t,{Fj:()=>s,JI:()=>c,aG:()=>l});var i=o(667294),r=o(785893);let n=(0,i.createContext)(),a=(0,i.createContext)();function l({children:e}){let[t,o]=(0,i.useState)(!1);return(0,r.jsx)(n,{value:t,children:(0,r.jsx)(a,{value:o,children:e})})}function s(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function c(){let e=(0,i.useContext)(a);if(void 0===e)throw Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},196491:function(e,t,o){o.d(t,{V:()=>c,Z:()=>s});var i=o(686319),r=o(74105),n=o(548286),a=o(189976),l=o(696323);function s(e,t,o){return s=>(0,i.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:o?{orbac_subject_id:o}:{}}).then(()=>Promise.all([s((0,n.eo)({boardId:e})),s((0,r.Z)(t,"pin_count")),s((0,a.N8)(l.Z.BOARD_SECTIONS,t))]))}let c=async(e,t,o,s)=>{await (0,i.Z)({url:`/v3/boards/${t}/merge/${o}/`,method:"POST",data:s?{orbac_subject_id:s}:{}}),e((0,n.eo)({boardId:t})),(0,r.Z)(o,"pin_count"),e((0,a.N8)(l.Z.BOARD_SECTIONS,o))}},812577:function(e,t,o){o.d(t,{I:()=>l,Z:()=>a});var i=o(886981),r=o(947810);let n=({boardId:e,ownerUsername:t,ownerName:o,ownerImgSrc:n})=>{let a=(0,r.Z)(),{data:l,isLoaded:s}=(0,i.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...a?{orbac_subject_id:a}:{}}}),c=[{name:o,src:n,href:`/${t}/`,isDim:!1}];return s&&l&&l.length>0&&l.forEach(e=>{c.push({name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),c},a=n;function l({children:e,...t}){return e(n(t))}},664973:function(e,t,o){o.d(t,{Z:()=>g});var i=o(667294),r=o(20256),n=o(980787),a=o(525839),l=o(340323),s=o(785893);function c({anchor:e,hideAddSectionTooltip:t}){let o=(0,a.ZP)();return(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(r.pl,{anchor:e,idealDirection:"down",message:o._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section'),onDismiss:t})})})}var d=o(865540),u=o(274320),_=o(913852);function h({anchor:e,idealDirection:t,onAddOrEditDate:o,onAddSection:n,onClose:l,onCreateBoard:c,onCreatePin:h,onCreateStoryPin:p,surface:f,isWithinFixedContainer:b,id:x}){let m=(0,a.ZP)(),g=(0,d.Z)(!0),{checkExperiment:y}=(0,u.ru)(),v=["profileBoards","profilePins"].includes(f),w=v&&y("web_curation_board_create_entry_points").anyEnabled,P=(0,i.useMemo)(()=>({pin:m._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:m._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'),board:m._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),section:m._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:m._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),new:m._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')}),[m]),j=[!g&&(0,s.jsx)(r.Lt.Item,{dataTestId:"Create Pin",onSelect:()=>{h(),l()},option:{label:P.pin,value:P.pin}},"actions-create-0"),p&&(0,s.jsx)(r.Lt.Item,{dataTestId:"Create Story Pin",onSelect:()=>{p(),l()},option:{label:g?P.pin:P.rename,value:g?P.pin:P.rename}},"actions-create-1"),v&&c&&(0,s.jsx)(r.Lt.Item,{dataTestId:"Create board",onSelect:()=>{c(),l()},option:{label:P.board,value:P.board}},"actions-create-2")].filter(Boolean);return(0,s.jsxs)(r.Lt,{anchor:e,id:x||"board_actions",idealDirection:t||"down",isWithinFixedContainer:b,onDismiss:l,zIndex:_.PJ,children:[w?j:(0,s.jsx)(r.Lt.Section,{label:m._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:j}),"board"===f&&(0,s.jsx)(r.Lt.Section,{label:m._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[n&&(0,s.jsx)(r.Lt.Item,{dataTestId:"addSection",onSelect:()=>{n(),l()},option:{label:P.section,value:P.section}},"actions-add-1"),!!o&&(0,s.jsx)(r.Lt.Item,{onSelect:()=>{o(),l()},option:{label:P.date,value:P.date}},"actions-add-2")].filter(Boolean)})]})}var p=o(839626),f=o(349417);function b({anchor:e}){let t=(0,f.JI)();return(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(p.Qp,{anchor:e,experienceIds:[503447],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>{t(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function x({anchor:e}){return(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(p.Qp,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var m=o(125675);function g({children:e,idealDirection:t,onAddOrEditDate:o,onAddSection:l,onCreateBoard:d,onCreatePin:u,onCreateStoryPin:_,onOpen:p=()=>{},surface:f,isWithinFixedContainer:g}){let y,v=(0,a.ZP)(),{showCreateSectionTooltip:w,setShowCreateSectionTooltip:P}=(0,m.K)()??{},{logContextEvent:j}=(0,n.u)(),A=()=>P(!1),S=(0,i.useRef)(null),[I,C]=(0,i.useState)(!1),B=()=>C(!1),Z=()=>{I?B():(p(),w&&A(),C(!0),j({component:13056,element:1208,event_type:101,view_parameter:3106,view_type:4}))},z={board:v._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:v._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:v._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:v._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},T="board_actions",O=e&&e({active:I,openFlyout:Z,accessibilityControls:T,accessibilityLabel:z[f],accessibilityExpanded:I})||(0,s.jsx)(r.hU,{accessibilityControls:T,accessibilityLabel:z[f],icon:"add",iconColor:"gray",onClick:"section"===f?u:Z,size:"lg"});return!I&&"board"===f&&(w?y="addSectionTooltip":o&&(y="planningActionsExperience")),I||"profileBoards"!==f||(y="createBoardTooltip"),(0,s.jsxs)(r.xu,{"data-test-id":"boardActionsButton",children:[(0,s.jsx)(r.xu,{ref:S,children:O}),I&&(0,s.jsx)(h,{anchor:S.current,id:T,idealDirection:t,isWithinFixedContainer:!!g,onAddOrEditDate:o,onAddSection:l,onClose:B,onCreateBoard:d,onCreatePin:u,onCreateStoryPin:_,surface:f}),"addSectionTooltip"===y&&(0,s.jsx)(c,{anchor:S.current,hideAddSectionTooltip:A}),"planningActionsExperience"===y&&(0,s.jsx)(x,{anchor:S.current}),"createBoardTooltip"===y&&(0,s.jsx)(b,{anchor:S.current})]})}},31987:function(e,t,o){o.d(t,{Z:()=>te});var i=o(667294),r=o(581722),n=o(616550),a=o(20256),l=o(138),s=o(865540),c=o(704088),d=o(729082),u=o(782881),_=o(980787),h=o(679422),p=o(839626),f=o(821342),b=o(390843),x=o(123998),m=o(87853),g=o(341742),y=o(448505),v=o(7872),w=o(551651),P=o(104659),j=o(369416),A=o(785893);function S({layoutType:e,thumbnails:t}){switch(e){case 4:let o=t&&t[0]&&t[0]["236x"];return(0,A.jsx)(a.zd,{height:80,rounding:4,width:80,children:o?(0,A.jsx)(a.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:o.height,naturalWidth:o.width,src:o.url}):(0,A.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,A.jsx)(a.xu,{color:"secondary",height:80,width:39.4}),(0,A.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:1.2}},children:[(0,A.jsx)(a.xu,{color:"secondary",height:39.4,width:39.4}),(0,A.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return(0,A.jsx)(a.zd,{height:80,rounding:4,width:80,children:(0,A.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[0,1].map(e=>{let o=t&&t?.length>0?t[e]:null;return(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1.2}},children:(0,A.jsx)(a.xu,{height:80,width:39.4,children:o?.["236x"]?.url&&(0,A.jsx)(a.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:80,naturalWidth:39.4,src:o["236x"].url})})},e)})})});default:return null}}let I=[502043,502085],C=`
.BoardActionUpsellCard {
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-name: slideUp;
  animation-timing-function: ease-out;
  background-color: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: between;
  left: 50%;
  margin-left: -210px; // half of width
  padding: 24px;
  position: fixed;
  transition: bottom 1s;
  width: 420px;
}

@keyframes slideUp {
  from {
    bottom: -200px;
  }

  to {
    bottom: 14px;
  }
}
`;function B({boardId:e,displayData:t,complete:o,dismiss:r,handleShowArchiveConfirmation:n}){let{logContextEvent:l}=(0,_.u)(),[s,c]=(0,i.useState)(null);(0,i.useEffect)(()=>()=>clearTimeout(s),[s]);let d={2:n};return(0,i.useEffect)(()=>{s||c(setTimeout(()=>{r()},2e4)),l({event_type:13,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}})},[]),(0,A.jsxs)(a.mh,{children:[(0,A.jsx)(j.Z,{unsafeCSS:C}),(0,A.jsxs)("div",{className:"BoardActionUpsellCard",children:[(0,A.jsx)(a.xu,{flex:"none",children:(0,A.jsx)(S,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})}),(0,A.jsxs)(a.xu,{marginStart:4,children:[(0,A.jsx)(a.xv,{inline:!0,children:(0,A.jsx)(a.X6,{size:"400",children:t.text})}),(0,A.jsxs)(a.xu,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[(0,A.jsx)(a.zx,{color:"gray",onClick:()=>{l({event_type:123,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),r()},text:t.dismiss_button.text}),(0,A.jsx)(a.xu,{paddingX:2,children:(0,A.jsx)(a.zx,{color:"red",onClick:()=>{d[t.complete_button.action_type](),l({event_type:101,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),o()},text:t.complete_button.text})})]})]})]})]})}function Z({boardId:e,handleShowArchiveConfirmation:t}){return(0,A.jsx)(p.a3,{eligibleIds:I,placementId:18,children:({experience:o,complete:i,dismiss:r})=>(0,A.jsx)(B,{boardId:e,complete:i,dismiss:r,displayData:o.display_data,handleShowArchiveConfirmation:t})})}var z=o(801619),T=o(548286),O=o(830235),E=o(509579),k=o(64496),D=o(476785),F=o(982166),N=o(525839),R=o(302148);function L(){let e=(0,N.ZP)(),t=(0,A.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingX:8,children:(0,A.jsx)(a.xv,{children:(0,R.nk)(e._('Add a {{ star }} to show collaborators your favorite Pins', 'groupBoardFavoriteEducationModal.text', 'Text for modal informing users of changes from group board reactions to board favorites'),{star:(0,A.jsx)(a.xu,{display:"inlineBlock",children:(0,A.jsx)(a.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.bodyFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:12})})})})});return(0,A.jsx)(p.a3,{eligibleIds:[503077],placementId:18,children:({complete:o,dismiss:i})=>(0,A.jsx)(F.ZP,{accessibilityModalLabel:e._('Group board reaction', 'groupBoardFavoriteEducationModal.modalAccessibilityLabel', 'Accessiblility label for modal used to educate group board collaborators about favorite button'),footer:(0,A.jsx)(a.kC,{justifyContent:"end",children:(0,A.jsx)(a.zx,{onClick:()=>o(),text:e._('Got it', 'groupBoardFavoriteEducationModal.doneButton', 'Done button for modal')})}),heading:(0,A.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[(0,A.jsx)(a.xu,{maxWidth:400,children:(0,A.jsx)(a.X6,{align:"center",size:"600",children:(0,R.nk)(e._('{{ heart }}  is now  {{ star }}', 'groupBoardFavoriteEducationModal.heading', 'Heading for modal informing users of changes from group board reactions to board favorites'),{heart:(0,A.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,A.jsx)(a.JO,{accessibilityLabel:e._('Heart icon', 'groupBoardFavoriteEducationModal.headingHeartIcon', 'Accessibility label for heart icon'),color:"default",icon:"heart",size:16})}),star:(0,A.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,A.jsx)(a.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.headingFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:16})})})})}),(0,A.jsx)(a.xu,{padding:6,position:"absolute",right:!0,top:!0,children:(0,A.jsx)(a.hU,{accessibilityLabel:e._('Close', 'groupBoardFavoriteEducationModal.closeModalButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:i,size:"md"})})]}),onDismiss:i,size:"sm",children:t})})}var M=o(493812),U=o(189976),H=o(696323),G=o(154237),$=o(467925),W=o(352228),Y=o(21845),V=o(86357);function X({board:e,currentFilter:t,eligibleFilters:o,isOwnBoard:r,surface:n,setCurrentFilter:l,setTitle:s}){let c=(0,M.WG)(),{logContextEvent:d}=(0,_.u)(),u=(0,N.ZP)(),h=(0,i.useRef)(null),p=c?.boardPinDensity,[f,b]=(0,i.useState)(!1),x=()=>{b(!1)},m=e=>{(0,Y.Z)({boardDensity:e,component:"board"===n?13183:13187,viewType:"board"===n?5:164},d),(0,V.Z)({density:e,surface:"board"}),c?.setBoardPinDensity(e)},g=[],y={[W.c]:12111,[W.A]:12227};if(o){let i={items:o.map(o=>({isSelected:o.pin_type===t,onClick:()=>{d({event_type:101,component:13475,element:y[o.pin_type??-1],object_id_str:e.id,view_type:5,view_parameter:r?3069:3070}),l(o.pin_type??-1),s(o.pin_type===W.c?null:o.text),x()},text:o.text??""})),label:u._('Filter by type', 'board.experimentalBoardActionBar.filterOptions', 'List of board filter options')};g.push(i)}return g.push({items:[{isSelected:"regular"===p,onClick:()=>{x(),m("regular")},text:u._('Default', 'BoardHeader.ActionBar.DensityOption-Default', 'Clickable text to set board view density to default mode')},{isSelected:"dense"===p,onClick:()=>{x(),m("dense")},text:u._('Compact', 'BoardHeader.ActionBar.DensityOption-Compact', 'Clickable text to set board view density to compact mode')}],label:u._('View options', 'BoardHeader.ActionBar.ViewOptions', 'List of board view options')}),(0,A.jsxs)(i.Fragment,{children:[(0,A.jsx)(a.xu,{ref:h,children:(0,A.jsx)(a.hU,{accessibilityLabel:u._('Board Filter', 'board.experimentalBoardActionBar.boardFilter', 'Filter to select specific Pins on board'),icon:"filter",iconColor:"darkGray",onClick:()=>{d({event_type:101,element:12020,object_id_str:e.id,view_type:5,view_parameter:r?3069:3070}),b(!f)},selected:f,size:"lg"})}),f&&(0,A.jsx)(a.Lt,{anchor:h.current,disableMobileUI:!0,id:"filter_board",onDismiss:x,children:g.map(({items:e,label:t})=>(0,A.jsx)(a.Lt.Section,{label:t,children:e.map(({isSelected:e,onClick:t,text:o})=>(0,A.jsx)(a.Lt.Item,{onSelect:t,option:{label:o,value:o},selected:e?{label:o,value:o}:null},o))},t))})]})}let q=(0,p.RL)(1000332)(function({board:e,currentFilter:t,isHidePinCount:o,isOwnBoard:r,paddingX:n=8,section:l,setCurrentFilter:s,showExperienceTooltip:c}){let d=(0,N.ZP)(),{eligible_pin_type_filters:u}=l??e,[_,h]=(0,i.useState)(null),f=(0,i.useRef)(null),b=l?l.pin_count:e.pin_count,{experimentalGutter:x}=(0,$.Z)();return(0,A.jsxs)(i.Fragment,{children:[(0,A.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:x?{paddingLeft:x,paddingRight:x}:{}},direction:"row",display:"flex",justifyContent:o?"end":"between",paddingX:n,children:[!o&&(0,A.jsx)(a.xu,{flex:"grow",children:(0,A.jsx)(a.X6,{accessibilityLevel:2,size:"400",children:t>0&&_?_:(0,R.nk)(d.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', b ?? 0, 'board.experimentalBoardActionBar.pinCount', 'Number of Pins on board or section'),{pinCount:b})})}),(0,A.jsx)(a.xu,{ref:f,children:(0,A.jsx)(X,{board:e,currentFilter:t,eligibleFilters:u?.filter(e=>5!==e.pin_type),isOwnBoard:r,setCurrentFilter:s,setTitle:h,surface:l?"section":"board"})})]}),c&&f&&(0,A.jsx)(a.mh,{children:(0,A.jsx)(p.a3,{eligibleIds:[502974],placementId:1000332,children:({dismiss:e,experience:{display_data:t}})=>(f&&f.current?.scrollIntoView(!1),(0,A.jsx)(a.pl,{anchor:f.current,idealDirection:"down",message:t.text,onDismiss:e}))})})]})});var J=o(238641),K=o(317884),Q=o(283550),ee=o(433110),et=o(305434),eo=o(227129),ei=o(371714);let er=()=>{};function en({board:e,currentView:t,handleContentViewChange:o,handleSetCurrentModal:n,handleShowEditSectionModal:l,handleShowMergeSectionsConfirmationModal:s,isBoardPreviewMode:c,isHidePinCount:d,isOwnerOrCollaborator:u,isOwnBoard:_,isPinGridSorted:h,refreshBoardData:p=er,refreshSectionData:b=er,section:x}){let m=(0,f.Z)(),g=(0,K.Z)({board:e,viewer:m}),y=(e.access||[]).includes("write"),v=(0,M.WG)()?.boardPinDensity,w=(0,eo.Z)(x?(0,et.Z)(e,x):""),[P,j]=(0,i.useState)(W.c),[S,I]=(0,i.useState)(!1),C=(0,r.I0)();(0,i.useEffect)(()=>()=>{P!==W.c&&(x?C((0,U.N8)(H.Z.BOARD_SECTION_PINS,x.id??"")):C((0,U.N8)(H.Z.BOARDFEED,e.id)))},[e,P,C,x]);let B=(0,i.useCallback)(()=>{P>0&&(j(W.c),x?b():p())},[P,b,p,x]),Z=(0,i.useMemo)(()=>x?{currentFilter:P,eligibleFilters:x.eligible_pin_type_filters,refreshData:b,sectionId:x.id}:{currentFilter:P,eligibleFilters:e.eligible_pin_type_filters,refreshData:p,setShowExperienceTooltip:I},[x,e.eligible_pin_type_filters,P,p,b]);return x?(0,A.jsx)(J.k,{value:Z,children:(0,A.jsxs)(i.Fragment,{children:[u&&!c&&(0,A.jsx)(q,{board:e,currentFilter:P,isOwnBoard:_,section:x,setCurrentFilter:j,showExperienceTooltip:!1}),(0,A.jsx)(ee.Z,{board:e,boardSectionId:x.id,currentFilter:P,denseViewSelected:y&&"dense"===v,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:_,isOwnerOrCollaborator:u,refreshFilteredFeed:B,renderFooterStory:t=>!e.archived_by_me_at&&u&&(0,A.jsx)(a.xu,{marginBottom:12,children:(0,A.jsx)(Q.Z,{children:(0,A.jsx)(ei.Z,{collection:x,storyId:t,url:w})})}),viewer:m,viewParameter:g})]})}):(0,A.jsx)(J.k,{value:Z,children:(0,A.jsxs)(i.Fragment,{children:[u&&!c&&(0,A.jsx)(D.Z,{isGetServerRenderGridHeaderStyles:!0,children:(0,A.jsx)(q,{board:e,currentFilter:P,isHidePinCount:d,isOwnBoard:_,paddingX:0,setCurrentFilter:j,showExperienceTooltip:S})}),(0,A.jsx)(G.Z,{actions:{onBoardOrganizeClick:er},board:e,currentFilter:P,currentView:t,enableReordering:u,isBoardPreviewMode:c,isOwnBoard:_,isPinGridSorted:h,onContentViewChange:o,onShowEditSectionModal:l,onShowMergeSectionsConfirmationModal:(e,t)=>{n(E.s.sectionMergeConfirm),s(e,t)},refreshFilteredFeed:B,viewParameter:g}),u&&(0,A.jsx)(L,{})]})})}var ea=o(947810),el=o(306274),es=o(211119),ec=o(822377),ed=o(316658),eu=o(456202),e_=o(507187),eh=o(95763);function ep({onDismiss:e,boardId:t}){let{showErrorToast:o,showSuccessToast:r}=(0,eh.Z)(),[n,a]=(0,i.useState)(null);(0,g.Z)(()=>{(async()=>{try{let e=await (0,eu.Z)(t);e?a(e):o()}catch{o()}})()});let l=async({reasonKey:i})=>{try{await (0,e_.Z)(t,{reason:i}),e(),r()}catch{e(),o()}};return(0,A.jsx)(ed.ZP,{handleSubmitReport:l,objectToReport:{type:"board",id:t},onDismiss:e,reportingReasons:n})}var ef=o(628710),eb=o(886981),ex=o(32250);function em({boardId:e,ownerUsername:t,ownerName:o,ownerImgSrc:i,ownerIsAdsOnlyProfile:r,ownerAdsOnlyProfileSite:n,children:a}){let{data:l,isLoaded:s}=(0,eb.Z)({name:"ApiResource",options:{url:(0,ex.Z)({boardId:e})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0}),c=[{name:o,src:i,href:`/${t}/`,is_ads_only_profile:r,ads_only_profile_site:n}];return s&&l&&l.length>0&&l.forEach(e=>{c.push((0,ef.Z)(e))}),a(c)}var eg=o(812577),ey=o(521009),ev=o(821115),ew=o(475498);function eP(e){let{boardImage:t,boardName:o,boardUrl:i,onHide:r}=e,n=(0,N.ZP)(),l=(0,A.jsx)(a.xv,{children:(0,R.nk)(n._('Now following {{ boardName }}', 'BoardFollowButton.FollowingToast.nowFollowing', 'Toast text displayed when a user follows a board'),{boardName:(0,A.jsx)(a.xv,{weight:"bold",children:o},"boardName")})});return(0,A.jsx)(ew.Z,{href:i,imageUrl:t,onHide:r,text:l})}var ej=o(207691),eA=o(854167);function eS(e){let t=(0,N.ZP)(),{bgColor:o,board:n,canCreatePincode:l,canEdit:s,handleCreatePincode:c,handleOpenSendBoardFlyout:d,onEditClick:u,onReportClick:_,showFollow:p,showShare:f,size:b}=e,{id:x,name:g,url:y,image_cover_url:v}=n,[w,P]=(0,i.useState)(n.followed_by_me),{showOneToast:j}=(0,m.dI)(),S=(0,r.I0)(),I=(0,h.Z)(),C=(0,ey.Z)(),B=({event:e})=>{if(I){e.stopPropagation(),I();return}w?(S((0,ej.f)(x,C)),P(!1)):(S((0,ej.Z)(x,C)),P(!0),j(({hideToast:e})=>(0,A.jsx)(eP,{boardImage:v??"",boardName:g,boardUrl:y,onHide:e})))},Z={edit:t._('Edit', 'BoardPage.ActionBar.PartnerEdit', 'Clickable text to enter board editing mode'),create_pincode:t._('Create Pincode', 'BoardPage.ActionBar.PartnerPincode', 'Clickable text to trigger Pincode modal'),share:t._('Share', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to share board'),unfollow:t._('Unfollow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to unfollow board'),follow:t._('Follow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to follow board'),report:t._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user')};return(0,A.jsx)(ev.Z,{bgColor:o,icon:"ellipsis",id:"more-board-options",label:t._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),size:b,children:()=>(0,A.jsxs)(a.Lt.Section,{label:t._('Board options', 'profileHeader.actionBar.overflow.header', 'Accessibility label header for board options flyout'),children:[s&&u&&(0,A.jsx)(a.Lt.Item,{onSelect:()=>{u()},option:{label:Z.edit,value:Z.edit}}),s&&l&&c&&(0,A.jsx)(a.Lt.Item,{onSelect:()=>{c()},option:{label:Z.create_pincode,value:Z.create_pincode}}),f&&d&&(0,A.jsx)(eA.Z,{board:n,onCreatePincode:c,onOpen:d,children:({onClick:e})=>(0,A.jsx)(a.Lt.Item,{onSelect:e,option:{label:Z.share,value:Z.share}})}),p&&(0,A.jsx)(i.Fragment,{children:w?(0,A.jsx)(a.Lt.Item,{onSelect:B,option:{label:Z.unfollow,value:Z.unfollow}}):(0,A.jsx)(a.Lt.Item,{onSelect:B,option:{label:Z.follow,value:Z.follow}})}),(0,A.jsx)(a.Lt.Item,{onSelect:_,option:{label:Z.report,value:Z.report}})]})})}var eI=o(600693),eC=o(918920),eB=o(378888),eZ=o(575108),ez=o(670622),eT=o(72918),eO=o(647709),eE=o(744862),ek=o(417245);function eD(e){let{faces:t,maxFaces:o,numFaces:i,onOverflowClick:r,shouldNavigate:n=!0}=e,l=[...t].reverse(),s=t.length>o?l.slice(0,o+1):l,c=i-o,d=(0,f.Z)(),u=d.isAuth?d?.avatar_color_index:void 0;return(0,A.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",position:"relative",children:s.map((e,t)=>{let{name:o,src:i,href:l,isDim:s}=e;if(0===t&&c>0)return(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},height:44,marginStart:-2,overflow:"hidden",rounding:"circle",width:44,children:i&&(0,A.jsx)(a.Ee,{alt:o,fit:"contain",naturalHeight:44,naturalWidth:44,src:i,children:(0,A.jsx)(a.iP,{fullHeight:!0,fullWidth:!0,onTap:r,rounding:"circle",children:(0,A.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,A.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:c>99?"99+":c})})})})},t);{let e=(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:s?.5:1}},marginStart:-2,children:(0,A.jsx)(eE.qE,{color:u,name:o,outline:!0,size:"sm",src:i})},t);return n?(0,A.jsx)(a.Tg,{href:l,rounding:"circle",children:e},t):e}})})}function eF({invitedByUser:e,isAccepted:t,onDecline:o,onAccept:i,createdAt:r}){let n=(0,N.ZP)(),l=(0,f.Z)(),s=l.isAuth?l?.avatar_color_index:void 0,{first_name:c,full_name:d,username:u,image_medium_url:_}=e,h=c||d||n._('others', 'Default text when board colalborator name is not known.', 'Default text when board colalborator name is not known.');return(0,A.jsx)(a.W2,{children:t?(0,A.jsxs)(a.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingX:5,paddingY:3,rounding:2,width:"100%",children:[(0,A.jsx)(eD,{faces:[{href:l.isAuth?`/${l.username}`:"",name:l.isAuth?l.fullName:"",src:l.isAuth?l.imageMediumUrl:""},{href:`/${u}`,name:d,src:_}],maxFaces:2,numFaces:2}),(0,A.jsxs)(a.xu,{marginStart:2,children:[(0,A.jsx)(a.xv,{weight:"bold",children:n._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,A.jsx)(a.xv,{children:(0,ek.Z)(n._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:h})})]})]}):(0,A.jsx)(a.xu,{borderStyle:"shadow",color:"default",marginEnd:-1,marginStart:-1,paddingX:6,paddingY:6,rounding:6,width:540,children:(0,A.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,A.jsx)(a.xu,{marginEnd:2,children:(0,A.jsx)(eE.qE,{color:s,name:d,size:"md",src:_})}),(0,A.jsx)(a.xu,{flex:"grow",children:(0,A.jsx)(a.xv,{color:"default",inline:!0,children:(0,R.nk)(n._('{{ user }} invited you to collaborate on this board {{ createdAt }}', 'web.boardView.inviteCard.text', 'Label used to indicate a Pinner has invited you to join a board'),{user:(0,A.jsx)(a.xv,{color:"default",inline:!0,weight:"bold",children:(0,A.jsx)(a.rU,{display:"inlineBlock",href:`/${u}`,underline:"hover",children:d})},u),createdAt:(0,A.jsx)(a.xv,{color:"subtle",inline:!0,children:r})})})}),(0,A.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:1,children:[(0,A.jsx)(a.xu,{display:"inlineBlock",marginEnd:2,children:(0,A.jsx)(a.zx,{color:"gray",onClick:o,size:"lg",text:n._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,A.jsx)(a.zx,{color:"red",onClick:i,size:"lg",text:n._('Accept', 'Text to accept a board collaboration invite', 'Text to accept a board collaboration invite')})]})]})})})}var eN=o(415602);function eR({boardId:e,inviteCode:t,shouldAutoAcceptBoardInvite:o,userInviterId:n}){let l=(0,N.ZP)(),s=(0,m.dI)(),c=(0,ez.Z)(),[d,u]=(0,i.useState)(!1),[_,h]=(0,i.useState)(null),p=(0,eO.HG)(),b=(0,f.Z)(),x=(0,r.I0)(),g={board_id:e,field_set_key:"boardBanner",invite_code:t,invited_user_id:b.isAuth&&b.id},y=(0,eN.RZ)(),v=(0,eN.CQ)();(0,i.useEffect)(()=>{n&&o&&(y(e).then(()=>{x((0,eN.A8)(e)),p&&s.showToast(({hideToast:e})=>(0,A.jsx)(ew.Z,{duration:5e3,onHide:e,text:l._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')}))}),eZ.Z.create("UserResource",{field_set_key:"grid_item",user_id:n}).callGet().then(({resource_response:e})=>{let t=e&&e.data;t&&h(t)}))},[o,n]);let{data:w}=(0,eb.Z)({name:"BoardInviteResource",options:g}),P=!!(n&&o)||d,j=!["new","contact_request_not_approved"].includes(w?.status||""),S=t=>{(t?y(e):v(e,g.invited_user_id||"")).then(()=>{t&&(x((0,eN.A8)(e)),u(!0),s.showToast(({hideToast:e})=>(0,A.jsx)(ew.Z,{duration:5e3,onHide:e,text:l._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')}))),x((0,eT.jB)("BoardInviteResource",g))})},I=w?.invited_by_user||_,C=P?p:j;return!I||C?null:(0,A.jsx)(a.xu,{marginTop:3,paddingY:0,children:(0,A.jsx)(eF,{createdAt:c(w?.created_at||"",!0),invitedByUser:I,isAccepted:P,onAccept:()=>S(!0),onDecline:()=>S(!1)})})}function eL({boardId:e}){let t=(0,n.TH)(),o=t&&t.search?(0,eB.mB)(t.search):{},i=o.invite_code,r=o.accept_invite,a=o.inviter_user_id;return(0,A.jsx)(eR,{boardId:e,inviteCode:i,shouldAutoAcceptBoardInvite:r,userInviterId:a})}let eM=function(e){let{board:t}=e,{id:o,owner:r,sensitivity:n}=t,l=(0,f.Z)(),s=l.isAuth?l.id:"",c=r?.id===s,d=(0,el.Uz)(n);return(0,A.jsxs)(i.Fragment,{children:[!d&&(0,A.jsx)(eL,{boardId:o}),d&&(0,es.ZP)(n).hasNotices&&n&&(0,A.jsx)(a.xu,{paddingY:10,children:(0,A.jsx)(ec.Z,{boardId:o,notices:n.notices,sensitivity:n,viewParameter:c?3069:3070,viewType:5})})]})};var eU=o(774354),eH=o(840321);function eG(e){let{board:t,collaborators:o,handleCreatePincode:i,handleShowCollabAndPermissionsModal:r,isBoardPreviewMode:n,overFlowActionsButton:l,showPulsar:s,setBoardPreviewMode:c,userBlocked:d}=e,{access:_,archived_by_me_at:h,collaborator_requests_enabled:p,name:b,owner:x,privacy:m,should_show_board_collaborators:g}=t,{nonDisplayedCollaboratorCount:w}=(0,eH.Z)({boardCollaboratorCount:t.collaborator_count,collaborators:o,showOnlyOwner:!g,ownerName:x?.full_name}),P=(0,f.Z)(),j=(0,y.Z)(),S=(0,v.D3)(P,t.owner?.id||"",j),I=_&&_.includes("write")||S,C=(0,u.Z)(t.collaborated_by_me,t.owner?.id,P)||S,B=m===eC.ZP.BoardPrivacy.SECRET,Z=!I&&!d&&p&&!(P.isAuth&&P.isPrivateProfile);return(0,A.jsxs)(a.xu,{"data-test-id":"board-header-with-image-container",direction:"column",display:"flex",paddingY:8,children:[(0,A.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,A.jsx)(a.xu,{maxWidth:800,children:(0,A.jsx)(eM,{board:t})})}),(0,A.jsx)(a.xu,{marginTop:4,paddingX:2,children:(0,A.jsx)(eU.Z,{board:t,boardName:b??"",collaborators:o,description:t.description??"",handleShowCollabAndPermissionsModal:r,isArchived:!!h,isBoardPreviewMode:n,isOwnerOrCollaborator:C,isSecret:B,nonDisplayedCollaboratorCount:w,onCreatePincode:i,overFlowActionsButton:l,pinCount:t.pin_count??0,sectionCount:t.section_count??0,setBoardPreviewMode:c,showJoinButton:!!Z,showPulsar:s})})]})}var e$=o(875863),eW=o(271910);let eY=e=>{let{boardName:t,boardUrl:o,children:i,description:r,overFlowActionsButton:n,sectionName:l,ref:s}=e;return(0,A.jsxs)(a.xu,{ref:s,display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,width:"100%",children:[(0,A.jsxs)(a.kC,{alignItems:"stretch",direction:"column",gap:2,justifyContent:"start",maxWidth:488,children:[(0,A.jsx)(e$.Z,{children:(0,A.jsx)(a.xu,{marginTop:4,children:(0,A.jsx)(eW.q,{children:({active:e,focused:i,hovered:r,onBlur:n,onFocus:l,onMouseEnter:s,onMouseLeave:c})=>(0,A.jsx)(a.Tg,{href:o??"",onBlur:n,onFocus:l,onMouseEnter:s,onMouseLeave:c,children:(0,A.jsx)(a.X6,{align:"center",color:e||i||r?"default":"subtle",children:t})})})})}),(0,A.jsx)(e$.Z,{children:(0,A.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,maxWidth:"100%",children:[(0,A.jsx)(a.X6,{align:"center",lineClamp:1,children:l}),!!n&&(0,A.jsx)(a.xu,{paddingX:1,children:n})]})}),!!r&&(0,A.jsx)(e$.Z,{children:(0,A.jsx)(a.xv,{align:"center",children:r})})]}),i&&(0,A.jsx)(a.xu,{marginTop:8,children:i})]})};function eV({board:e,handleBoardEditClick:t,handleFollowersClick:o,handleSectionEditClick:r,handleShowBoardArchiveConfirmation:n,handleShowBoardUnarchiveConfirmation:l,handleShowCollabAndPermissionsModal:s,handleShowCreatePincodeModal:c,handleShowMergeModal:_,isBoardPreviewMode:h,section:p,showPulsar:b,setBoardPreviewMode:x}){let m=(0,f.Z)(),g=(0,y.Z)(),w=(0,ea.Z)(),P=w&&(0,d.Z)(e.privacy)?`?orbac_subject_id=${w}`:"",{name:j,sensitivity:S,access:I,url:C=""}=e,[B,Z]=(0,i.useState)(!1),z=(0,v.D3)(m,e.owner?.id||"",g),T=I&&I.includes("write")||z?eg.I:em,O=(0,el.Uz)(S),E=(0,u.Z)(e.collaborated_by_me,e.owner?.id,m)||z,k=null;k=E?(0,A.jsx)(eI.Z,{bgColor:p?"lightGray":"white",board:e,excludeShareOption:!0,onArchiveClick:n,onCreatePincode:c,onEditBoardClick:t,onEditSectionClick:r,onMergeClick:_,onUnarchiveClick:l,showCreatePinCodeOption:m.isAuth&&m.isPartner,size:"lg",surface:p?"section":"board"}):(0,A.jsx)(eS,{bgColor:"white",board:e,onReportClick:()=>Z(!0),showFollow:!0,size:"lg"});let D=O&&(0,es.ZP)(S).hasNotices;return(0,A.jsxs)(i.Fragment,{children:[B&&(0,A.jsx)(ep,{boardId:e.id,onDismiss:()=>Z(!1)}),p?(0,A.jsxs)(i.Fragment,{children:[D&&(0,A.jsx)(e$.Z,{children:(0,A.jsx)(a.xu,{maxWidth:800,paddingY:10,children:S&&(0,A.jsx)(ec.Z,{boardId:e.id,boardSectionId:p.id,notices:S.notices,sensitivity:S,viewParameter:z?3069:3070,viewType:5})})}),(0,A.jsx)(eY,{boardName:j,boardUrl:`${C}${P}`,description:p.description??"",overFlowActionsButton:k,sectionName:p.title??""})]}):(0,A.jsx)(a.xu,{"data-test-id":"board-header",paddingX:2,children:(0,A.jsx)(T,{boardId:e.id,ownerAdsOnlyProfileSite:e.owner?.ads_only_profile_site||"",ownerImgSrc:e.owner?.image_key||e.owner?.image_medium_url||e.owner?.image_small_url||"",ownerIsAdsOnlyProfile:e.owner?.is_ads_only_profile||!1,ownerName:e.owner?.full_name||"",ownerUsername:e.owner?.username||"",children:t=>(0,A.jsx)(eG,{board:e,collaborators:t,handleCreatePincode:c,handleShowCollabAndPermissionsModal:s,isBoardPreviewMode:h,onFollowersClick:o,overFlowActionsButton:k,setBoardPreviewMode:x,showPulsar:b,userBlocked:!!e.owner?.blocked_by_me})})})]})}eY.displayName="SectionHeader";var eX=o(686319);function eq({boardId:e,collaboratorId:t,collaboratorUsername:o}){let i=(0,r.I0)(),l=(0,n.k6)(),s=(0,N.ZP)();return(0,A.jsx)(a.kC,{justifyContent:"center",width:"100%",children:(0,A.jsx)(a.xu,{marginTop:8,maxWidth:960,paddingX:8,children:(0,A.jsx)(a.XA,{message:s._('You\u2019ve been requested to take over ownership of this board', 'boardOwnershipTransferUpsell.message', 'Message informing user they have received an ownership transfer request'),primaryAction:{accessibilityLabel:s._('Accept', 'boardOwnershipTransferUpsell.acceptAccessibilityLabel', 'Accessibility label for accept button on upsell'),label:s._('Accept', 'boardOwnershipTransferUpsell.acceptLabel', 'Label for accept button on upsell'),onClick:()=>{(0,eX.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"PUT",data:{collaborator:t}}),i((0,T.K8)(o)),l.push(`/${o}/`)}},secondaryAction:{accessibilityLabel:s._('Decline', 'boardOwnershipTransferUpsell.declineAccessibilityLabel', 'Accessibility label for decline button on upsell'),label:s._('Decline', 'boardOwnershipTransferUpsell.declineLabel', 'Label for decline button on upsell'),onClick:()=>{i((0,eN.xx)(e,t))}},title:s._('Board ownership request pending', 'boardOwnershipTransferUpsell.title', 'Title for board ownership transfer upsell')})})})}var eJ=o(664973);function eK({handleAddSection:e,handleCreatePin:t,handleCreateStoryPin:o,surface:r}){let{logContextEvent:n}=(0,_.u)(),l=(0,N.ZP)(),s=(0,i.useRef)(null),c="board"===r?l._('Create a Pin or add a Section', 'BoardPage.ActionBar.AddPinOrSection', 'button triggering a flyout to create a pin or add a section'):l._('Create Pin', 'BoardPage.ActionBar.AddPin', 'button triggering a flyout to create a pin');return(0,A.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,A.jsx)(eJ.Z,{idealDirection:"up",isWithinFixedContainer:!0,onAddSection:e,onCreatePin:t,onCreateStoryPin:o,onOpen:()=>{n({event_type:101,element:10776,component:13216,view_type:5,view_parameter:3069})},surface:r,children:({active:e,accessibilityControls:t,openFlyout:o})=>(0,A.jsxs)(a.xu,{color:"default",display:"inlineBlock",rounding:"circle",children:[(0,A.jsx)(a.xG,{ref:s,accessibilityControls:t,accessibilityExpanded:e,accessibilityLabel:c,accessibilityPopupRole:"dialog",icon:"add",onClick:o,selected:e,tooltip:{text:c}}),(0,A.jsx)(p.cs,{anchors:{3006:s.current},idealDirection:"up",placementId:18}),(0,A.jsx)(p.N,{anchors:{3006:s.current},idealDirection:"up",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})})})}var eQ=o(140725);let e0=o(250905).HW+1;function e1({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:o}){let i=(0,N.ZP)();return(0,eQ.Q)({component:13860,view_type:5,aux_data:o}),(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(e0),children:(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:(0,A.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,A.jsx)(a.X6,{align:"center",color:"light",children:i._('This board may contain sensitive content', 'boardPageContainer.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,A.jsxs)(a.kC,{gap:{row:6,column:0},children:[(0,A.jsx)(a.zx,{color:"red",onClick:e,size:"lg",text:i._('Go back', 'boardPageContainer.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,A.jsx)(a.zx,{color:"white",onClick:t,size:"lg",text:i._('View anyway', 'boardPageContainer.sensitivityScreen.viewButton', 'Text on button that lets user past sensitivity screen')})]}),(0,A.jsx)(a.xu,{paddingY:4,children:(0,A.jsx)(a.xv,{align:"center",color:"light",overflow:"normal",size:"200",children:(0,R.nk)(i._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'boardPageContainer.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,A.jsx)(a.xv,{color:"light",inline:!0,size:"200",underline:!0,children:(0,A.jsx)(a.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",underline:"hover",children:i._('Community Guidelines', 'boardPageContainer.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})})}var e2=o(697063),e3=o(31290),e8=o(196491),e5=o(558926),e6=o(647512);function e4(e){let t=(0,N.ZP)(),{boardUrl:o="",onHide:i,slug:r}=e;return(0,A.jsx)(ew.Z,{duration:2e3,href:`${o}${r}`,onHide:i,text:t._('Section added!', 'Toast for successfully creating a new board section', 'Toast for successfully creating a new board section')})}var e7=o(244526);let e9=()=>{},te=(0,p.RL)(18,e=>({board_id:e.board.id,pin_count:e.board.sectionless_pin_count??0}))(function({board:e,experience:t,initialModalType:o,refreshBoardData:j=e9,refreshSectionData:S=e9,setPlacementExtraContext:I=e9,section:C,showPulsar:B}){let[D,F]=(0,i.useState)(!1),{logContextEvent:R}=(0,_.u)(),L=(0,r.I0)(),U=(0,h.Z)(),{setFooterPlusButtonVisible:H}=(0,P.G)(),G=(0,f.Z)(),$=(0,y.Z)(),W=(0,z.W$)(G,e),{collaborated_by_me:Y,id:V,owner:X,pending_ownership_transfer:q,pin_count:J,privacy:Q}=e,{pin_count:ee}=C||{},et=X?.id||"",eo=(0,v.q6)(G,et,$),ei=(0,u.Z)(Y,et,G)||eo,er=G.isAuth&&G.id===q,el=(0,v.lJ)(G,$),es=el&&(0,d.Z)(Q)?`?orbac_subject_id=${el}`:"",ec=(0,s.Z)(!0),ed=!!C;(0,i.useEffect)(()=>{let t="other";W?t="own":(0,z.Df)(G,e)&&(t="collaborator"),I({board_ownership:t})},[t]),(0,i.useEffect)(()=>(ei&&H(!1),()=>{H(!0)}),[H,ei]);let{showOneToast:eu}=(0,m.dI)(),e_=(0,n.k6)(),{previous:eh}=(0,b.ou)(),ep=0===eh.length,ef=(0,M.WG)(),ex=(0,f.Z)(),em=(0,eb.Z)({name:"UserMetadataResource",options:{user:ex}});(0,i.useEffect)(()=>{if(em&&em.data&&!ef?.boardPinDensity){let{profile_pin_rep_view_type:e}=em.data;ef?.setBoardPinDensity(e??"regular")}});let{handleShowMergeSectionsConfirmationModal:eg,mergeConfirmationModalProps:ey,onConfirm:ev}=(0,k.Z)({board:e}),ew=function(){let e=(0,N.ZP)(),{logContextEvent:t}=(0,_.u)(),o=(0,r.I0)(),{showBlockingActionToast:i}=(0,e3.Z)(),n=(0,ea.Z)();return({board:r,targetBoard:a})=>{t({event_type:7172,object_id_str:r.id,aux_data:{merge_flow:"menu"}}),o((0,e8.Z)(r.id,a.id,n)).then(()=>{i({actionType:"merge",board:a})}).catch(t=>{e2.Z.showError(t.message||e._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})}}(),eP={board_id:e.id,reason:e.sensitivity_screen?.reason||""},[ej,eA]=(0,i.useState)(!!e.sensitivity_screen?.show_warning&&!ei),[eS,eI]=(0,i.useState)(null),[eC,eB]=(0,i.useState)(o||null),[eZ,ez]=(0,i.useState)(e&&(0,e6.Z)(G,e)||"custom"),eT=()=>eB(E.s.boardArchiveConfirmation),eO=()=>{let e=G.isAuth?`/${(0,v.Ms)(G,$)}`:"/";e_.replace(e)},eE=e=>{if(U)return void U();eB(E.s.editSection),eI(e)},ek={board_id:e.id,board_pin_count:J};return(0,g.Z)(()=>{let{shouldOpenCollaboratorsModal:e}=e_.location.state||Object.freeze({});e&&(eB(E.s.collaboratorsAndPermissions),e_.replace({...e_.location,state:{...e_.location.state,shouldOpenCollaboratorsModal:!1}}))}),(0,A.jsx)(w.Z,{objectIdStr:V,viewParameter:W?3069:3070,viewType:5,children:(0,A.jsx)(x.Z,{auxData:ek,objectId:V,view:5,viewParameter:(0,K.Z)({board:e,viewer:G}),children:(0,A.jsxs)(i.Fragment,{children:[(0,A.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:ej?{filter:"blur(30px)"}:{}},children:[(0,A.jsxs)(e7.h,{children:[(0,A.jsx)(eV,{board:e,handleBoardEditClick:()=>{R({event_type:101,element:10845,component:13216,view_type:5,view_parameter:3069}),eB(E.s.boardEdit)},handleFollowersClick:()=>{eB(E.s.followers)},handleSectionEditClick:()=>eE(),handleShowBoardArchiveConfirmation:eT,handleShowBoardUnarchiveConfirmation:()=>eB(E.s.boardUnarchiveConfirmation),handleShowCollabAndPermissionsModal:()=>eB(E.s.collaboratorsAndPermissions),handleShowCreatePincodeModal:()=>{if(U)return void U();R({event_type:101,element:10781,component:13217,view_type:5,view_parameter:3069}),eB(E.s.pincode)},handleShowMergeModal:()=>{if(U)return void U();eB(E.s.mergeBoard)},isBoardPreviewMode:D,section:C,setBoardPreviewMode:F,showPulsar:B}),ei&&ed&&!D&&(0,A.jsx)(a.xu,{marginBottom:6,marginTop:6,children:(0,A.jsx)(e5.Z,{boardId:e.id,isBoardEmpty:!J||!ee,sectionId:C?.id})}),er&&(0,A.jsx)(eq,{boardId:e.id,collaboratorId:G.isAuth?G.id:"",collaboratorUsername:G.isAuth?G.username:""}),eC!==E.s.jumpstartBoard&&(0,A.jsx)(x.Z,{auxData:ek,component:178,objectId:e.id,view:5,viewParameter:W?3069:3070,children:(0,A.jsx)(en,{board:e,currentView:eZ,handleContentViewChange:e=>ez(e),handleSetCurrentModal:eB,handleShowEditSectionModal:eE,handleShowMergeSectionsConfirmationModal:eg,isBoardPreviewMode:D,isHidePinCount:!ed,isOwnBoard:W,isOwnerOrCollaborator:ei,isPinGridSorted:"custom"!==eZ,refreshBoardData:j,refreshSectionData:S,section:C})}),(0,A.jsx)(Z,{boardId:e.id,handleShowArchiveConfirmation:eT}),ei&&(0,A.jsx)(eK,{handleAddSection:()=>{if(U)return void U();R({event_type:101,element:10779,component:13217,view_type:5,view_parameter:3069}),eB(E.s.simpleCreateSection)},handleCreatePin:()=>{if(U)return void U();R({component:13217,element:10643,event_type:101,view_parameter:3069,view_type:5}),e_.push({pathname:"/pin-builder/",state:{board:e,boardSection:C}})},handleCreateStoryPin:()=>{if(U)return void U();R({aux_data:{entry_type:"board_plus_button"},component:13217,element:10949,event_type:101,view_parameter:3069,view_type:5}),e_.push({pathname:(0,l.Z)(ec),state:{board:e,entry_type:"board_plus_button",boardSection:C}})},surface:C?"section":"board"})]}),eC&&(0,A.jsx)(O.Z,{actions:{completeCreateSectionAction:t=>{if(U)return void U();eB(null),eu(({hideToast:o})=>(0,A.jsx)(e4,{boardUrl:e.url,onHide:o,slug:t.slug??""}))},onBoardArchiveChange:()=>{L((0,T.K8)(G.isAuth?G.username:""))},onBoardDelete:()=>{j(),eO()},onBoardLeave:()=>{L((0,T.K8)(G.isAuth?G.username:"")),eO()},onBoardMerge:t=>{ew({board:e,targetBoard:t}),eO()},onBoardSectionDelete:()=>{if(eI(null),eB(null),C){let t=e.url??"";e_.replace(`${t}${es}`)}},onBoardSectionSave:({slug:t})=>{if(eI(null),eB(null),C){let o=`${e.url??""}${t}/${es}`;e_.replace(o)}},onConfirmMergeSection:ev},board:e,boardSection:C||eS,currentModal:eC,mergeConfirmationModalProps:ey,onClearModal:()=>eB(null)}),(0,A.jsx)(p.k6,{placementId:1000647}),(0,A.jsx)(p.RK,{placementId:18}),(0,A.jsx)(c.Z,{placementId:18}),(0,A.jsx)(p._f,{experience:t,placementId:18}),(0,A.jsx)(p.nj,{experience:t,placementId:18})]}),ej&&(0,A.jsx)(e1,{handleGoBack:()=>{R({event_type:101,component:13860,element:73,view_type:5,aux_data:{...eP}}),ep&&e_.replace("/"),e_.goBack()},hideSensitivityScreen:()=>{L((0,T.of)(e.id)),R({event_type:101,component:13860,element:12448,view_type:5,aux_data:{...eP}}),eA(!1)},sensitivityScreenAuxData:eP})]})})})})},238641:function(e,t,o){o.d(t,{k:()=>n,s:()=>a});var i=o(667294);let r=(0,i.createContext)(Object.freeze({})),n=r;function a(){return(0,i.useContext)(r)}},433110:function(e,t,o){o.d(t,{Z:()=>b});var i=o(581722),r=o(821342),n=o(886981),a=o(448505),l=o(7872),s=o(33618),c=o(696323),d=o(930382),u=o(223700),_=o(185094),h=o(222719),p=o(785893);function f(e){let t=(0,r.Z)(),o=(0,a.Z)(),f=(0,l.lJ)(t,o),b=(0,n.Z)({name:"BoardSectionPinsResource",options:function(e,t,o,i=""){return{currentFilter:o,field_set_key:"react_grid_pin",is_own_profile_pins:t,page_size:25,redux_normalize_feed:!0,section_id:e,orbac_subject_id:i}}(e.boardSectionId,e.isOwnBoard,e.currentFilter,f)}),x=(0,n.Z)({name:"BoardsResource",options:(0,s.Z)(e.viewer.username,!0)}),m=(0,i.v9)(({feeds:t,desktopStories:o})=>(0,u.Z)(t[`${c.Z.BOARD_SECTION_PINS}:${e.boardSectionId}`],o));return(0,p.jsx)(d.Z,{...e,...m,boardsResource:x,renderFeaturedBoardsStory:t=>(0,p.jsx)(_.Z,{isOwnBoard:e.isOwnBoard,storyId:t}),renderMoreIdeas:t=>e.isOwnerOrCollaborator?null:(0,p.jsx)(h.default,{storyId:t}),resource:b})}f.displayName="BoardSectionPinGrid";let b=f},305434:function(e,t,o){o.d(t,{Z:()=>i});function i(e,t){let{url:o}=e,{slug:i}=t;return`${o??""}${i??""}/`}},125675:function(e,t,o){o.d(t,{K:()=>l,M:()=>s});var i=o(667294),r=o(729434),n=o(785893);let{Provider:a,getMaybe:l}=(0,r.Z)("CreateSectionTooltip");function s({children:e}){let[t,o]=(0,i.useState)(!1),r=(0,i.useMemo)(()=>({showCreateSectionTooltip:t,setShowCreateSectionTooltip:o}),[t]);return(0,n.jsx)(a,{value:r,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/66715-bb3bdab74ccbedc9.mjs.map