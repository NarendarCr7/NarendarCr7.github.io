(self.modernJsonp=self.modernJsonp||[]).push([["89085"],{537347:function(e){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function i(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function a(e){var t=e.a.offsetWidth,i=t+100;return e.f.style.width=i+"px",e.c.scrollLeft=i,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function l(e,i){function n(){a(l)&&l.a.parentNode&&i(l.g)}var l=e;t(e.b,n),t(e.c,n),a(e)}function r(e,t){var i=t||{};this.family=e,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}var o=null,s=null,d=null,c=null;function u(){return null===c&&(c=!!document.fonts),c}function h(e,t){return[e.style,e.weight,!function(){if(null===d){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}d=""!==e.style.font}return d}()?"":e.stretch,"100px",t].join(" ")}r.prototype.load=function(e,t){var a=this,r=e||"BESbswy",d=0,c=t||3e3,p=(new Date).getTime();return new Promise(function(e,t){if(u()&&!function(){if(null===s)if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);s=!!e&&603>parseInt(e[1],10)}else s=!1;return s}()){var m,g=new Promise(function(e,t){!function i(){(new Date).getTime()-p>=c?t(Error(""+c+"ms timeout exceeded")):document.fonts.load(h(a,'"'+a.family+'"'),r).then(function(t){1<=t.length?e():setTimeout(i,25)},t)}()});Promise.race([new Promise(function(e,t){d=setTimeout(function(){t(Error(""+c+"ms timeout exceeded"))},c)}),g]).then(function(){clearTimeout(d),e(a)},t)}else m=function(){function s(){var t;(t=-1!=_&&-1!=y||-1!=_&&-1!=x||-1!=y&&-1!=x)&&((t=_!=y&&_!=x&&y!=x)||(null===o&&(o=!!(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent))&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=o&&(_==f&&y==f&&x==f||_==v&&y==v&&x==v||_==b&&y==b&&x==b)),t=!t),t&&(w.parentNode&&w.parentNode.removeChild(w),clearTimeout(d),e(a))}var u=new i(r),m=new i(r),g=new i(r),_=-1,y=-1,x=-1,f=-1,v=-1,b=-1,w=document.createElement("div");w.dir="ltr",n(u,h(a,"sans-serif")),n(m,h(a,"serif")),n(g,h(a,"monospace")),w.appendChild(u.a),w.appendChild(m.a),w.appendChild(g.a),document.body.appendChild(w),f=u.a.offsetWidth,v=m.a.offsetWidth,b=g.a.offsetWidth,function e(){if((new Date).getTime()-p>=c)w.parentNode&&w.parentNode.removeChild(w),t(Error(""+c+"ms timeout exceeded"));else{var i=document.hidden;(!0===i||void 0===i)&&(_=u.a.offsetWidth,y=m.a.offsetWidth,x=g.a.offsetWidth,s()),d=setTimeout(e,50)}}(),l(u,function(e){_=e,s()}),n(u,h(a,'"'+a.family+'",sans-serif')),l(m,function(e){y=e,s()}),n(m,h(a,'"'+a.family+'",serif')),l(g,function(e){x=e,s()}),n(g,h(a,'"'+a.family+'",monospace'))},document.body?m():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),m()}):document.attachEvent("onreadystatechange",function e(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",e),m())})})},e.exports=r}()},505370:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselVideoItem_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoNonDuplo_pin"}],type:"Pin",abstractKey:null};n.hash="510195e37611b9b69a16eccfeb13e9cf";let a=n},621539:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselVideoItem_pin"}],type:"Pin",abstractKey:null};n.hash="83e61e6fc89222c2a0b03276839f44a5";let a=n},3449:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupVideoWithVisibility_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoNonDuplo_pin"}],type:"Pin",abstractKey:null};n.hash="60493becbbe037be854a8cd1136fede6";let a=n},128948:function(e,t,i){var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButtonWrapper_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"DomainLinkButton_pin"}],type:"Pin",abstractKey:null};a.hash="4c99d4ae49479ef8ed3083d59d4343c1";let l=a},362250:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};n.hash="08b89bb2190b936e38e11d4ce341058f";let a=n},971203:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoContent_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideoWithVisibility_pin"}],type:"Pin",abstractKey:null};n.hash="89029511c11617e1150976d1002228db";let a=n},655327:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildCloseupImageOverlayProps_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="239c809acefcd1b75df8f18c8ffb91ff";let a=n},224266:function(e,t,i){var n;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMediaContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:n,storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null}],type:"Pin",abstractKey:null};a.hash="c3027cfec56abe15f0990c2bc6707062";let l=a},507438:function(e,t,i){i.d(t,{Z:()=>a});var n=i(302148);function a({altText:e,autoAltText:t,i18n:i}){let a=e?(0,n.nk)(i._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:e}).join(""):"",l=t?(0,n.nk)(i._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:t}).join(""):"";return a||l||""}},890479:function(e,t,i){i.d(t,{Z:()=>d});var n=i(667294),a=i(939672),l=i(274320),r=i(183152),o=i(785893);let s=console,d=({id:e,children:t})=>{let i=(0,l.ru)(),d=(0,n.useRef)(!1),{setMetric:c}=(0,a.VK)(),u=(0,r.Zv)(),h=(0,n.useRef)({renderCount:0,renderTime:{mount:0,slowestUpdate:0,average:0},totalRenderTime:0}),p=(0,n.useRef)(i.checkExperiment("perf_profiler_logs").anyEnabled);return(0,n.useEffect)(()=>()=>{d.current&&p.current&&s.info(`RPM - [${e}][unmounted]`,h.current)},[h,e]),(0,o.jsx)(n.Profiler,{id:`ProfilerWithStats-${e}`,onRender:(t,i,n)=>{d.current=!0,h.current.renderCount+=1,h.current.totalRenderTime+=n,h.current.renderTime.average=h.current.totalRenderTime/h.current.renderCount,"mount"===i?(h.current.renderTime.mount=n,h.current.renderTime.slowestUpdate=n):h.current.renderTime.slowestUpdate<n&&(h.current.renderTime.slowestUpdate=n),p.current&&s.info(`RPM - [${e}][${i}]`,h.current),c(u,e,{renderCount:h.current.renderCount,renderTime:n,totalRenderTime:h.current.totalRenderTime})},children:t})}},364674:function(e,t,i){i.d(t,{Z:()=>o});var n=i(20256),a=i(525839),l=i(618336),r=i(785893);function o({digitalMediaType:e,isMobile:t=!1,isViewedByOwnerEmployeeOrAgency:i=!1}){let o=(0,a.ZP)(),s={[l.s.TRAINED_ALGORITHMIC_MEDIA]:o._('AI modified', 'closeup.aIModifiedLabel.label', 'Label for AI Modified images'),[l.s.COMPOSITE_WITH_TRAINED_ALGORITHMIC_MEDIA]:o._('AI modified', 'closeup.aIModifiedLabel.label', 'Label for AI Modified images'),[l.s.DETECTED_TRAINED_ALGORITHMIC_MEDIA]:o._('AI modified', 'closeup.aIModifiedLabel.label', 'Label for AI Modified images')},d=()=>(0,r.jsx)(n.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"ai-generated-label",display:"flex",height:t?48:44,justifyContent:"center",paddingX:4,rounding:4,children:(0,r.jsx)(n.xv,{color:"light",size:"300",children:s[e]})});return i?(0,r.jsx)(n.u,{idealDirection:"up",text:o._('This label won\u2019t appear on Pins in a promoted state. Your paid ads will include the disclosure on the "Why am I seeing this ad" page.', 'AICloseupLabel.tooltip.text', 'Tooltip text for AICloseupLabel'),children:d()}):d()}},630119:function(e,t,i){i.d(t,{Z:()=>j});var n,a,l=i(667294);i(167912);var r=i(20256),o=i(617778),s=i(415546),d=i(525839),c=i(453179),u=i(774429),h=i(603316),p=i(785893);let m=void 0!==n?n:n=i(362250);function g({clientTrackingParams:e,domain:t,link:i,pinKey:n,trafficSource:a,size:g="lg",onMiddleBtnClick:_,viewType:y=3,hovered:x}){let f,v=(0,d.ZP)(),b=(0,s.Z)(m,n),w=(0,u.Z)({clickthroughType:"middleClick",location:"closeup.domainLinkButton"}),P=(0,l.useCallback)(()=>{(0,h.nP)(`web.closeup.media_viewer_stats.clickthrough.clicked_from.${675===y?"media_viewer":"closeup"}`)},[y]);return i.startsWith("https://i.pinimg.com")?(0,p.jsx)(l.Fragment,{}):(f=(0,c.vj)(i)?v._('See recipe', 'closeup.defaultMetadata.visitButton', 'Button to visit recipe link on Pin'):t?v._('Visit site', 'closeup.pinActionDropDown.visitSite', 'Button allowing user to clickthrough Pin'):v._('Learn more', 'closeup.image.domainLinkButton', 'Text indicating where clickthrough will navigate to'),(0,p.jsx)(o.Z,{clientTrackingParams:e,hovered:x,pinKey:b,trafficSource:a,viewType:y,children:(0,p.jsx)(r.zx,{_onAuxClick:({event:e})=>{(0,c.UE)(e)&&(w(),e.preventDefault(),e.stopPropagation(),P(),_(e))},accessibilityLabel:f,color:"semiTransparentWhite",dataTestId:"visit-button",iconStart:"arrow-up-right",onClick:P,size:g,tabIndex:-1,text:f})}))}let _=({onClick:e,href:t,children:i,onNavigation:n,toggleHover:a})=>(0,p.jsx)(r.xu,{"data-test-id":"image-link",children:(0,p.jsx)(r.Tg,{href:t,onMouseEnter:a,onMouseLeave:a,onTap:({event:t,dangerouslyDisableOnNavigation:i})=>{i(),e(),n({event:t})},rel:"nofollow",children:i})});var y=i(980787),x=i(355940),f=i(611282),v=i(899678),b=i(274320),w=i(821806),P=i(601686);let I=void 0!==a?a:a=i(128948);function j({auxData:e,domain:t,link:i,onClick:n,pinKey:a,trafficSource:r,viewType:o}){let d=(0,s.Z)(I,a),{logContextEvent:c}=(0,y.u)(),{checkExperiment:u}=(0,b.ru)(),h=d.isInstagramApi&&d.nativeCreator?.websiteUrl&&d.nativeCreator?.isPrimaryWebsiteVerified&&d.nativeCreator?.isDirectToSiteAllowed,m=h&&u("dweb_closeup_links").anyEnabled?d.nativeCreator?.websiteUrl:i,{clientTrackingParams:j}=(0,P.x4)(),S=(0,f.Z)({href:{pathname:m,state:{trackingParams:j}},target:"blank",clientTrackingParams:j,externalData:{auxData:e,pin:d&&{attributionSourceId:d.attributionSourceId,board:d.board&&{url:d.board.url},campaignId:d.campaignId,entityId:d.entityId,isDownstreamPromotion:d.isDownstreamPromotion,isPromoted:d.isPromoted,pinner:d.pinner&&{username:d.pinner.username},pinPromotionId:d.pinPromotionId,promoter:d.promoter&&{entityId:d.promoter.entityId},storyPinDataId:d.storyPinDataId,trackingParams:d.trackingParams,advertiserId:d.advertiserId}}}),[k,A]=(0,l.useState)(!1),C=(0,l.useCallback)(()=>A(e=>!e),[]);return(0,p.jsx)(x.Z,{name:"SafeSuspense_DomainLinkButtonWrapper_DomainLinkButton",children:(0,p.jsx)(w.Z,{children:(0,p.jsx)(v.Z,{children:(0,p.jsx)(_,{href:m,onClick:()=>{n(),c({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:h}})},onNavigation:S,toggleHover:C,children:(0,p.jsx)(g,{clientTrackingParams:j,domain:t,hovered:k,link:m,onMiddleBtnClick:e=>{n(),c({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:h}}),S({event:e})},pinKey:d,trafficSource:r,viewType:o})})})})})}},935410:function(e,t,i){i.r(t),i.d(t,{default:()=>j});var n=i(667294),a=i(633301),l=i(303151),r=i(20256),o=i(830811),s=i(369416),d=i(785893);let c="animated-text";function u({duration:e,show:t,text:i}){let l=(0,n.useRef)(null),o=`
    .${c}-enter {
      opacity: 0;
    }
    .${c}-enter-active {
      opacity: 1;
      transition: opacity ${e}ms cubic-bezier(1,0,1,0);
    }
    .${c}-enter-done {
      opacity: 1;
    }
    .${c}-exit {
      opacity: 1;
    }
    .${c}-exit-active {
      opacity: 0;
      transition: opacity ${e}ms cubic-bezier(0,1,0,1);
    }
    .${c}-exit-done {
      opacity: 0;
    }
  `;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(s.Z,{unsafeCSS:o}),(0,d.jsx)(a.Z,{appear:!0,classNames:c,in:t,nodeRef:l,timeout:e,children:(0,d.jsx)(r.xu,{ref:l,opacity:0,children:(0,d.jsx)(r.mg,{size:"md",children:i})})})]})}var h=i(874072),p=i(111330),m=i(121836),g=i(521009),_=i(667835),y=i(274320),x=i(15667),f=i(753143),v=i(238589),b=i(647709),w=i(341742);let P="animated-button-container",I=`
  .${P}-enter  {
    width: 0px;
  }
  .${P}-enter-active {
    width: 100% !important;
    transition: width 200ms ease-in;
  }
  .${P}-enter-done {
    width: 100% !important;
  }
  .${P}-exit {
    width: 100% !important;
  }
  .${P}-exit-active {
    width: 0px !important;
    transition: width 200ms ease-in;
  }
  .${P}-exit-done {
    width: 0px;
  }
`;function j({animateOnMount:e,animationDelayOnMount:t=1e3,leaveOnDurationOnMount:i=3e3,dataTestId:c,icon:j,imageSignature:S,onTap:k,variant:A}){let C=(0,g.Z)(),{isRTL:T}=(0,x.B)(),E=(0,_.vs)(),z=(0,b.HG)(),Z=(0,f.M0)(),M=(0,v.Nl)(),{checkExperiment:D}=(0,y.ru)(),L=(0,n.useRef)(null),[R,B]=(0,n.useState)(!1),[O,F]=(0,n.useState)(!1),W=(0,h.Z)({variant:A}),V=(0,n.useMemo)(()=>E&&z?"rgba(17, 17, 17, 0.9)":R?o.xPx:o.wBt,[E,z,R]),K="visual-search"===A,H=M.getItem(m.Ml)||0,{animationSeenCount:N,lastAnimationTimestamp:$}=Z.getItem(p.Yn)||{animationSeenCount:0,lastAnimationTimestamp:0},G=(0,l.Z)(new Date($),new Date);return(0,w.Z)(()=>{if(K&&!G&&Z.setItem(p.Yn,{animationSeenCount:0,lastAnimationTimestamp:$}),!e||K&&![0,1].includes(H)&&D("sg_dweb_improved_share_animation_on_closeup").anyEnabled)return;let n=setTimeout(()=>{F(!0),K&&Z.setItem(p.Yn,{animationSeenCount:N+1,lastAnimationTimestamp:Date.now()});let e=setTimeout(()=>{F(!1)},i);return()=>clearTimeout(e)},t);return()=>clearTimeout(n)}),(0,w.Z)(()=>{C({event_type:120,component:128,element:"view-larger"===A?15864:234,view_type:3,aux_data:{image_signature:S}})}),(0,d.jsxs)(r.iP,{accessibilityLabel:W,onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),onTap:k,rounding:"circle",children:[(0,d.jsx)(s.Z,{unsafeCSS:I}),(0,d.jsx)(r.kC,{alignItems:"stretch",justifyContent:"end",children:(0,d.jsx)(a.Z,{appear:!0,classNames:P,in:R||O,nodeRef:L,timeout:200,children:(0,d.jsxs)(r.xu,{ref:L,alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:V}},"data-test-id":c,display:"flex",justifyContent:"end",minHeight:48,minWidth:48,position:"relative",rounding:4,width:0,children:[(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},marginEnd:2,marginStart:3,overflow:"hidden",children:(0,d.jsx)(u,{duration:200,show:R||O,text:W})}),(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:T?"12px":0,paddingRight:T?0:"12px"}},children:(0,d.jsx)(r.JO,{accessibilityLabel:W,color:"default",icon:j,size:24})})]})})})]})}},907197:function(e,t,i){i.r(t),i.d(t,{default:()=>C});var n=i(667294),a=i(616550),l=i(303151),r=i(20256),o=i(856782),s=i(874072),d=i(629178),c=i(830811),u=i(937805),h=i(667835),p=i(525839),m=i(15667),g=i(647709),_=i(664897),y=i(785893);function x({animateShopButton:e,buttonText:t,onButtonClick:i,dataTestId:a,handleAnimationEnd:l,icon:o,isHovering:s,surfaceType:x,textRef:f,showButtonText:v}){let b=(0,p.ZP)(),{isRTL:w}=(0,m.B)(),P=(0,h.vs)(),I=(0,g.HG)(),[j,S]=(0,n.useState)(),[k,A]=(0,n.useState)(),{isCloseupMediaViewerEnabled:C}=(0,d.Z)({isShufflePin:!1}),T=(0,_.Z)(),{mWebCloseupRedesignEnabled:E}=(0,u.Z)(),z=E?24:16;(0,n.useEffect)(()=>{!T&&(C?s?(S(`buttonSlideIn${x} 1s ease-in forwards`),A("stelaSlideIn 1s ease-in forwards")):(S(`shopButtonSlideOut${x} .3s ease-in-out forwards`),A("stelaSlideOut .3s ease-in-out forwards")):e&&(S("shopButtonSlideInThenOut 3s ease-in-out forwards"),A("stelaSlideInThenOut 3s ease-in-out forwards")))},[e,T,C,s,x]);let Z=b._('closeup image action button', 'closeup.image.button.defaultAccessibilityLabel', 'accessibility label for the button on the closeup image overlay. This button navigates users to the image search landing page. buttonText: image search button text'),M=t||Z,D=(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{animation:j}},children:v&&(0,y.jsx)(r.xu,{ref:f,dangerouslySetInlineStyle:{__style:{animation:k,whiteSpace:"nowrap"}},children:(0,y.jsx)(r.mg,{size:"md",children:t})})}),L=(48-z)/2,R=(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{bottom:L,right:w?void 0:L,left:w?L:void 0}},position:"absolute",children:(0,y.jsx)(r.JO,{accessibilityLabel:M,color:"default",icon:o,size:z})}),B=(0,n.useMemo)(()=>P&&I?"rgba(17, 17, 17, 0.9)":s?c.xPx:c.wBt,[P,I,s]);return(0,y.jsx)(r.iP,{accessibilityLabel:M,onTap:i,rounding:"circle",children:(0,y.jsx)(r.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{backgroundColor:B}},"data-test-id":a,display:"flex",justifyContent:"center",minHeight:48,minWidth:48,onAnimationEnd:C?void 0:l,paddingX:4,paddingY:2,position:"relative",rounding:4,children:(0,y.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:w?(0,y.jsxs)(n.Fragment,{children:[R,D]}):(0,y.jsxs)(n.Fragment,{children:[D,R]})})})})}var f=i(111330),v=i(121836),b=i(521009),w=i(369416),P=i(274320),I=i(281260),j=i(753143),S=i(238589),k=i(341742),A=i(85363);function C({actionUrl:e,animateOnRender:t,animateShopButton:i,dataTestId:c,id:u,imageSignature:h,onAnimationComplete:p=()=>{},onButtonClick:m,surfaceType:g,variant:_}){let C,{checkExperiment:T}=(0,P.ru)(),E=(0,n.useRef)(null),z=(0,b.Z)(),[Z,M]=(0,n.useState)(),[D,L]=(0,n.useState)(!1),R=(0,a.k6)(),B=(0,j.M0)(),O=(0,S.Nl)(),{isCloseupMediaViewerEnabled:F}=(0,d.Z)({isShufflePin:!1}),W=(0,s.Z)({variant:_}),V="visual-search"===_&&"media-viewer"!==g,K=O.getItem(v.Ml)||0,{animationSeenCount:H,lastAnimationTimestamp:N}=B.getItem(f.Yn)||{animationSeenCount:0,lastAnimationTimestamp:0},$=(0,l.Z)(new Date(N),new Date);return(0,k.Z)(()=>{if("media-viewer"===g?z({event_type:120,element:15864,view_type:3,aux_data:{image_signature:h}}):"stl"===g?z({event_type:120,element:11963,view_type:3,aux_data:{image_signature:h}}):z({event_type:120,component:128,element:234,view_type:3,aux_data:{image_signature:h}}),V&&!$&&B.setItem(f.Yn,{animationSeenCount:0,lastAnimationTimestamp:N}),!t||V&&![0,1].includes(K+1)&&T("sg_dweb_improved_share_animation_on_closeup").anyEnabled)return;let e=setTimeout(()=>{L(!0),V&&B.setItem(f.Yn,{animationSeenCount:H+1,lastAnimationTimestamp:Date.now()});let e=setTimeout(()=>{L(!1)},3e3);return()=>clearTimeout(e)},o.S);return()=>clearTimeout(e)}),C="media-viewer"===g&&"view-larger"===_?"maximize":"magnifying-glass-sparkle",(0,n.useEffect)(()=>{if(E.current&&!Z&&(i&&!F||D&&F)){let e=E.current.getBoundingClientRect().width;e&&M(e)}},[E,Z,i,F,D]),(0,y.jsxs)(r.xu,{onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),children:[(0,y.jsx)(w.Z,{unsafeCSS:F?(0,I.q)(Z||0,g):(0,I.Z)(Z||0)}),(0,y.jsx)(x,{animateShopButton:i,buttonText:W,dataTestId:c,handleAnimationEnd:p,icon:C,isHovering:D,onButtonClick:F?m:({event:t})=>{["flashlight","stela"].includes(g)&&z({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:h}}),t?.stopPropagation(),e?R.push(e):R.push((0,A.Z)({checkExperiment:T,pinId:u,isProductPage:!1,surfaceType:g}))},showButtonText:F?D:i,surfaceType:g,textRef:E})]})}},874072:function(e,t,i){i.d(t,{Z:()=>a});var n=i(525839);function a({variant:e}){let t=(0,n.ZP)();return"view-larger"===e?t._('View larger', 'closeup.image.mediaViewerButton', 'clicking on this button will open a full screen view of the Pin image'):t._('Explore', 'closeup.explore.icon', 'clicking on this text will open a visual search feed')}},787017:function(e,t,i){i.d(t,{p:()=>o,Z:()=>s}),i(167912);var n,a=i(501392),l=i(415546);let r=void 0!==n?n:n=i(655327);function o(e,t,i,n,a){return!t&&!!e&&e.includes("tag")&&!i&&!a||n||!1}function s({carouselInfo:e,disablePinTagButton:t,domain:i,hasMetTrustAndSafetyCheck:n,isCollageEnabled:s,isEmployee:d,isORBACProfileManager:c,isScenePin:u,navLink:h,pinKey:p,showProductDetailPage:m}){let g=(0,l.Z)(r,p),{isEnabled:_}=(0,a.Z)({dangerouslySkipActivation:!1}),{access:y,aggregatedPinData:x,storyPinDataId:f,isPromoted:v}=g,b=!!x?.isShopTheLook,w=!1,P=!1;u||(w=!(P=!!h&&!s)&&!!i&&!!g.link&&!g.link.startsWith("https://i.pinimg.com")&&!(m&&e)&&!s);let I=n&&!c&&!v;return{showCarouselControls:!!e&&!_,showCloseupShopDomainLinkButton:u,showDebugSignalsFeedbackButton:!!d,showDomainLink:w,showDomainLinkButton:P=P&&!g?.isGoLinkless,showFlashlightButton:I,showPinTagButton:o(y,f,t,c,s),surfaceType:function({isScenePin:e,isShopTheLook:t}){return t?"stl":e?"stela":"flashlight"}({isScenePin:u,isShopTheLook:b})}}},96413:function(e,t,i){i.d(t,{Z:()=>c});var n=i(667294),a=i(20256),l=i(980787),r=i(982166),o=i(525839),s=i(369416),d=i(785893);function c({handlePause:e,handlePlay:t,musicAttributions:i,shouldMute:c,showEndCard:u}){let h=(0,o.ZP)(),{logContextEvent:p}=(0,l.u)(),[m,g]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{!u&&(i?.length||c)&&p({event_type:c?14600:14601,view_type:3,view_parameter:140})},[p,i,c,u]),u||!i?.length&&!c)return null;let _=()=>{t&&t(),g(!1)},y="";if(i?.length===1){let{artist:e="",title:t=""}=i[0];y=e&&t?`${e} - ${t}`:""}let x=(i?.length||0)>=2?(0,d.jsx)(a.xu,{children:(0,d.jsx)(a.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>{e&&e(),g(!0)},children:(0,d.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(a.xu,{marginEnd:2,children:(0,d.jsx)(a.JO,{accessibilityLabel:h._('Music icon', 'web.closeup.musicicon', 'Artist and song title for Pin music attribution'),color:"inverse",icon:c?"music-off":"music-on",inline:!0,size:12})}),(0,d.jsx)(a.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:h._('View the playlist', 'web.closeup.musicAttibutionModal.entryPoint', 'Entry point for playlist modal')})]})})}):(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(a.JO,{accessibilityLabel:h._('Music icon', 'web.pin.closeup.musicicon', 'Music icon for Pin music attribution'),color:"inverse",icon:c?"music-off":"music-on",inline:!0,size:12}),(0,d.jsx)(a.xu,{marginStart:2,overflow:"hidden",children:(0,d.jsxs)("span",{className:y.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:y.length>=50?"260px":void 0},children:[(0,d.jsx)(a.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:y}),(0,d.jsx)(s.Z,{unsafeCSS:`
                  .marquee {
                   animation: marquee 10s linear infinite;
                   animation-delay: 2s;
                  }

                  .marquee:hover {
                      animation-play-state: paused;
                  }


                 @keyframes marquee {
                   0% {
                     transform: translateX(0%);
                    }
                  50% {
                    transform: translateX(-100%);
                  }
                  100% {
                    transform: translateX(0%);
                  }
              }
            `})]})})]});return(0,d.jsxs)(n.Fragment,{children:[c?(0,d.jsx)(n.Fragment,{children:(0,d.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(a.xu,{marginEnd:2,children:(0,d.jsx)(a.JO,{accessibilityLabel:h._('Music icon', 'web.closeup.musicMutedIcon', 'Music muted icon for Pin music attribution'),color:"inverse",icon:"music-off",inline:!0,size:12})}),(0,d.jsx)(a.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:h._('Audio not available in your location', 'web.closeup.musicAttribution', 'Informational message to tell user audio is not available in their location')})]})}):x,m&&(0,d.jsx)(r.ZP,{accessibilityModalLabel:h._('Artist and song title for this Pin', 'web.closeup.musicAttibutionModal', 'Artist and song title for Pin music attribution'),heading:(0,d.jsxs)(a.kC,{justifyContent:"between",children:[(0,d.jsx)(a.X6,{size:"600",children:h._('Playlist for this video', 'web.closeup.musicAttibutionModal.heading', 'Title for music attribution modal')}),(0,d.jsx)(a.hU,{accessibilityLabel:h._('Close modal button', 'web.closeup.musicAttibutionModal.closeButton', 'Close modal button for music attribution modal'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:_,size:"sm"})]}),onDismiss:_,children:(0,d.jsx)(a.xu,{marginBottom:5,paddingX:5,paddingY:1,children:i?.map(({isrc:e,thumbnail_image_url:t,title:i,artist:n},l)=>(0,d.jsxs)(a.xu,{display:"flex",padding:1,children:[t&&(0,d.jsx)(a.xu,{color:"darkWash",height:60,rounding:7,width:60,children:(0,d.jsx)(a.Ee,{alt:h._('Image of album art', 'web.closeup.musicAttibutionModal.albumArt', 'Alt text for image of album art for associated song'),color:"darkWash",naturalHeight:1,naturalWidth:1,src:t})}),(0,d.jsxs)(a.xu,{direction:"column",display:"flex",justifyContent:"center",paddingX:2,children:[(0,d.jsx)(a.xv,{weight:"bold",children:i??""}),(0,d.jsx)(a.xv,{size:"100",children:n??""})]})]},e||`${l}`))})})]})}},841298:function(e,t,i){i.d(t,{Z:()=>tp});var n,a,l,r=i(20256),o=i(785893);let s=({children:e})=>(0,o.jsx)(r.xu,{display:"flex",height:"100%",justifyContent:"center",padding:5,width:"100%",children:e});var d=i(918920),c=i(525839),u=i(15667),h=i(85574),p=i(611499),m=i(601686);let g=({embedUrl:e,isWideVideo:t,paddingBottom:i="50%",shouldPadImage:n})=>{let a=(0,c.ZP)(),l=(0,u.B)(),g=t?p.KP:p.Gg,{showCloseupContentRight:_,closeupWithinMasonryEnabled:y,peekCloseupEnabled:x,viewportSize:f}=(0,m.x4)(),v=e?.replace("http://","https://");v&&v.startsWith("https://www.youtube.com/embed/")&&(v=v.replace("https://www.youtube.com/embed/","https://www.youtube-nocookie.com/embed/"));let b=(0,o.jsx)("div",{style:{height:0,overflow:"hidden",position:"relative",width:"100%",paddingBottom:i,...(0,h.Z)({isSideBySide:!t,isPadded:n,isRTL:l.isRTL,closeupWithinMasonryEnabled:y,peekCloseupEnabled:x})?.borderStyle},children:(0,o.jsx)("iframe",{allowFullScreen:!0,id:d.ZP.VIDEO_IFRAME_ID,src:v,style:{border:0,height:"100%",left:0,position:"absolute",top:0,width:"100%"},title:a._('Embedded content', 'Accessible content for the embedded content iframe', 'Accessible content for the embedded content iframe')})}),w=_&&"lg"===f?(0,o.jsx)(r.xu,{marginBottom:6,marginEnd:t||n?0:6,width:g,children:b}):b;return n?(0,o.jsx)(s,{children:w}):w};var _=i(667294);i(167912);var y=i(501392),x=i(112931),f=i(934645),v=i(527895),b=i(878709);i(422578);var w=i(869985),P=i(521009),I=i(415546);let j=void 0!==n?n:n=i(505370),S=({contextLogData:e,height:t,isFocused:i,videoList:n,onFocus:a,onUnfocus:l,pinId:s,pinKey:d,width:c})=>{let u=(0,P.Z)(),h=(0,I.Z)(j,d),{V_720P:p,V_HLSV4:m,V_HLSV3_MOBILE:g}=n,{height:y=1,width:x=1,thumbnail:f}=p||m||g||{},v=y/x,b=v;"number"==typeof t&&"number"==typeof c&&(b=t/c),(0,_.useEffect)(()=>{i?a&&a():l&&l()},[i,a,l]),(0,_.useEffect)(()=>{i&&u({component:e.component,event_type:13,object_id_str:e.objectId,view_parameter:e.viewParameter,view_type:e.view})},[i,e,u]);let S=(0,_.useCallback)(()=>{u({component:e.component,event_type:3621,object_id_str:e.objectId,view_parameter:e.viewParameter,view_type:e.view})},[e,u]);return(0,o.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,o.jsx)(r.xu,{width:`${100*Math.min(b/v,1)}%`,children:(0,o.jsx)(w.Z,{contextLogData:e,customThumbnail:f,disabled:!i,loop:!0,muted:!1,onPlay:S,pinId:s,pinKey:h,preferMp4:!0,showControls:"hover",variant:"default",video:{mp4:p,hls:m,hlsv3:g}})})})};var k=i(980787),A=i(273094),C=i(763387),T=i.n(C);let E="12px";function z({currentIndex:e=0,itemCount:t,itemHeight:i,itemsPerPage:n,moduleHovered:a=!1,onIndexChange:l}){let s=(0,_.useRef)(null),d=(0,c.ZP)(),u=(0,_.useCallback)(()=>{if(n){let t=Math.max(0,(Math.floor(e/n)-1)*n);l?.(t)}else{let t=Math.max(0,e-1);l?.(t)}},[e,n,l]),h=(0,_.useCallback)(()=>{if(n){let i=Math.min(t-1,(Math.floor(e/n)+1)*n);l?.(i)}else{let i=Math.min(t-1,e+1);l?.(i)}},[e,t,n,l]),{showPrevious:p,showNext:m}=(()=>{if(n&&n>1){let i=Math.floor(e/n);return{showPrevious:i>0,showNext:i<Math.ceil(t/n)-1}}return{showPrevious:e>0,showNext:e<t-1}})(),g=i?`${i/2-18}px`:"50%",y=e=>e?a?1:.8:0;return(0,o.jsxs)(r.xu,{ref:s,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},left:!0,position:"absolute",right:!0,top:!0,zIndex:new r.Ry(10),children:[p&&(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{left:E,marginBlockStart:g,pointerEvents:"auto"}},position:"absolute",children:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{opacity:y(p),transition:"opacity 0.3s linear"}},children:(0,o.jsx)(r.hU,{accessibilityLabel:d._('View Previous', 'CarouselOverlay.scrollButton.viewPrevious', 'Accessibility label for button to navigate to the previous item in the carousel'),bgColor:"white",icon:"arrow-back",onClick:u,size:"md"})})}),m&&(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{right:E,marginBlockStart:g,pointerEvents:"auto"}},position:"absolute",children:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{opacity:y(m),transition:"opacity 0.3s linear"}},children:(0,o.jsx)(r.hU,{accessibilityLabel:d._('View Next', 'CarouselOverlay.scrollButton.viewNext', 'Accessibility label for button to navigate to the next item in the carousel'),bgColor:"white",icon:"arrow-forward",onClick:h,size:"md"})})})]})}let Z=function(e=!1,t=!1){let{userAgent:{browserName:i,browserVersion:n}}=(0,u.B)(),a="Chrome"===i&&Number(n.split(".")[0])>=135;return{needsScrollMarkerFallback:e&&!a,needsScrollButtonFallback:t&&!a}};var M=i(341742);function D({index:e,isActive:t,onClick:i,variant:n="dark",label:a}){return(0,o.jsx)(r.xu,{children:(0,o.jsx)(r.iP,{accessibilityLabel:a||`Navigate to slide ${e+1}`,fullWidth:!1,onTap:()=>i(e),rounding:"circle",children:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t?"light"===n?"white":"#555":"light"===n?"rgba(255, 255, 255, 0.5)":"lightGray",transition:"background-color 0.2s ease"}},height:8,rounding:"circle",width:8})})},e)}function L({currentIndex:e,itemCount:t,itemsPerPage:i,itemLabels:n,showMarkers:a,onNavigateToIndex:l,variant:s="dark"}){let{needsScrollMarkerFallback:d}=Z(a),c=(0,_.useCallback)(e=>{l(e)},[l]),u=i?Math.ceil(t/i):t,h=i?Math.floor(e/i):e;return t<=1?null:a&&(0,o.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid",gridAutoColumns:"1rem",gridAutoFlow:"column",pointerEvents:"auto"}},justifyContent:"center",paddingY:6,children:d?[...Array(u).keys()].map(e=>{let t=i?e*i:e;return(0,o.jsx)(D,{index:t,isActive:e===h,label:n?.[t],onClick:c,variant:s},e)}):(0,o.jsx)(r.xu,{minHeight:8})})}var R=i(830811);let B=e=>`
  --scroll-button-size: 36px;
  --scroll-button-offset: .75rem;

  &::scroll-button(right),
  &::scroll-button(left) {
    opacity: 0.8;
    pointer-events: auto;
    transition: opacity 0.3s ease-in-out;
    position: absolute;
    position-anchor: --${e};
    background-color: ${R.vlc};
    border: none;
    border-radius: 12px;
    cursor: pointer;
    display: inline-block;
    margin-block-start: calc(var(--carousel-item-height) / 2 - var(--scroll-button-size) / 2);
    height: var(--scroll-button-size);
    line-height: 0;
    vertical-align: middle;
    width: var(--scroll-button-size);
  }

  &::scroll-button(inline-end) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0 0 24 24' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.7.3 20.42 12 8.71 23.7l-1.42-1.4L17.6 12 7.29 1.7z' /%3E%3C/svg%3E");
    right: anchor(--${e} right);
    margin-inline-end: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  &::scroll-button(inline-start) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0%200%2024%2024' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m6.41%2012%2010.3-10.3L15.29.3%203.6%2012l11.7%2011.7%201.42-1.4z'/%3E%3C/svg%3E");
    left: anchor(--${e} left);
    margin-inline-start: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  &::scroll-button(*):disabled {
    opacity: 0%;
    cursor: not-allowed;
    interactivity: inert;
  }

  &::scroll-button(*):active {
    transform: scale(0.90);
  }

  &::scroll-button(*):is(:hover, :focus-visible){
    background-color: ${R.xPx};
    opacity: 1;
  }
`,O=(e,t="multi",i=1)=>{let n="multi"===t;return`
  scroll-marker-group: after;

  &::scroll-marker-group {
    display: grid;
    grid-auto-columns: 1rem;
    grid-auto-flow: column;
    justify-content: center;
    margin-block-start: ${n?"1.5rem":"-1.25rem"};
    position-anchor: --${e};
    position-area: bottom;
    ${n?"position: fixed; align-items: center;":"scroll-snap-type: y mandatory;"}
    transition: all 150ms ease-out;
    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }
  }

  > li:nth-child(${i}n + 1)::scroll-marker {
    aspect-ratio: 1;
    border-radius: 50% ;
    background: ${n?"lightgray":"rgba(255, 255, 255, 0.6)"};
    content: ' ';
    width: 50%;
    box-shadow: ${n?"none":"0 1px 0px rgba(0, 0, 0, 0.1)"};
    animation-timeline: view(x);
    interactivity: auto;
    transition: all 150ms ease-out;
  }

  > li:nth-child(${i}n + 1)::scroll-marker:target-current {
    background: ${n?"#555":R.vlc};
  }
`};var F=i(369416),W=i(603316);let V=function({mode:e,itemHeight:t,items:i,itemWidth:n,onIndexChange:a,renderItem:l,selectedIndex:s,showScrollMarkers:d,showNavigationButtons:c}){let[u,h]=(0,_.useState)(0),[p,m]=(0,_.useState)(!1),g=(0,_.useRef)(null),y=(e=>{let[t,i]=(0,_.useState)(1),n=(0,_.useRef)(null);return(0,M.Z)(()=>{let t=null;if(e.current){let a=()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{(()=>{let t=e.current;if(t){let e=t.offsetWidth,n=t.querySelector("li");if(n){let t=n.offsetWidth;if(t>0&&e>0){let n=Math.max(1,Math.floor((e-16+8)/(t+8)));i(e=>e!==n?n:e)}}}})(),n.current=null})};a(),(t=new ResizeObserver(a)).observe(e.current)}return()=>{n.current&&cancelAnimationFrame(n.current),t&&t.disconnect()}}),t})(g),{needsScrollButtonFallback:x,needsScrollMarkerFallback:f}=Z(d,c),v=`carousel--mode-${e}`;(0,_.useLayoutEffect)(()=>{let e=g.current;e&&i.length&&void 0!==s&&s!==u&&(((t=-1)=>{let i=Array.from(e.children)[t];i&&((0,W.nP)("closeup.dweb.css_carousel.enabled.thumbnail_index_change",{sampleRate:1}),i.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))})(s),h(s))},[u,i.length,s]);let b=(0,_.useCallback)(e=>{let t=g.current,i=e.snapTargetBlock||e.snapTargetInline;if(t&&i){let e=Array.from(t.children).indexOf(i);-1!==e&&e!==u&&((0,W.nP)("closeup.dweb.css_carousel.enabled.carousel_index_change",{sampleRate:1}),h(e),a?.(e))}},[u,a]),w=(0,_.useCallback)(()=>{let e=g.current;if(!e)return;let t=Array.from(e.children),i=e.getBoundingClientRect(),n=i.left+i.width/2,l=0,r=1/0;t.forEach((e,t)=>{let i=e.getBoundingClientRect(),a=Math.abs(i.left+i.width/2-n);a<r&&(r=a,l=t)}),l!==u&&(h(l),a?.(l))},[u,a]),P=(0,_.useCallback)(()=>{let e=g.current;if(!e)return;let t=Array.from(e.children),i=e.getBoundingClientRect(),{scrollLeft:n,scrollWidth:l,clientWidth:r}=e;if(n>=l-r-10){let e=t.length-1;e!==u&&(h(e),a?.(e));return}let o=i.left+i.width/2,s=0,d=1/0;t.forEach((e,t)=>{let i=e.getBoundingClientRect(),n=Math.abs(i.left+i.width/2-o);n<d&&(d=n,s=t)}),s!==u&&(h(s),a?.(s))},[u,a]);(0,_.useLayoutEffect)(()=>{let e,t=g.current,i=f?P:w,n=f?16:50,a=()=>{clearTimeout(e),e=setTimeout(i,n)};return t&&(t.addEventListener("scrollsnapchanging",b),t.addEventListener("scroll",a,{passive:!0})),()=>{t&&(t.removeEventListener("scrollsnapchanging",b),t.removeEventListener("scroll",a)),clearTimeout(e)}},[b,P,w,f]);let I=(0,_.useCallback)(e=>()=>h(e),[]),j=()=>h(-1),S=(0,_.useCallback)(e=>{h(e),a?.(e)},[a]),k=(0,_.useCallback)(()=>{m(!0)},[]),A=(0,_.useCallback)(()=>{m(!1)},[]),C={...t&&{"--carousel-item-height":`${t}px`},...n&&{"--carousel-item-width":`${n}px`}};return(0,o.jsxs)(_.Fragment,{children:[(0,o.jsx)(F.Z,{unsafeCSS:"single"===e?`
  .${v} {
    anchor-name: --${v};
    container-type: inline-size scroll-state;
    counter-reset: item;
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 100%;
    height: 100%;
    list-style-type: none;
    overscroll-behavior-x: contain;
    overflow-x: auto;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    scrollbar-width: none;

    @media (hover) {
      &:not(:hover,
      :focus-within)::scroll-button(*) {
        opacity: 0;
      }
    }

    > li {
      container-type: scroll-state;
      scroll-snap-align: center;
      scroll-snap-stop: always;
      width: 100%;
      height: 100%;
    }

    &.scroll-markers {
      ${O(v,"single")}
    }

    &.scroll-buttons {
      ${B(v)}
    }
  }
`:`
  .${v} {
    --carousel-edge-padding: 16px;
    anchor-name: --${v};
    container-type: inline-size;
    counter-reset: item;
    display: grid;
    gap: 0.5rem;
    grid-auto-flow: column;
    grid-auto-columns: var(--carousel-item-width, min-content);
    list-style-type: none;
    margin-inline: auto;
    overscroll-behavior-x: contain;
    overflow-y: hidden;
    overflow-x: auto;
    padding-inline: var(--carousel-edge-padding);
    scroll-padding-inline-start: var(--carousel-edge-padding);
    scroll-snap-type: x mandatory;
    scrollbar-width: none;

    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }

    >li {
      block-size: auto;
      width: var(--carousel-item-width, auto);
      overflow: visible;
      display: flex;
      flex-direction: column;
      container-type: scroll-state;
      scroll-snap-align: start;
    }

    >li:first-child {
      margin-inline-start: 0;
    }

    >li:last-child {
      margin-inline-end: 0;
    }

    @media (hover) {
      &:not(:hover,
      :focus-within)::scroll-button(*) {
        opacity: 0;
      }
    }

    &.scroll-markers {
      ${O(v,"multi",y)}
    }

    &.scroll-buttons {
      ${B(v)}
    }
  }
`}),(0,o.jsxs)(r.xu,{onMouseEnter:k,onMouseLeave:A,position:"relative",children:[(0,o.jsx)("ul",{ref:g,className:T()(v,{"scroll-markers":d,"scroll-buttons":c}),style:C,children:i.map((e,t)=>(0,o.jsx)("li",{children:l({item:e,index:t,isFocused:u===t,onFocus:I(t),onUnfocus:j})},e?.id??e?.entityId??t))}),x&&(0,o.jsx)(z,{currentIndex:u,itemCount:i.length,itemHeight:t,itemsPerPage:y,moduleHovered:p,onIndexChange:a})]}),(0,o.jsx)(L,{currentIndex:u,itemCount:i.length,itemsPerPage:y,onNavigateToIndex:S,showMarkers:d})]})};var K=i(67831),H=i(956077),N=i(431338),$=i(104659),G=i(300685),U=i(974297),X=i(712172);let J=({fit:e,highResOnly:t,onError:i,onLoad:n,slot:a,slotIndex:l})=>{let s=(0,c.ZP)(),{details:d=""}=a,{url:u="",width:h=1,height:p=1}=(0,U.Z)(a.images)||{};return u&&(0,o.jsx)(r.Ee,{alt:(0,X.GH)(d,s,l),fit:e,naturalHeight:p??1,naturalWidth:h??1,onError:i,onLoad:n,src:u,srcSet:(0,X.gA)({slot:a,highResOnly:t})})},Y=void 0!==a?a:a=i(621539);function q({displayHeight:e,displayWidth:t,pinKey:i}){let{logContextEvent:n}=(0,k.u)(),{closeupWithinMasonryEnabled:a,isCloseupMediaViewerOpen:l,showProductDetailPage:s,peekCloseupEnabled:d}=(0,m.x4)(),{pauseAutoplay:c,setCurrentVideo:u}=(0,$.G)(),{isEnabled:h}=(0,y.Z)({dangerouslySkipActivation:!1}),{carouselInfo:p,mainImage:g}=(0,b.G)(),{carouselData:w,handleCarouselSwipe:P}=p||{},{index:j=0}=w||{},{height:C,width:T}=g,E=(0,I.Z)(Y,i),z=(0,f.Z)({showProductDetailPage:!!E.isEligibleForPdp}),{entityId:Z}=E,M=(0,_.useRef)(null),D=(0,N.Z)(E),L=E.isEligibleForPdp?D():void 0,R=E.isEligibleForPdp?144:void 0,B=E.isEligibleForPdp?3:void 0,O=(0,K.A)(),F=(0,_.useCallback)(e=>{e>=1&&((0,H.Nx)("image"),O&&O.markConstraintComplete("image"))},[O]),W=(0,_.useMemo)(()=>({viewParameter:s?144:156,view:3,component:s?14012:179,objectId:Z}),[Z,s]),U=(0,_.useCallback)(()=>{u({pinId:Z,isPromoted:!1})},[u,Z]),X=(0,_.useCallback)(()=>{c({pinId:Z,isPromoted:!1})},[c,Z]);(0,_.useEffect)(()=>{w?.carousel_slots?.find(e=>e.videos?.video_list)&&n({event_type:120,view_type:W.view,view_parameter:W.viewParameter,component:W.component,object_id_str:W.objectId})},[n,w?.carousel_slots,W]);let q=M.current&&d,Q=(0,_.useCallback)((i,n,a,s,d)=>{let c,u;return i.videos?.video_list?(c=(0,o.jsx)(S,{contextLogData:W,height:e,isFocused:a,onFocus:s,onUnfocus:d,pinId:Z,pinKey:E,videoList:i.videos.video_list,width:t}),u=i.videos.id):(c=(0,o.jsx)(v.Z,{_enableViewTransitions:!0,suppressViewTransitionTags:l||n!==j,type:"image",children:(0,o.jsx)(J,{fit:"contain",onLoad:()=>F(n),slot:i,slotIndex:n})}),u=i.image_signature),(0,o.jsx)(r.xu,{height:"100%",width:"100%",children:c},`${Z}-${u||n}`)},[j,l,Z,W,e,E,t,F]);return(0,o.jsx)(r.xu,{ref:M,dangerouslySetInlineStyle:{__style:{aspectRatio:a?(0,x.GJ)(T,C):void 0,contain:"strict",justifySelf:"center"}},height:"100%",overflow:a?"hidden":void 0,rounding:a&&!z?4:void 0,width:a?void 0:"100%",children:h?(0,o.jsxs)(_.Fragment,{children:[(0,o.jsx)(A.Z,{carouselData:{...w,type:"canonical"},contextLogData:L,height:e,id:Z,impressionType:"Pin",index:j,slideWidth:t,view:B??3,viewParameter:R??156}),(0,o.jsx)(V,{itemHeight:e,items:w?.carousel_slots||[],itemWidth:t,mode:"single",onIndexChange:P,renderItem:({item:e,index:t,isFocused:i,onFocus:n,onUnfocus:a})=>Q(e,t,i,n,a),selectedIndex:j,showNavigationButtons:!0,showScrollMarkers:!E.isEligibleForPdp})]}):(!d||q)&&(0,o.jsx)(G.Z,{containerRef:M.current,contextLogData:L,height:e,id:Z,index:j,responsiveSizing:a,slideWidth:t,view:B,viewParameter:R,children:(w?.carousel_slots||[]).map((e,t)=>Q(e,t,j===t,U,X))})})}var Q=i(592821),ee=i(573631),et=i(291892);let ei=(0,_.memo)(function({borderStyle:e,dominantColor:t,imageWithPreview:i,fit:n,sizes:a,srcSet:l}){let s=(0,K.A)(),d=(0,_.useCallback)(()=>{(0,H.Nx)("image"),s&&s.markConstraintComplete("image")},[s]),{closeupWithinMasonryEnabled:c,isCloseupMediaViewerOpen:u,showProductDetailPage:h}=(0,m.x4)(),{fiftyPercentWidth:p}=(0,Q.Re)(),g=(0,f.Z)({showProductDetailPage:h}),y=(0,ee.b)(),v="closeup-image-main",b=""!==i.mainImage.src?(0,o.jsx)(r.xu,{"data-test-id":v,height:"100%",width:"100%",children:(0,o.jsx)(et.Z,{_enableViewTransitions:!0,_fixCompletedOnLoad:!0,alt:i.mainImage.alt,borderStyle:g?void 0:e,color:t,elementTiming:`${v}-MainPinImage`,fetchPriority:"high",fit:n,naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,onLoad:d,sizes:a,src:i.mainImage.src,srcSet:l,suppressViewTransitionTags:u})}):null;return(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:c?(0,x.GJ)(i.naturalWidth,i.naturalHeight):void 0,contain:"strict",justifySelf:c?"center":void 0}},height:"100%",maxWidth:p,overflow:c?"hidden":void 0,rounding:g?void 0:6,width:c?void 0:"100%",children:!y&&i.previewImage?.src?(0,o.jsx)(r.Ee,{alt:i.previewImage?.alt??"",color:t,fetchPriority:"high",fit:n,naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,role:"img",src:i.previewImage.src,children:b}):b})}),en=e=>(0,o.jsx)(ei,{...e});var ea=i(364674),el=i(856782),er=i(899678),eo=i(821806);let es=112+el.Z;function ed({digitalMediaType:e,shouldMoveAILabel:t,isViewedByOwnerEmployeeOrAgency:i}){return(0,o.jsxs)(_.Fragment,{children:[(0,o.jsx)(r.xu,{height:`calc(100% - ${t?es:56}px)`}),(0,o.jsx)(r.xu,{display:"flex",justifyContent:"start",maxWidth:"147px",paddingX:el.Z,children:(0,o.jsx)(eo.Z,{children:(0,o.jsx)(er.Z,{children:(0,o.jsx)(ea.Z,{digitalMediaType:e,isViewedByOwnerEmployeeOrAgency:i})})})})]})}var ec=i(630119);let eu=({children:e,horizontalOffset:t=0,name:i,verticalOffset:n=0})=>{let a=new r.Ry(1),{closeupWithinMasonryEnabled:l}=(0,m.x4)(),{mainImage:s}=(0,b.G)(),{height:d,width:c}=s;return(0,o.jsx)(r.xu,{bottom:!l,dangerouslySetInlineStyle:{__style:{aspectRatio:l?c/d:void 0,justifySelf:l?"center":void 0,pointerEvents:"none",padding:l?void 0:`${n}px ${t}px`}},"data-test-id":`closeup-image-overlay-layer-${i}`,height:"100%",left:!0,marginEnd:"auto",marginStart:"auto",position:"absolute",right:!0,top:!l,zIndex:a,children:e})};var eh=i(629178),ep=i(139707),em=i(355940),eg=i(821342),e_=i(274320),ey=i(218831);function ex({carouselData:e,children:t,disableAnimations:i=!1,displayWidth:n,hide:a}){let l=(0,_.useCallback)(()=>(({carouselData:e,containerWidth:t,slotWidth:i})=>{let{index:n,carousel_slots:a}=e||{},l=Math.floor(i);return void 0===n||!a||n>=a.length-1?0:t-l})({carouselData:e,containerWidth:n,slotWidth:n}),[e,n]),[s,d]=(0,_.useState)(l()),[c,u]=(0,_.useState)(i),[h,p]=(0,_.useState)(),m=(0,_.useCallback)(()=>{d(l())},[l]);return(0,_.useEffect)(()=>{let e=!0;return i||(u(!1),p(t=>(clearTimeout(t),setTimeout(()=>{e&&(m(),a||u(!0))},500)))),()=>{e=!1}},[e?.index,i,m,a]),(0,_.useEffect)(()=>()=>clearTimeout(h),[h]),(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginRight:s,transition:i?void 0:"opacity 500ms, visibility 500ms ease-in-out",visibility:c?"visible":"hidden"}},"data-test-id":"animated-fab",opacity:+!!c,children:t})}var ef=i(828942),ev=i(8512);let eb=(0,_.lazy)(()=>i.e("12780").then(i.bind(i,448372))),ew=(0,_.lazy)(()=>i.e("12780").then(i.bind(i,458684))),eP=(0,_.lazy)(()=>i.e("74993").then(i.bind(i,613047))),eI=(0,_.lazy)(()=>i.e("95804").then(i.bind(i,984723))),ej=(0,_.lazy)(()=>Promise.resolve().then(i.bind(i,935410))),eS=(0,_.lazy)(()=>Promise.resolve().then(i.bind(i,907197))),ek=(0,_.lazy)(()=>i.e("85050").then(i.bind(i,966421))),eA=({animateShopButton:e,auxData:t,carouselInfo:i,domain:n,handleMediaButtonClick:a,isHovered:l,link:s,mediaViewerExpandButtonRef:d,onImageClick:c,onShopButtonAnimationComplete:u,pin:h,showCarouselControls:p,showCarouselEllipsis:m,showCloseupShopDomainLinkButton:g,showDebugSignalsFeedbackButton:v,showDomainLink:w,showDomainLinkButton:P,showFlashlightButton:I,showPinTagButton:j,surfaceType:S,trafficSource:k,maxCloseupImageWidth:A,shouldPadImage:C,verticalOffset:T,horizontalOffset:E})=>{let{isRelatedPins10PercentVisible:z}=(0,ey.K)(),{mainImage:Z,mediaViewerImage:M}=(0,b.G)(),D=(0,eg.Z)(),{peekRedesignFastFollowsEnabled:L}=(0,ep.Z)(Z),{isEnabled:R}=(0,y.Z)({dangerouslySkipActivation:!1}),B=(0,f.Z)({showProductDetailPage:!!h.is_eligible_for_pdp}),{checkExperiment:O}=(0,e_.ru)(),F=O("web_animated_closeup_button_v2").anyEnabled,[W,V]=(0,_.useState)(!1),K=l||W,H=(0,_.useCallback)(()=>V(!0),[]),N=(0,_.useCallback)(e=>{e.currentTarget.contains(e.relatedTarget)||V(!1)},[]),{containerWidth:$}=(0,x.ZP)({carouselData:i?.carouselData,mainImage:Z,maxCloseupImageWidth:A,shouldPadImage:C,pinKey:{type:"deprecated",data:h}}),G=4*el.Z,U=G+(z||B?0:56),X=48+U+8,J=e=>L?{bottom:e,position:z?"absolute":"sticky",transition:"position 0.1s ease"}:{bottom:e,position:"sticky"},{isCloseupMediaViewerEnabled:Y}=(0,eh.Z)({isShufflePin:!!h?.shuffle}),q=h&&h.origin_pinner&&D.isAuth&&D.id===h.origin_pinner.id||!h?.is_go_linkless,Q=(0,ev.zX)(h.digital_media_source_type),ee=(P||g)&&q,et=ee&&!s.startsWith("https://i.pinimg.com"),ei=!i||0===i.carouselData.index;return(0,o.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{display:"contents"}},onBlur:N,onFocus:H,children:[w&&(0,o.jsx)(eu,{horizontalOffset:E,name:"domain-link",verticalOffset:T,children:(0,o.jsxs)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,o.jsx)(r.xu,{paddingX:1,children:(0,o.jsx)(r.JO,{accessibilityLabel:"",color:"inverse",icon:"arrow-up-right",size:16})}),(0,o.jsx)(r.xu,{paddingX:1,children:(0,o.jsx)(r.xv,{color:"inverse",weight:"bold",children:n})})]})}),p&&i&&!R&&(0,o.jsxs)(eu,{horizontalOffset:E,name:"carousel-controls",verticalOffset:T,children:[(0,o.jsx)(em.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselSliders",children:(0,o.jsx)(eo.Z,{children:(0,o.jsx)(ew,{backNode:(0,o.jsx)(ef.Z,{backgroundColor:"default",hoverColor:"secondary",iconColor:"default",iconType:"back",showFab:K}),carouselData:{carouselSlots:i.carouselData.carousel_slots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:i.carouselData.id??"",index:i.carouselData.index},carouselIndex:i.carouselData&&i.carouselData.index,componentType:i.componentType,forwardNode:(0,o.jsx)(ef.Z,{backgroundColor:"default",hoverColor:"secondary",iconColor:"default",iconType:"forward",showFab:K}),handleCarouselSwipe:i.handleCarouselSwipe,pinKey:{type:"deprecated",data:h},sliderStyleOverride:{padding:"30px 12px"},viewParameter:i.viewParameter,viewType:i.viewType})})}),(0,o.jsx)(r.xu,{alignItems:"end",bottom:!0,display:"flex",height:405,justifyContent:"center",left:!0,padding:el.Z,position:"absolute",right:!0,children:!P&&m&&(0,o.jsx)(em.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselEllipsis",children:(0,o.jsx)(eo.Z,{children:(0,o.jsx)(er.Z,{children:(0,o.jsx)(eb,{carouselData:{carouselSlots:i.carouselData.carousel_slots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:i.carouselData.id??"",index:i.carouselData.index},carouselIndex:i.carouselData&&i.carouselData.index,componentType:i.componentType,handleCarouselSwipe:i.handleCarouselSwipe,isCloseup:!0,pinKey:{type:"deprecated",data:h},variant:"default",viewParameter:i.viewParameter,viewType:i.viewType})})})})})]}),I&&(0,o.jsxs)(eu,{horizontalOffset:E,name:"flashlight-button",verticalOffset:T,children:[(0,o.jsx)(r.xu,{height:`calc(100% - ${48+G}px)`}),(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:J(U)},display:"flex",justifyContent:"end",paddingX:el.Z,right:!0,children:(0,o.jsx)(em.Z,{name:"SafeSuspense_CloseupImageOverlay_ShopButton",children:(0,o.jsx)(eo.Z,{children:(0,o.jsx)(er.Z,{children:(0,o.jsx)(eI,{imageSignature:h.image_signature,onShopButtonAnimationComplete:u,pinId:h.id,show:ei,surfaceType:S,trafficSource:k})})})})})]}),Y&&(0,o.jsxs)(eu,{horizontalOffset:E,name:"media-viewer-button",verticalOffset:T,children:[(0,o.jsx)(r.xu,{height:`calc(100% - ${I?(48+G)*2:G+48}px)`}),(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:J(X)},display:"flex",justifyContent:"end",paddingX:el.Z,right:!0,children:(0,o.jsx)(ex,{carouselData:i?.carouselData,disableAnimations:!0,displayWidth:$,children:(0,o.jsx)(em.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewerButton",children:(0,o.jsx)(eo.Z,{children:(0,o.jsx)(er.Z,{children:(0,o.jsx)(r.xu,{ref:d,onMouseDown:()=>{new Image().src=M.url},children:F?(0,o.jsx)(ej,{animateOnMount:!1,dataTestId:"media-viewer-button",icon:"maximize",imageSignature:h.image_signature,onTap:a,variant:"view-larger"}):(0,o.jsx)(eS,{animateOnRender:!1,animateShopButton:e,dataTestId:"media-viewer-button",id:h.id,imageSignature:h.image_signature,onAnimationComplete:u,onButtonClick:a,surfaceType:"media-viewer",variant:"view-larger"})})})})})})})]}),v&&(0,o.jsxs)(eu,{horizontalOffset:E,name:"debug-signals-feedback",verticalOffset:T,children:[(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 115px)"}}}),(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:J(U)},display:"flex",justifyContent:"end",paddingX:el.Z,right:!0,children:(0,o.jsx)(eo.Z,{children:(0,o.jsx)(ek,{pinKey:{type:"deprecated",data:h}})})})]}),h.digital_media_source_type&&Q&&(0,o.jsx)(eu,{horizontalOffset:E,name:"ai-generated-label",verticalOffset:T,children:(0,o.jsx)(ed,{digitalMediaType:h.digital_media_source_type,isViewedByOwnerEmployeeOrAgency:h.is_viewed_by_owner_or_employee_or_partner_of_business||!1,shouldMoveAILabel:et&&K})}),ee&&(0,o.jsxs)(eu,{horizontalOffset:E,name:"domain-link-button",verticalOffset:T,children:[(0,o.jsx)(r.xu,{height:`calc(100% - ${48+G}px)`}),(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{...J(U),transition:"all 0.5s",opacity:+!!K,pointerEvents:K?"auto":"none"}},display:"flex",justifyContent:"start",maxWidth:"calc(100% - 88px)",paddingX:el.Z,tabIndex:-1,children:(0,o.jsx)(ec.Z,{auxData:t,domain:n,link:s,onClick:c,pinKey:{type:"deprecated",data:h},trafficSource:k})})]}),j&&(0,o.jsx)(eu,{horizontalOffset:E,name:"tag-button",verticalOffset:T,children:(0,o.jsx)(em.Z,{name:"SafeSuspense_CloseupImageOverlay_CloseupTagButton",children:(0,o.jsx)(eo.Z,{children:(0,o.jsx)(er.Z,{children:(0,o.jsx)(eP,{pin:h})})})})})]})};var eC=i(787017),eT=i(995415),eE=i(846721),ez=i(979904),eZ=i(102134),eM=i(890479),eD=i(673616),eL=i(839626),eR=i(790427),eB=i(44344),eO=i(78762),eF=i(756334);let eW=(0,eO.Z)(()=>Promise.all([i.e("8126"),i.e("61720"),i.e("57207"),i.e("88142"),i.e("17343"),i.e("22446"),i.e("39563"),i.e("71309")]).then(i.bind(i,286533)),void 0,e=>286533,"app-common-react-components-closeup-CloseupShuffle-CloseupShuffle"),eV=(0,_.memo)(({borderStyle:e,closeupWithinMasonryEnabled:t,imageWithPreview:i,peekRedesignFastFollowsEnabled:n,sizes:a,srcSet:l})=>(0,o.jsx)(eF.Z,{metricName:"CloseupImage",children:(0,o.jsx)(eM.Z,{id:"CloseupImage",children:(0,o.jsx)(en,{borderStyle:e,dominantColor:Q.yc,fit:n||t?void 0:"contain",imageWithPreview:i,sizes:a,srcSet:l})})}));function eK({onImageClick:e,isHovered:t,pin:i,shouldPadImage:n,trafficSource:a,viewParameter:l,isORBACProfileManager:s,handleMediaButtonClick:d}){let c,p,{animateShopButton:g,onShopButtonAnimationComplete:y,originalImageUrl:v,imageSignature:w,link:P,isScenePin:I,disablePinTagButton:j,showProductDetailPage:S,maxCloseupImageWidth:k,imageWithPreview:A}=(0,eE.Z)({pinKey:{type:"deprecated",data:i}}),C=(0,eg.Z)(),{mainImage:T,carouselInfo:E,srcSet:z,srcSizes:Z}=(0,b.G)(),M=(0,eZ.Z)(),{peekRedesignFastFollowsEnabled:D}=(0,ep.Z)(T),L=(0,_.useRef)(null),R=(0,_.useRef)(null),{domain:B,shuffle:O}=i,F=!!E?.carouselData,{naturalWidth:W,naturalHeight:V}=A,{closeupWithinMasonryEnabled:K,peekCloseupEnabled:H,clientTrackingParams:$,showCloseupContentRight:G,viewportSize:U,setCalculatedImageHeight:X}=(0,m.x4)(),J=(0,f.Z)({showProductDetailPage:!!i.is_eligible_for_pdp}),{isRTL:Y}=(0,u.B)();(0,_.useEffect)(()=>{L.current&&X&&X(L.current.clientHeight)},[L,X]);let ee=(0,_.useMemo)(()=>A,[A]),{borderStyle:et}=(0,_.useMemo)(()=>(0,h.Z)({isSideBySide:G,isPadded:n,isRTL:Y,closeupWithinMasonryEnabled:K,peekCloseupEnabled:H}),[G,n,Y,K,H]),{borderStyle:ei}=(0,h.Z)({isSideBySide:G,isPadded:n,isRTL:Y,closeupWithinMasonryEnabled:K,peekCloseupEnabled:H}),{containerHeight:en,containerWidth:ea,horizontalOffset:el,verticalOffset:er}=(0,x.ZP)({carouselData:E?.carouselData,mainImage:T,maxCloseupImageWidth:k,shouldPadImage:n,pinKey:{type:"deprecated",data:i}}),[eo,es]=(0,_.useState)({width:ea,height:en}),ed=(0,_.useCallback)(()=>{let e=ea>en?en/ea:1,t=L.current;if(!t)return;let i=t.offsetWidth*e;es(e=>{let n={height:t.offsetHeight||i,width:t.offsetWidth};return e.height!==n.height||e.width!==n.width?n:e})},[en,ea]);(0,eB.Z)(ed,L);let ec=!!O&&M(),eu=(0,eD.Z)({isHiddenPin:i.is_hidden,isUnsafePin:i.is_unsafe}),{currentDomain:eh}=(0,eT.Z)({carouselData:i.carousel_data&&{carouselSlots:i.carousel_data.carousel_slots&&i.carousel_data.carousel_slots.map(e=>({domain:e.domain,link:e.link})),index:i.carousel_data?.index},domain:i.domain}),em=eh||B,e_={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0};if(E&&E.carouselData&&E.carouselData.id){let{carousel_slots:e=[],id:t,index:i=0}=E.carouselData;c=e[i]&&e[i].link,e_.carousel_slot_id=e[i]&&e[i].id,e_.carousel_data_id=t,e_.carousel_slot_index=i,em=e[i]&&e[i].domain||em}let ey=(0,N.Z)({type:"deprecated",data:i})();ey&&(e_.commerce_data=ey);let ex=c||P||v||"",ef=(0,o.jsx)(eV,{borderStyle:et,closeupWithinMasonryEnabled:K,imageWithPreview:ee,peekRedesignFastFollowsEnabled:D,sizes:Z,srcSet:z}),ev=ef;F&&(ev=(0,o.jsx)(q,{displayHeight:eo?.height,displayWidth:eo?.width,pinKey:{type:"deprecated",data:i}})),ec&&(ev=(0,o.jsx)(eW,{clientTrackingParams:$,naturalHeight:V,naturalWidth:W,pinId:i.id,shuffleId:O?.id,children:(0,o.jsx)(r.xu,{width:"100%",children:ef})}));let{maxHeight:eb,fiftyPercentWidth:ew,fiftyPercentHeight:eP}=(0,Q.Re)(),{maxHeight:eI}=(0,ez.Z)({pinKey:{type:"deprecated",data:i}}),{showCarouselControls:ej,showCloseupShopDomainLinkButton:eS,showDebugSignalsFeedbackButton:ek,showDomainLink:eM,showDomainLinkButton:eO,showFlashlightButton:eF,showPinTagButton:eK,surfaceType:eH}=(0,eC.Z)({carouselInfo:E,disablePinTagButton:j,domain:em||"",hasMetTrustAndSafetyCheck:eu,isCollageEnabled:ec,isEmployee:C.isAuth&&!!C.isEmployee,isORBACProfileManager:s,isScenePin:I,navLink:ex,pinKey:{type:"deprecated",data:i},showProductDetailPage:S});return K?p=eI:D||(p="sm"===U?eP:eb),(0,o.jsxs)(r.xu,{ref:L,alignItems:"stretch",alignSelf:K?"center":void 0,dangerouslySetInlineStyle:{__style:{aspectRatio:(0,x.GJ)(W,V),backgroundColor:K?void 0:Q.yc}},"data-test-id":"closeup-body-image-container",display:"flex",height:K?"100%":en,maxHeight:p,maxWidth:ew,position:"relative",width:K?"100%":ea,children:[(0,o.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{...J?void 0:ei,display:K?"grid":"block"}},"data-test-id":"closeup-image",height:"auto",overflow:"hidden",width:"100%",children:[ev,(0,o.jsx)(eA,{animateShopButton:g,auxData:e_,carouselInfo:E,domain:em??B??"",handleMediaButtonClick:d,horizontalOffset:el,imageSignature:w,isHovered:t,link:ex,maxCloseupImageWidth:k,mediaViewerExpandButtonRef:R,onImageClick:e,onShopButtonAnimationComplete:y,pin:i,shouldPadImage:n,showCarouselControls:ej,showCarouselEllipsis:!S,showCloseupShopDomainLinkButton:eS,showDebugSignalsFeedbackButton:ek,showDomainLink:eM,showDomainLinkButton:eO,showFlashlightButton:eF,showPinTagButton:eK,surfaceType:eH,trafficSource:a,verticalOffset:er,viewParameter:l})]}),R&&(0,o.jsx)(r.mh,{zIndex:eR.lI,children:(0,o.jsx)(eL.Qp,{anchor:R.current,experienceIds:[506692],flyoutSize:"md",idealDirection:"up",placementId:12,showCaret:!0,textWeight:"normal"})})]})}var eH=i(96413),eN=i(677921),e$=i(453179),eG=i(716920),eU=i(123317),eX=i(724084),eJ=i(543561),eY=i(239728),eq=i(458460);let eQ=(e,t)=>e?13799:0===t?227:228;var e0=i(71157),e1=i(996434),e2=i(886981),e3=i(281106),e6=i(461413),e8=i(181663),e5=i(445698),e4=i(589357);let e7={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",paddingTop:"30px",top:0};function e9({onImageClick:e,isHovered:t,pin:i,shouldPadImage:n,trafficSource:a,viewParameter:l,isORBACProfileManager:s,handleMediaButtonClick:d}){let c,{animateShopButton:p,onShopButtonAnimationComplete:g,originalImageUrl:y,imageSignature:v,link:w,isScenePin:I,disablePinTagButton:j,maxCloseupImageWidth:S,imageWithPreview:k}=(0,eE.Z)({pinKey:{type:"deprecated",data:i}}),A=(0,eg.Z)(),{closeupWithinMasonryEnabled:C,peekCloseupEnabled:T,viewportSize:E,clientTrackingParams:z,showCloseupContentRight:Z}=(0,m.x4)(),{isRTL:D}=(0,u.B)(),L=(0,_.useRef)(null),{maxHeight:R,fiftyPercentHeight:B,fiftyPercentWidth:O}=(0,Q.Re)(),{maxHeight:F}=(0,ez.Z)({pinKey:{type:"deprecated",data:i}}),[W,V]=(0,_.useState)(!1),$=(0,f.Z)({showProductDetailPage:!!i.is_eligible_for_pdp}),{borderStyle:G}=(0,h.Z)({isSideBySide:Z,isPadded:n,isRTL:D,closeupWithinMasonryEnabled:C,peekCloseupEnabled:T}),U=(0,eD.Z)({isHiddenPin:i.is_hidden,isUnsafePin:i.is_unsafe}),{mainImage:X}=(0,b.G)(),{domain:J="",id:Y,story_pin_data:q}=i,ee={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0},et=(0,N.Z)({type:"deprecated",data:i})();et&&(ee.commerce_data=et);let ei=w||y||"",{data:ea=[]}=(0,e2.Z)({name:"StoryPinTaggedProductsResource",options:{id:i.id},noCache:!0}),{pages:el=[]}=q||{},er=[5,6,2],es=el.filter(e=>{let t=e?.layout;return void 0!==t&&!er.includes(t)}),{activePageIndex:ed,captions:ec,currentPage:eu,handleMute:eh,handlePageChange:ep,handlePause:ey,handlePausePlay:ex,handlePlay:ef,handleUpdateVideoInfo:ev,handleVideoEnd:eb,handleVideoScrubbingNewPage:ew,handleWatchAgain:eP,isActive:eI,isSeeking:ej,mute:eS,progressInfo:ek,showEndCard:eT}=(({pages:e,viewType:t,viewParameter:i,pinId:n})=>{let{checkExperiment:a}=(0,e_.ru)(),l=a("web_closeup_video_loop").anyEnabled,{clearSeekTime:r}=(0,eX.RC)(),{setIdeaPinActivePage:o}=(0,eq.Ut)(),[s,d]=(0,_.useState)(0),[c,h]=(0,_.useState)(!0),[p,m]=(0,_.useState)(!0),[g,y]=(0,_.useState)(!1),[x,f]=(0,_.useState)(null),v=(0,P.Z)(),b=e[s],w=(0,eG.g)(),I=(0,K.A)(),j=(0,_.useRef)(null),{blocks:[S]=[null]}=(0,eN.Z)({storyPinBlocks:b?.blocks||[],blocksToRender:[eU.h8.VIDEO]}),{seekTimes:k}=(0,eX.Hx)(),A=k&&k[n],C=S?.type===eU.h8.VIDEO&&S?.video,T=(0,u.B)().locale.toLowerCase(),E=C&&(C?.video_list?.V_720P?.captions_urls||C?.video_list?.V_HLSV3_MOBILE?.captions_urls)||{},z=T&&E[T]||Object.values(E)[0]||"",Z=(0,_.useCallback)(n=>{I&&I.abort("startNewPwt"),w&&(w.abort("startNewPwt"),w.start(),w.addBinaryAnnotation("page.current.index",n,"I16"),w.addBinaryAnnotation("page.count",e.length,"I16"),w.addBinaryAnnotation("view.type",t,"I32"),w.addBinaryAnnotation("view.parameter",i,"I32"))},[e.length,I,w,i,t]),D=(0,_.useCallback)(e=>{e&&e instanceof eJ.B7&&(e.clear(),e=null)},[]),L=(0,_.useCallback)(t=>{D(j.current),!C&&e.length>1&&(j.current=new eJ.B7(e=>{f({currentTime:e<1?e:1,duration:1})},()=>{t<e.length-1?(D(j.current),B(t+1)):(y(!0),h(!1))},e$.oN))},[e]),R=(0,_.useCallback)(e=>{f({currentTime:0,duration:1}),L(e)},[L]);(0,M.Z)(()=>(I&&(I.addBinaryAnnotation("page.current.index",s,"I16"),I.addBinaryAnnotation("page.count",e.length,"I16"),I.addBinaryAnnotation("view.type",t,"I32"),I.addBinaryAnnotation("view.parameter",i,"I32")),(0,H.rt)("page.current.index",s,"I16"),(0,H.rt)("page.count",e.length,"I16"),(0,H.rt)("view.type",t,"I32"),(0,H.rt)("view.parameter",i,"I32"),R(s),()=>{j.current&&j.current instanceof eJ.B7&&j.current.clear()}));let B=(0,_.useCallback)(e=>{c||h(!0),g&&y(!1),R(e),e!==s&&r(),d(e),o(e),Z(e)},[s,r,R,c,o,g,Z]);(0,_.useEffect)(()=>{if(g&&y(!1),j.current&&A){let e=j.current;e.pause(),e.remaining=e$.oN-A*eY.gJ,f({currentTime:A/e$.P6,duration:1})}},[A]);let O=()=>{h(!1),j.current&&j.current.pause(),v({event_type:9324,view_type:t,view_parameter:i,component:eQ(g,s),object_id_str:n,aux_data:{story_pin_page_id:s}})},F=()=>{if(h(!0),j.current){let e=j.current;A&&A>0&&r(),e.resume()}else x||R(s);y(!1),v({event_type:9323,view_type:t,view_parameter:i,component:eQ(g,s),object_id_str:n,aux_data:{story_pin_page_id:s}})},W=()=>{B(0)};return{activePageIndex:s,captions:z,currentPage:b,handleMute:()=>{m(e=>!e)},handlePageChange:B,handlePause:O,handlePausePlay:()=>{g||(c?O():F())},handlePlay:F,handleUpdateVideoInfo:e=>{f({currentTime:e?.currentTime??0,duration:e?.duration??1})},handleVideoEnd:a=>{l&&W(),a===e.length-1&&(y(!0),h(!1),o(0)),a===s&&s<e.length-1&&(B(s+1),v({event_type:101,view_type:t,view_parameter:i,component:eQ(g,s),element:12261,object_id_str:n}))},handleVideoScrubbingNewPage:e=>{g&&y(!1),R(e),d(e),o(e),Z(e)},handleWatchAgain:W,isActive:c,isSeeking:!!A,mute:p,progressInfo:x,setMute:m,showEndCard:g}})({pages:es,viewType:3,viewParameter:l,pinId:Y}),{blocks:[eZ]=[null]}=(0,eN.Z)({storyPinBlocks:eu?.blocks||[],blocksToRender:[eU.h8.IMAGE,eU.h8.VIDEO]}),eM=eZ?.type===eU.h8.VIDEO,eL=eM||es.length>1,{fontsLoaded:eR,mediaDataReceived:eB}=(0,e5.tq)({hasPin:!!i,pages:el}),{showCloseupShopDomainLinkButton:eO,showDebugSignalsFeedbackButton:eF,showDomainLink:eW,showDomainLinkButton:eV,showFlashlightButton:eK,showPinTagButton:e9,surfaceType:te}=(0,eC.Z)({disablePinTagButton:j,domain:J,hasMetTrustAndSafetyCheck:U,isEmployee:A.isAuth&&!!A.isEmployee,isScenePin:I,navLink:ei,pinKey:{type:"deprecated",data:i},isORBACProfileManager:s}),{containerHeight:tt,containerWidth:ti,horizontalOffset:tn,letterBoxAspectRatio:ta,letterBoxedHeight:tl,letterBoxedWidth:tr,verticalOffset:to}=(0,x.ZP)({mainImage:X,maxCloseupImageWidth:S,pinKey:{type:"deprecated",data:i}}),{height:ts,width:td}=X;return i.story_pin_data?.is_deleted?(0,o.jsx)(e6.Z,{color:"secondary",height:640,rounding:4,width:508}):(C?c=F:T&&(c="sm"===E?B:R),(0,o.jsx)(r.xu,{alignSelf:C?"center":void 0,dangerouslySetInlineStyle:{__style:{...$?void 0:G,aspectRatio:C?(0,x.GJ)(td,ts):void 0,background:Q.yc}},"data-test-id":"closeup-body-image-container",height:C?"100%":tt,maxHeight:$?void 0:c,maxWidth:O,onMouseEnter:()=>{eL&&V(!0)},onMouseLeave:()=>{V(!1)},position:"relative",width:C?"100%":ti,children:eu?(0,o.jsxs)(_.Fragment,{children:[!eL&&(0,o.jsx)(eA,{animateShopButton:p,auxData:ee,domain:J,handleMediaButtonClick:d,imageSignature:v,isHovered:t,link:ei,maxCloseupImageWidth:S,mediaViewerExpandButtonRef:L,onImageClick:e,onShopButtonAnimationComplete:g,pin:i,shouldPadImage:n,showCloseupShopDomainLinkButton:eO,showDebugSignalsFeedbackButton:eF,showDomainLink:eW,showDomainLinkButton:eV,showFlashlightButton:eK&&eB,showPinTagButton:e9,surfaceType:te,trafficSource:a,viewParameter:l}),(W||!eI)&&(0,o.jsxs)(r.xu,{children:[(0,o.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...e4.Ul,flexDirection:"column-reverse"}},display:"flex",height:e4.hy,paddingX:6,position:"absolute",width:"100%",zIndex:eU.Gf,children:(0,o.jsx)(e8.Z,{activePageIndex:ed,captionsUrl:ec,handleMute:eh,handlePause:ey,handlePausePlay:ex,handlePlay:ef,handleVideoScrubbingNewPage:ew,handleWatchAgain:eP,inMilliseconds:!0,isMuted:eS,isPanelOpen:!0,isPlaying:eI,isStoryPin:!0,onPageSelect:e=>ep(e),pageCount:es.length,pages:es,pinId:Y,progressInfo:ek,showEndCard:eT,showVideoControls:!0,viewParameter:156})}),(0,o.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...e7}},"data-test-id":"music-attribution",display:"flex",justifyContent:"center",overflow:"hidden",paddingY:5,position:"absolute",width:"100%",zIndex:eU.Gf,children:(0,o.jsx)(eH.Z,{handlePause:ey,handlePlay:ef,musicAttributions:eu?.music_attributions,shouldMute:eu?.should_mute,showEndCard:eT})})]}),(0,o.jsxs)(r.iP,{disabled:!W||eT,fullHeight:!0,onTap:ex,children:[(0,o.jsx)(e1.Z,{activePageIndex:ed,clientTrackingParams:z,customEndCard:!0,fontsLoaded:eR,horizontalOffset:tn,isActive:eI,muteVideos:eS,onEnded:eb,onUpdateVideoInfo:ev,ownerId:i.native_creator?.id??"",page:eu,pageAspectRatio:ta,pageHeight:tl,pageIndex:ed,pageWidth:tr,pin:i,pinId:Y,productPins:ea,shouldLogTimeSpent:!0,stillLoading:!eB,verticalOffset:to,videoPinProgress:ek,viewParameter:l,viewType:3}),!eT&&!ej&&es.length>1&&!eM&&(0,o.jsx)(e3.Z,{playing:eI})]}),eT&&i.native_creator&&(0,o.jsx)(em.Z,{name:"SIIPMediaContainer_VideoEndCard",children:(0,o.jsx)(eo.Z,{children:(0,o.jsx)(r.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:eU.s5,children:(0,o.jsx)(e0.default,{clientTrackingParams:i.trackingParams||i.tracking_params,imageSrc:i.image_url??"",pinDescription:i.description??"",pinId:i.id,rounded:!1,watchAgain:eP})})})})]}):eu?null:(0,o.jsx)(en,{dominantColor:Q.yc,fit:"contain",imageWithPreview:k})}))}var te=i(73579),tt=i(123998);let ti=e=>{let{isHovered:t,onImageClick:i,pin:n,shouldPadImage:a,trafficSource:l,viewParameter:r,isORBACProfileManager:d,handleMediaButtonClick:c}=e,u=(0,N.Z)({type:"deprecated",data:n}),h=n.is_eligible_for_pdp?u():void 0,{isEligibleForStaticImageIdeaPin:p}=(0,te.Z)(n.story_pin_data_id),{clientTrackingParams:g}=(0,m.x4)(),_=(0,o.jsx)(tt.Z,{auxData:h,clientTrackingParams:g,component:85,viewParameter:r,children:p?(0,o.jsx)(e9,{handleMediaButtonClick:c,isHovered:t,isORBACProfileManager:d,onImageClick:i,pin:n,shouldPadImage:a,trafficSource:l,viewParameter:r}):(0,o.jsx)(eK,{handleMediaButtonClick:c,isHovered:t,isORBACProfileManager:d,onImageClick:i,pin:n,shouldPadImage:a,trafficSource:l,viewParameter:r})});return a?(0,o.jsx)(s,{children:_}):_};var tn=i(935410),ta=i(907197),tl=i(294851),tr=i(219057),to=i(298638);let ts=(0,_.lazy)(()=>i.e("74993").then(i.bind(i,613047))),td=({children:e,name:t,verticalOffset:i=0,horizontalOffset:n=0})=>(0,o.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",padding:`${i}px ${n}px`}},"data-test-id":`experimental-closeup-image-overlay-layer-${t}`,left:!0,position:"absolute",right:!0,top:!0,children:e}),tc=void 0!==l?l:l=i(971203),tu=({closeupIsFirstPageInHistoryStack:e,customThumbnail:t,imageContainerRef:i,isWideVideo:n,pin:a,pinKey:l,shouldPadImage:d,flyoutShareProps:c,video:u,isORBACProfileManager:h,handleMediaButtonClick:g})=>{let y=(0,I.Z)(tc,l),x=!!a.promoter&&!a.is_downstream_promotion,f=x&&!a.is_eligible_for_web_closeup,{access:v,should_mute:b}=a||{},w=!!v&&v.includes("tag")||h,{closeupWithinMasonryEnabled:P}=(0,m.x4)(),{closeupBodyWidth:j}=(0,ey.K)(),{checkExperiment:S}=(0,e_.ru)(),k=(0,tr.Z)(),{fiftyPercentWidth:A}=(0,Q.Re)(),{maxHeight:C}=(0,ez.Z)({pinKey:y}),{isCloseupMediaViewerEnabled:T}=(0,eh.Z)({isShufflePin:!!a?.shuffle}),E=S("web_animated_closeup_button_v2").anyEnabled,z=S("web_closeup_video_loop").anyEnabled,Z=Math.max((j??1)/("number"==typeof C?C:1),(u.hls?.width??u?.mp4?.width??0)/(u.hls?.height??u?.mp4?.height??0)),M=P?j:p.Gg-p.d2,D=(0,_.useCallback)(({event:e})=>{g?.(),e.stopPropagation()},[g]),L=(0,_.useMemo)(()=>T&&S("media_viewer_videos").anyEnabled,[T,S]),R=(0,o.jsxs)(to.Z,{isVideo:!0,isWideVideo:n,shouldPadImage:d,styleOverrides:d&&!P?{maxWidth:{maxWidth:M},minWidth:{minWidth:M},height:{},borderRadius:16}:{},variant:"default",children:[(0,o.jsx)(r.xu,{ref:i,"data-test-id":"closeup-video-with-visibility",maxHeight:C,maxWidth:A,width:"100%",children:(0,o.jsx)(tl.Z,{aspectRatio:P?Z:void 0,autoplay:!k,customThumbnail:t,flyoutShareProps:c,isPromoted:x,loop:z||f,muted:b||e,objectFit:P?"contain":void 0,pinId:a.id,pinKey:y,shouldMute:b,variant:"default",video:u})}),w&&(0,o.jsx)(td,{name:"tag-button",children:(0,o.jsx)(em.Z,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:(0,o.jsx)(eo.Z,{children:(0,o.jsx)(er.Z,{children:(0,o.jsx)(ts,{pin:a})})})})}),L&&(0,o.jsxs)(td,{name:"media-viewer-button",verticalOffset:136,children:[(0,o.jsx)(r.xu,{height:"100%"}),(0,o.jsx)(r.xu,{display:"flex",justifyContent:"end",paddingX:el.Z,right:!0,children:(0,o.jsx)(em.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewerButton",children:(0,o.jsx)(eo.Z,{children:(0,o.jsx)(er.Z,{children:E?(0,o.jsx)(tn.default,{animateOnMount:!1,dataTestId:"media-viewer-button",icon:"maximize",imageSignature:a.image_signature,onTap:g,variant:"view-larger"}):(0,o.jsx)(ta.default,{animateOnRender:!1,animateShopButton:!0,dataTestId:"media-viewer-button",id:a.id,imageSignature:a.image_signature,onButtonClick:D,surfaceType:"media-viewer",variant:"view-larger"})})})})})]})]});return d?(0,o.jsx)(s,{children:R}):R};var th=i(617778);let tp=e=>{let{clientTrackingParams:t,closeupIsFirstPageInHistoryStack:i,imageContainerRef:n,flyoutShareProps:a,isWideVideo:l,pin:s,shouldPadImage:d,trafficSource:c,isORBACProfileManager:u,isHovered:h,onImageClick:p,viewParameter:_,handleMediaButtonClick:y}=e,{video:x,imgSrc:v,isEmbeddedVideo:w,isYoutubePin:P}=(0,b.G)(),{closeupWithinMasonryEnabled:I}=(0,m.x4)(),j=(0,f.Z)({showProductDetailPage:!!s.is_eligible_for_pdp}),{checkExperiment:S}=(0,e_.ru)(),k=(0,o.jsx)(th.Z,{clientTrackingParams:t,hovered:h,pinKey:{type:"deprecated",data:s},viewType:3,children:(0,o.jsx)(ti,{handleMediaButtonClick:y,isHovered:h,isORBACProfileManager:u,onImageClick:p,pin:s,shouldPadImage:d,trafficSource:c,viewParameter:_})});x&&(k=(0,o.jsx)(tu,{closeupIsFirstPageInHistoryStack:i,customThumbnail:v,flyoutShareProps:a,handleMediaButtonClick:y,imageContainerRef:n,isORBACProfileManager:u,isWideVideo:l,pin:s,pinKey:{type:"deprecated",data:s},shouldPadImage:d,video:x}));let A="50%";if(w){let e=s.attribution&&(s.attribution.author_name||s.attribution.url)?s.attribution.provider_name:null;"soundcloud"===e?A="30%":"vin"===e&&(A="100%"),k=(0,o.jsx)(g,{embedUrl:s.embed?.src,isWideVideo:l,paddingBottom:A,shouldPadImage:d})}let C=S("web_closeup_youtube_player").group;if(P&&["enabled","enabled_autoplay","enabled_delay","employees"].includes(C)){let e=(0,e$.Mt)(s.link),t=["enabled_autoplay","enabled_delay"].includes(C),i=`https://www.youtube.com/embed/${e}?autoplay=${+!!t}&mute=${+!!t}&fs=0`;k=(0,o.jsx)(g,{embedUrl:i,isWideVideo:l,paddingBottom:A,shouldPadImage:d})}return(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{overflow:I?"clip":void 0}},rounding:I&&!j?4:void 0,children:k})}},846721:function(e,t,i){i.d(t,{Z:()=>v});var n,a=i(667294);i(167912);var l=i(507438),r=i(102134),o=i(878709),s=i(821342),d=i(415546),c=i(525839),u=i(411354),h=i(453179),p=i(274320),m=i(664897),g=i(448505),_=i(7872),y=i(218831),x=i(601686);let f=void 0!==n?n:n=i(224266);function v({pinKey:e}){let t=(0,c.ZP)(),i=(0,s.Z)(),{checkExperiment:n}=(0,p.ru)(),v=(0,g.Z)(),{mainImage:b,carouselInfo:w,previewImage:P,isGif:I,imgSrc:j}=(0,o.G)(),S=(0,r.Z)(),k=(0,d.Z)(f,e),A=(0,m.Z)(),{aggregatedPinData:C,altText:T,autoAltText:E,isEligibleForPdp:z,isEligibleForRelatedProducts:Z,pinner:M,richMetadata:D,trackedLink:L,utmLink:R,link:B,method:O,shuffle:F}=k,W=!z&&w?.carouselData,V=!!C?.isShopTheLook,K=!!F&&S(),H=!!Z&&!V&&!z&&!W&&!K,N=(0,_.nl)(i,v)&&n("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,[$,G]=(0,a.useState)(!0),U=(0,a.useCallback)(()=>{G(!1)},[G]),X=k.imageSpec_orig?.url,J=w?.carouselData?function(e){let{carousel_slots:t,index:i}=e;return t&&void 0!==i&&(t[i]||{}).image_signature?t[i].image_signature:null}(w.carouselData):k.imageSignature,Y=(0,h.Zt)({trackedLink:L,link:B,utmLink:R}),q="catalog_bulk_create"===O||D?.products,Q=Y&&q?decodeURIComponent(Y):Y,ee=(0,_.Ms)(i,v)===M?.username&&N,{closeupWithinMasonryEnabled:et,paneWidth:ei,showProductDetailPage:en}=(0,x.x4)(),{closeupBodyWidth:ea}=(0,y.K)(),{height:el,width:er}=b,eo=(0,a.useMemo)(()=>({naturalWidth:er,naturalHeight:el,alt:(0,l.Z)({altText:T,autoAltText:E,i18n:t}),src:I?j:!A&&j?.startsWith("https://i.pinimg.com/")?(0,u.Z)(j)||P?.url||"":P?.url||""}),[er,el,T,E,t,I,A,j,P?.url]),es=(0,a.useMemo)(()=>({naturalHeight:eo.naturalHeight,naturalWidth:eo.naturalWidth,mainImage:{alt:eo.alt,src:I?eo.src:j},...!I&&{previewImage:{alt:"",src:I?"":eo.src}}}),[eo.alt,eo.naturalHeight,eo.naturalWidth,eo.src,j,I]);return{animateShopButton:$,disablePinTagButton:ee,imageProps:eo,imageSignature:J,imageWithPreview:es,isScenePin:H,link:Q,maxCloseupImageWidth:et&&ea||ei,onShopButtonAnimationComplete:U,originalImageUrl:X,showProductDetailPage:en}}},71157:function(e,t,i){i.r(t),i.d(t,{default:()=>u});var n=i(20256),a=i(707915),l=i(704300),r=i(521009),o=i(525839),s=i(123317),d=i(341742),c=i(785893);let u=({clientTrackingParams:e,watchAgain:t,imageSrc:i,pinDescription:u,pinId:h,rounded:p=!0})=>{let m=(0,o.ZP)(),g=(0,r.Z)();(0,d.Z)(()=>{g({event_type:120,view_type:3,component:13799})});let _=()=>{t()};return(0,c.jsx)(n.xu,{alignItems:"center",bottom:!0,color:"dark","data-test-id":"story-pin-end-card",direction:"column",display:"flex",height:"100%",justifyContent:"center",left:!0,opacity:.9,padding:4,position:"absolute",right:!0,rounding:p?s.yR:0,top:!0,width:"100%",children:(0,c.jsx)(n.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",width:"100%",children:(0,c.jsxs)(n.kC,{alignContent:"start",direction:"column",gap:{row:0,column:8},justifyContent:"start",children:[(0,c.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(l.default,{buttonText:m._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished'),clientTrackingParams:e,imageSrc:i,pinDescription:u,pinId:h,shownWithinMasonry:!0})}),(0,c.jsxs)(n.kC,{alignItems:"center",children:[(0,c.jsx)(a.Z,{accessibilityLabel:m._('Replay button', 'storyPin.closeup.endCard.replay', 'Button label to navigate to previous page'),handleClick:_,icon:"refresh",iconColor:"white",testId:"closeup-replay-button"}),(0,c.jsx)(n.xu,{children:(0,c.jsx)(n.iP,{onTap:_,rounding:2,children:(0,c.jsx)(n.X6,{color:"light",overflow:"normal",size:"400",children:m._('Replay', 'storyPin.closeup.endCard.replay', 'Button label to navigate to previous page')})})})]})]})})})}},996434:function(e,t,i){i.d(t,{Z:()=>c});var n=i(20256),a=i(592821),l=i(248762),r=i(677921),o=i(123317),s=i(123998),d=i(785893);function c({activePageIndex:e,clientTrackingParams:t,closeupStoryPinViewability:i,customEndCard:c,fontsLoaded:u,horizontalOffset:h,isActive:p,isPreview:m,muteVideos:g,onEnded:_,onFlyoutOpen:y,onUpdateVideoInfo:x,ownerId:f,page:v,pageAspectRatio:b,pageHeight:w,pageIndex:P,pageWidth:I,pin:j,pinId:S,productPins:k,shouldLogTimeSpent:A=!0,stillLoading:C=!1,verticalOffset:T,videoPinProgress:E,viewParameter:z,viewType:Z}){let{nonRenderableBlocks:M,blocks:D}=(0,r.Z)({storyPinBlocks:v.blocks??[]}),L=!!D.find(e=>e.type===o.h8.VIDEO),R=!!D.find(e=>!!e.video&&e.type===o.h8.VIDEO&&e.video_signature),B=M.find(e=>e.type===o.h8.MUSIC),O=B?.type==="story_pin_music_block"?B.provider_recording_id:void 0,F=()=>(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{background:a.yc}},height:"100%",children:!m&&D.filter(e=>!L||R||e.type===o.h8.VIDEO).map((t,n)=>{let a=(k||[]).find(e=>[e.id,e.cacheable_id].includes(t.pin_id));return(0,d.jsx)(l.Z,{activePageIndex:e,block:t,closeupStoryPinViewability:i,customEndCard:c,disableProductStickers:!0,fontsLoaded:u,horizontalOffset:h,isActive:p,isSplitLayout:3===v.layout,musicRecordingId:O,muteVideos:g,onEnded:_,onFlyoutOpen:y,onUpdateVideoInfo:x,ownerId:f,pageAspectRatio:b,pageHeight:w,pageIndex:P,pageWidth:I,pin:j,pinId:S,pinKey:null!=a?{type:"deprecated",data:a}:null,stillLoading:C,verticalOffset:T,videoPinProgress:E},`${v.id??""}-${t.type??""}-${n}`)})});return A?(0,d.jsx)(s.Z,{auxData:{story_pin_page_id:P},clientTrackingParams:t,component:0===P?227:228,shouldUseGrandparentId:!0,view:Z,viewParameter:z,children:F()}):F()}},677921:function(e,t,i){i.d(t,{Z:()=>l});var n=i(123317);let a=[n.h8.COMMENT_REPLY_STICKER,n.h8.GENERIC_STICKER,n.h8.HEADING,n.h8.IMAGE,n.h8.MENTION_STICKER,n.h8.PARAGRAPH,n.h8.PRODUCT_STICKER,n.h8.VIDEO,n.h8.VTO_MAKEUP_STICKER];function l({storyPinBlocks:e=[],blocksToRender:t=a}){let i=[],l=[],r=[];return e.forEach(e=>{t.includes(e.type)?e.type===n.h8.PARAGRAPH||e.type===n.h8.HEADING?l.push(e):r.push(e):i.push(e)}),r.push(...l),{nonRenderableBlocks:i,textBlocks:l,blocks:r}}},102134:function(e,t,i){i.d(t,{Z:()=>r});var n=i(274320),a=i(15667),l=i(647709);let r=()=>{let{isAuthenticated:e}=(0,a.B)(),t=(0,l.HG)(),{checkExperiment:i}=(0,n.ru)();return()=>e&&t&&i("auth_dweb_shuffle_renderer_closeup_v2").anyEnabled}},73579:function(e,t,i){i.d(t,{Z:()=>n});let n=e=>({isEligibleForStaticImageIdeaPin:!!e})},704300:function(e,t,i){i.r(t),i.d(t,{default:()=>s});var n=i(667294),a=i(616550),l=i(11919),r=i(378888),o=i(785893);function s({buttonText:e,clientTrackingParams:t,imageSrc:i,pinDescription:s,pinId:d,shownWithinMasonry:c}){let u=(0,a.TH)(),[h,p]=(0,n.useState)(!!(0,r.mB)(u.search).share);return(0,o.jsx)(l.default,{buttonText:e,controllerOptions:{flyoutDisplayOptions:{showCaret:!0,shownWithinMasonry:c},isFlyoutOpen:h,loggingOptions:{component:228,element:10942,viewParameter:157,viewType:3},onFlyoutDismiss:()=>p(!1),onToggleFlyout:()=>p(!h),sendObject:{type:"pin",description:s,id:d,imageUrl:i,url:`/pin/${d}/`,clientTrackingParams:t}},iconColor:"white"})}},294851:function(e,t,i){i.d(t,{Z:()=>g});var n,a=i(667294);i(422578);var l=i(869985),r=i(415546),o=i(776777),s=i(863667),d=i(750092),c=i(104659),u=i(785893);function h(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let p=void 0!==n?n:n=i(3449);class m extends a.Component{constructor(...e){super(...e),h(this,"handleVisibilityChanged",e=>{let{pinId:t,isPromoted:i,setCurrentVideo:n,pauseAutoplay:a,videosAutoplaying:l,videoStartTime:r}=this.props,o=(0,d.Z)(t,l);e&&!o?n({pinId:t,isPromoted:!!i,currentTime:r}):!e&&o&&a({pinId:t,isPromoted:!!i,currentTime:this.currentVideoCurrentTime})}),h(this,"handleVideoTimeChange",e=>{let{pinId:t,videosAutoplaying:i}=this.props;(0,d.Z)(t,i)&&(this.currentVideoCurrentTime=e.time)})}componentDidUpdate(e){let{appInFocus:t}=e,{appInFocus:i,pauseAutoplay:n,pinId:a,isPromoted:l,setCurrentVideo:r,videosAutoplaying:o}=this.props,c=(0,d.Z)(a,o),u=(0,s.Z)(a,o);this.currentVideoCurrentTime=u??this.currentVideoCurrentTime,i!==t&&!i&&c?(this.pausedDueToBrowserOutOfFocus=!0,n({pinId:a,isPromoted:!!l,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:a,isPromoted:!!l,currentTime:this.currentVideoCurrentTime}))}componentWillUnmount(){let{pinId:e,isPromoted:t,pauseAutoplay:i}=this.props;i({pinId:e,isPromoted:!!t,currentTime:this.currentVideoCurrentTime})}render(){let{pauseAutoplay:e,pin:t,setCurrentVideo:i,videoStartTime:n,videosAutoplaying:a,...r}=this.props;return(0,u.jsx)(o.Z,{onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!1,...r,children:(0,u.jsx)(l.Z,{...r,onTimeChange:this.handleVideoTimeChange,pinKey:t})})}}function g(e){let{pinId:t,pinKey:i,isPromoted:n}=e,a=(0,r.Z)(p,i),{appUI:{appInFocus:l,videosAutoplaying:o},pauseAutoplay:s,setCurrentVideo:d}=(0,c.G)(),{organicVideosAutoplaying:h,promotedVideosAutoplaying:g}=o,_=n?g[t]:h[t];return(0,u.jsx)(m,{...e,appInFocus:l,pauseAutoplay:s,pin:a,setCurrentVideo:d,videosAutoplaying:o,videoStartTime:_?_.currentTime:null})}},281260:function(e,t,i){i.d(t,{Z:()=>l,q:()=>a});var n=i(398236);let a=(e=0,t="")=>`@keyframes shopButtonSlideInThenOut {
  0% {
    width: 0px;
  }

  15% {
    width: ${e+n.I}px;
  }

  85% {
    width: ${e+n.I}px;
  }

  100% {
    width: 0px;
  }
}

@keyframes shopButtonSlideOut {
  0% {
    width: ${e+n.I}px;
  }
  100% {
    width: 0px;
  }
}

@keyframes stelaSlideOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes revealShopText {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes stelaSlideInThenOut {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }

  50% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  85% {
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}


@keyframes stelaGrowInAndOut {
0% {
  transform: scale(0);
  opacity: 0;
}

10% {
  transform: scale(1);
  opacity: 1;
}

90% {
  transform: scale(1);
  opacity: 1;
}

100% {
  transform: scale(0);
  opacity: 0;
}
}

@keyframes buttonSlideIn${t} {
  0% {
    width: 0px;
  }
  15% {
    width: ${e+n.I}px;
  }
  100% {
    width: ${e+n.I}px;
  }
}

@keyframes stelaSlideIn {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}
`,l=(e=0)=>`@keyframes shopButtonSlideInThenOut {
  0% {
    width: 0px;
  }

  15% {
    width: ${e+n.I}px;
  }

  85% {
    width: ${e+n.I}px;
  }

  100% {
    width: 0px;
  }
}

@keyframes revealShopText {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes stelaSlideInThenOut {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }

  50% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  85% {
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}


@keyframes stelaGrowInAndOut {
0% {
  transform: scale(0);
  opacity: 0;
}

10% {
  transform: scale(1);
  opacity: 1;
}

90% {
  transform: scale(1);
  opacity: 1;
}

100% {
  transform: scale(0);
  opacity: 0;
}
}

`},398236:function(e,t,i){i.d(t,{I:()=>n,b:()=>a});let n=24,a=36},673616:function(e,t,i){function n({isHiddenPin:e,isUnsafePin:t}){return!e&&!t}i.d(t,{Z:()=>n})},411354:function(e,t,i){i.d(t,{Z:()=>o});var n=i(603316);let a=e=>{let t=new Image;t.loading="lazy",t.src=e;let{complete:i}=t;return t.src="",i},l=["736x","564x","474x","236x"],r=new RegExp(/\/(\d+x|originals)\//);function o(e){for(let t of l){let i=e.replace(r,`/${t}/`);if(a(i))return(0,n.nP)("web.closeup.cached_preview_image.found",{tags:{resolution:t}}),i}return(0,n.nP)("web.closeup.cached_preview_image.not_found"),null}},640785:function(e,t,i){i.d(t,{NC:()=>l,Rc:()=>o,WK:()=>d,X9:()=>a,b9:()=>n,f9:()=>s,gu:()=>r});let n="pin-builder-font-faces",a="system-font-faces",l="pin-builder-education-font-faces",r="licensed",o="system",s="brand",d=4},389965:function(e,t,i){i.d(t,{Z:()=>ew});var n=i(667294),a=i(616550),l=i(20256),r=i(96413),o=i(592821),s=i(996434),d=i(581722),c=i(525839),u=i(611282),h=i(776777),p=i(169053),m=i(785893);let g=e=>{let t=(0,c.ZP)(),{sourceUrl:i,clientTrackingParams:n,linkText:a,displayUrl:r,image:o,pageId:s,canonicalUrl:h,pinId:g,onTouch:_,onClickThrough:y,isLoading:x}=e,f={story_pin_page_id:s,story_pin_data_id:(0,d.v9)(t=>e.pinId&&t.pins?.[e.pinId]?.story_pin_data_id),src_url:i,canonical_url:h},v=(0,m.jsxs)(l.xu,{alignItems:"center",borderStyle:"sm",display:"flex",overflow:"hidden",rounding:2,children:[(0,m.jsx)(l.xu,{alignItems:"center",color:x||o&&o.url?void 0:"secondary",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},display:"flex",flex:"none",height:80,justifyContent:"center",minWidth:80,width:80,children:x?(0,m.jsx)(l.xH,{accessibilityLabel:t._('Loading website', 'a11y for loading spinner', 'a11y for loading spinner'),show:!0}):o&&o.url?(0,m.jsx)(l.Ee,{alt:a,fit:"cover",naturalHeight:o.height??1,naturalWidth:o.width??1,src:o.url}):(0,m.jsx)(l.JO,{accessibilityLabel:t._('Default link block icon', 'Icon for default link blocks without an image', 'Icon for default link blocks without an image'),color:"subtle",icon:"link",size:35})}),(0,m.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},flex:"grow",overflow:"hidden",paddingX:5,children:[(0,m.jsx)(l.xv,{lineClamp:1,weight:"bold",children:a}),(0,m.jsx)(l.xv,{color:"shopping",size:"200",children:r})]})]}),b=(0,p.S6)()(g),w=(0,u.Z)({href:{pathname:i,state:{trackingParams:n}},target:"blank",clientTrackingParams:n,externalData:b?{pin:b&&{attributionSourceId:b.attribution_source_id,board:b.board&&{url:b.board.url},campaignId:b.campaign_id,entityId:b.id,isDownstreamPromotion:b.is_downstream_promotion,isPromoted:b.is_promoted,pinner:b.pinner&&{username:b.pinner.username},pinPromotionId:b.pin_promotion_id,promoter:b.promoter&&{entityId:b.promoter.id},storyPinDataId:b.story_pin_data_id,trackingParams:b.tracking_params,advertiserId:b.advertiser_id}}:void 0});return _?(0,m.jsx)(l.iP,{onTap:_,rounding:2,children:v}):(0,m.jsx)(l.Tg,{href:i,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),y&&y({auxData:f}),w({event:e})},rel:"nofollow",rounding:2,target:"blank",children:v})},_=e=>(0,m.jsx)(h.Z,{...e,children:(0,m.jsx)(g,{...e})});var y=i(980787),x=i(123317);let f=(0,i(78762).Z)(()=>Promise.all([i.e("90562"),i.e("15564")]).then(i.bind(i,125734)),void 0,e=>125734,"app-common-react-components-Activities-Utils-Linkify"),v=({block:e,clientTrackingParams:t,pageId:i,pinId:n,onClickThrough:a})=>{let{logContextEvent:r}=(0,y.u)();switch(e.type){case x.h8.LINK:let{canonical_url:o,image:s,normalized_url:d,src_url:c,text:u=""}=e,h=s?.images?.["345x"];if(s&&c&&d&&o)return(0,m.jsx)(l.xu,{marginTop:5,children:(0,m.jsx)(_,{canonicalUrl:o,clientTrackingParams:t,displayUrl:d,image:h,linkText:u,onClickThrough:a,onVisibilityChanged:e=>{e&&r({event_type:120,view_type:3,view_parameter:157,component:228,element:11157,object_id_str:n,aux_data:{story_pin_page_id:i,srcUrl:c,canonicalUrl:o}})},pageId:i,pinId:n,sourceUrl:c})});return null;case x.h8.HEADING:{let{text:t=""}=e;return(0,m.jsx)(l.xu,{marginBottom:4,paddingX:2,children:(0,m.jsx)(l.X6,{accessibilityLevel:2,overflow:"normal",size:"600",children:t})})}case x.h8.PARAGRAPH:{let{text:t=""}=e;return(0,m.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},paddingX:2,children:(0,m.jsx)(l.xv,{children:(0,m.jsxs)(f,{children:[" ",t," "]})})})}default:return null}};var b=i(369416);let w=`
@media (min-height: 0) {
  .StoryPinText {
    padding: 15px;
  }
  .StoryPinText span {
    font-size: 12px;
  }
  .StoryPinText h2 {
    font-size: 18px;
  }
}

@media (min-height: 600px) {
  .StoryPinText {
    padding: 2.5vh;
  }
  .StoryPinText span {
    font-size: 2vh;
  }
  .StoryPinText h2 {
    font-size: 3vh;
  }
}

@media (min-height: 800px) {
  .StoryPinText {
    padding: 20px;
  }
  .StoryPinText span {
    font-size: 16px;
  }
  .StoryPinText h2 {
    font-size: 24px;
  }
}
`,P=e=>{let{blocks:t,clientTrackingParams:i,pageId:a,pinId:l,onClickThrough:r}=e;return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(b.Z,{unsafeCSS:w}),(0,m.jsx)("div",{className:"StoryPinText",children:t.filter(e=>e).map((e,t)=>(0,m.jsx)(v,{block:e,clientTrackingParams:i,onClickThrough:r,pageId:a,pinId:l},t))})]})};var I=i(179639);let j=o._B*x.ap,S=`
.StoryPinTextDrawer {
  background: #fff;
  border-top-left-radius: 32px;
  border-top-right-radius: 32px;
  bottom: 0;
  box-shadow: rgba(0, 0, 0, 0.1) 0 1px 20px 0;
  box-sizing: border-box;

  height: auto;
  max-height: 15%;
  opacity: 0.625;
  position: absolute;
  transition: max-height 0.15s ease-in, opacity 0.15s ease-in;
  width: 100%;
}

.StoryPinTextDrawer:hover {
  max-height: 70%;
  opacity: 1;
  overflow: scroll;
}
`;function k(e){let t=(0,c.ZP)(),{activePageIndex:i,clientTrackingParams:a,hideText:r,isActive:s,isCoverPage:d,muteVideos:u,onClickThrough:h,page:{image_adjusted:p,image:g,blocks:_,video:y,id:x},pageIndex:f,pageWidth:v,pin:w,pinId:k}=e,{images:A={}}=p||g||{},C=A["750x"],{video_list:T={}}=y||{},E=T.V_HLSV3_MOBILE||T.V_720P;if(!C&&!E)return null;let z=v/o._B;return(0,m.jsxs)(n.Fragment,{children:[!!y&&!!E&&(0,m.jsx)(I.Z,{activePageIndex:i,blockHeight:j*z,blockWidth:o._B*z,isPlaying:s,muted:u,pageIndex:f,pin:w,pinId:k,video:y}),C&&C.url&&!E&&(0,m.jsx)(l.Ee,{alt:function(e){let t="";for(let i of e.blocks??[])[1,0].includes(i.block_type)&&(t=i.text?i.text:"");return t??""}(e.page)||t._('Story pin image', 'Alt text for story pin image', 'Alt text for story pin image'),fit:d?"cover":"contain",naturalHeight:C.height??1,naturalWidth:C.width??1,src:C.url}),_&&_.length>0&&!r&&(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(b.Z,{unsafeCSS:S}),(0,m.jsx)("div",{className:"StoryPinTextDrawer",children:(0,m.jsx)(P,{blocks:_,clientTrackingParams:a,onClickThrough:h,pageId:x,pinId:k})})]})]})}let A=e=>{let{page:{image_adjusted:t,blocks:i}}=e,{images:a={}}=t||{},r=a["750x"];if(!r)return null;let{width:o,height:s}=r;return(0,m.jsx)(n.Fragment,{children:r&&r.url&&(0,m.jsx)(l.Ee,{alt:(i??[]).map(e=>e.text||"").join(),fit:"contain",naturalHeight:s??1,naturalWidth:o??1,src:r.url})})};var C=i(607600),T=i(390843),E=i(886981),z=i(885003),Z=i(123998),M=i(611499),D=i(230543);function L({children:e,clientTrackingParams:t,closeupStoryPinViewability:i,pin:n,productPins:a,viewParameter:l,viewType:r}){let{previous:o,forward:d}=(0,T.ou)(),c=0===o.length&&0===d.length,u=(0,D.t)();return(0,m.jsx)(z.o,{closeupPaneWidth:M.Gg,headerHeight:u,isLandingPage:c,loadFonts:C.Z,productPins:a,renderStoryPinMediaLayout:({activePageIndex:e,hideText:i,isActive:a,isCoverPage:l,muteVideos:r,onClickThrough:o,page:s,pageIndex:d,pageWidth:c,pinId:u})=>(0,m.jsx)(k,{activePageIndex:e,clientTrackingParams:t,hideText:i,isActive:a,isCoverPage:l,muteVideos:r,onClickThrough:o,page:s,pageIndex:d,pageWidth:c,pin:n,pinId:u}),renderStoryPinPage:({activePageIndex:e,customEndCard:a,fontsLoaded:o,isActive:d,muteVideos:c,onEnded:u,onFlyoutOpen:h,onUpdateVideoInfo:p,page:g,pageAspectRatio:_,pageHeight:y,pageWidth:x,ownerId:f,pinId:v,productPins:b,shouldLogTimeSpent:w,stillLoading:P,videoPinProgress:I})=>(0,m.jsx)(s.Z,{activePageIndex:e,clientTrackingParams:t,closeupStoryPinViewability:i,customEndCard:a,fontsLoaded:o,isActive:d,muteVideos:c,onEnded:u,onFlyoutOpen:h,onUpdateVideoInfo:p,ownerId:f,page:g,pageAspectRatio:_,pageHeight:y,pageIndex:e,pageWidth:x,pin:n,pinId:v,productPins:b,shouldLogTimeSpent:w,stillLoading:P,videoPinProgress:I,viewParameter:l,viewType:r}),renderStoryPinSplitLayout:({page:e})=>(0,m.jsx)(A,{page:e}),renderStoryPinText:({blocks:e,onClickThrough:i,pageId:n,pinId:a})=>(0,m.jsx)(P,{blocks:e,clientTrackingParams:t,onClickThrough:i,pageId:n,pinId:a}),children:e})}function R({clientTrackingParams:e,children:t,isInStream:i,viewType:n,viewParameter:a}){return i?t:(0,m.jsx)(Z.Z,{clientTrackingParams:e,component:85,view:n,viewParameter:a,children:t})}function B({children:e,pin:t}){return e({productPins:(0,E.Z)({name:"StoryPinTaggedProductsResource",options:{id:t.id},noCache:!0}).data||[]})}function O({children:e,clientTrackingParams:t,closeupStoryPinViewability:i,pin:n,isInStream:a=!1,viewType:l,viewParameter:r}){let o=!!n.story_pin_data?.has_product_pins,s=({productPins:a})=>(0,m.jsx)(L,{clientTrackingParams:t,closeupStoryPinViewability:i,pin:n,productPins:a,viewParameter:r,viewType:l,children:e});return(0,m.jsx)(R,{clientTrackingParams:t,isInStream:a,viewParameter:r,viewType:l,children:o?(0,m.jsx)(B,{pin:n,children:s}):s({productPins:[]})})}var F=i(521009),W=i(642407),V=i(355940),K=i(115247),H=i(453179),N=i(728994),$=i(776250),G=i(67831),U=i(716920),X=i(754545),J=i(956077),Y=i(821806),q=i(15667),Q=i(572227);function ee({appConfig:e}){let t=(0,c.ZP)(),i=(0,Q.Z)(),{isRTL:a}=(0,q.B)();return(0,m.jsx)(n.Fragment,{children:(0,m.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:16}},"data-test-id":"back-button",left:!a,paddingX:4,position:"absolute",right:a,top:!0,children:"authDesktop"===e.type&&(0,m.jsx)(l.hU,{accessibilityLabel:t._('Back button', 'storyPin.closeup.back', 'Button label to navigate to previous page'),bgColor:"transparent",icon:"directional-arrow-left",iconColor:"darkGray",onClick:()=>{i({action:"click",item:"back-button"}),e.onNavigateBack()},size:"lg"})})})}var et=i(281106),ei=i(461413),en=i(181663),ea=i(445698),el=i(724084),er=i(543561),eo=i(341742),es=i(239728),ed=i(601686),ec=i(458460),eu=i(620427);let eh=(0,n.lazy)(()=>i.e("65443").then(i.bind(i,850447))),ep=(0,n.lazy)(()=>Promise.resolve().then(i.bind(i,71157))),em=(0,n.lazy)(()=>i.e("32560").then(i.bind(i,817631))),eg=(0,n.lazy)(()=>Promise.all([i.e("25418"),i.e("58000"),i.e("49124"),i.e("96415")]).then(i.bind(i,377733))),e_=(0,n.lazy)(()=>Promise.resolve().then(i.bind(i,704300))),ey={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"32px 32px 0 0"},ex={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"0 0 32px 32px",bottom:0},ef={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",borderRadius:"32px 32px 0 0",paddingTop:"30px",top:0},ev=[5,6,2];function eb({appConfig:e,clientTrackingParams:t,isInFocus:i,isInStream:a=!1,isStreamMuted:s,isStreamPanelOpen:d=!0,pin:u,storyPinData:h,onIdeaPinCloseupCommentClick:p,setStreamIsMuted:g,streamItemIndex:_,togglePanel:y,variant:f,viewType:v=3,viewParameterType:b,onTogglePanel:w}){let P,I=(0,z.c)(),{peekCloseupEnabled:j,viewportSize:S}=(0,ed.x4)(),k=(0,c.ZP)(),A=(0,F.Z)(),C=(0,U.g)(),T=(0,G.A)(),{setIdeaPinActivePage:E,setIdeaPinDynamicWidth:Z}=(0,ec.Ut)(),{activePage:M}=(0,ec.H8)(),{clearSeekTime:D}=(0,el.RC)(),{seekTimes:L}=(0,el.Hx)(),{closeupPaneWidth:R,headerHeight:B,isLandingPage:O,renderStoryPinMediaLayout:K,renderStoryPinPage:q,renderStoryPinSplitLayout:Q,renderStoryPinText:eu,productPins:eb}=I||{},{id:ew}=u,eP=L&&L[u.id],eI=!!h?.is_deleted,{pages:ej=[],metadata:eS={}}=h||{},{canvas_aspect_ratio:ek,version:eA}=eS,eC=ek??x.ap,[eT,eE]=(0,n.useState)(0),ez=(0,n.useRef)(0),eZ=(0,n.useRef)(null),[eM,eD]=(0,n.useState)("closeup"===f&&i),[eL,eR]=(0,n.useState)(375),eB="calc(100% - 32px)",eO=(0,n.useRef)(null),[eF,eW]=(0,n.useState)(!1),[eV,eK]=(0,n.useState)(!1),[eH,eN]=(0,n.useState)(!0);(0,n.useEffect)(()=>{w&&w(eH)},[eH,w]),(0,n.useEffect)(()=>{eN(d)},[d]);let{should_mute:e$=!0,music_attributions:eG=[]}=ej[eT],[eU,eX]=(0,n.useState)(O||e$),eJ=void 0!==g?g:eX,eY=void 0!==s?s:eU;(0,n.useEffect)(()=>{e$&&eJ(!0)},[e$,eJ]);let eq=ej.filter(e=>!ev.includes(e.layout)),eQ=eq.length,e0=eq[eT],e1=b||(0,$.Z)({hasPin:!!u,hasPinRichMetadata:!!u.rich_metadata,hasPinRichMetadataProducts:!!u.rich_metadata?.products,hasPinRichMetadataArticle:!!u.rich_metadata?.article,hasPinRichMetadataRecipe:!!u.rich_metadata?.recipe,hasPinStoryPinData:!!u.story_pin_data}),e2=B+64,{getNormalizedPinImage:e3}=(0,N.Z)({pinKey:{type:"deprecated",data:u},maxWidth:W.Wm}),e6="closeup"===f,e8=()=>{if("undefined"!=typeof window){let e=window.innerWidth-(eH?R:0)-216;if(e6)eR(function({availableWidth:e,pageAspectRatio:t,unavailableHeight:i,windowInnerHeight:n}){let a=n-i,l=Math.min(Math.max(650,Math.min((n-i)*t,e)),1e3);return l/t>=a&&(l=a*t),l}({availableWidth:e,pageAspectRatio:eC,unavailableHeight:e2,windowInnerHeight:window.innerHeight}));else{let{width:e}=e3();eR(e),Z(e)}}};(0,eo.Z)(()=>(window.addEventListener("resize",e8),e8(),()=>{window.removeEventListener("resize",e8)}));let[e5,e4]=(0,n.useState)(!1),[e7,e9]=(0,n.useState)(null),[te,tt]=(0,n.useState)(!1);(0,n.useEffect)(()=>{!te&&i&&(A({event_type:7588,view_type:v,view_parameter:e1,component:13801,object_id_str:ew,aux_data:{..."number"==typeof _?{grid_index:_}:{}}}),tt(!0))},[te,i,A,ew,v,e1,_]);let ti=(0,n.useCallback)(e=>{let{blocks:t}=ej[e]||{},n=t?.find(e=>3===e.block_type);eO.current&&eO.current instanceof er.B7&&(eO.current.clear(),eO.current=null),!n&&i&&(eO.current=new er.B7(e=>{e9({currentTime:e<1?e:1,duration:1})},()=>{let t="closeup"===f?e:M;t<eQ-1?(eO.current&&eO.current instanceof er.B7&&(eO.current.clear(),eO.current=null),tl(t+1)):(eW(!0),eD(!1))},H.oN))},[i,eQ,ej,M,f]),tn=e=>{e9({currentTime:0,duration:1}),ti(e)};(0,n.useEffect)(()=>{ez.current=eT},[eT]),(0,n.useEffect)(()=>{eZ.current=eM},[eM]),(0,eo.Z)(()=>(tn(eT),()=>{eO.current&&eO.current instanceof er.B7&&eZ.current&&eO.current.clear()}));let ta=e=>{T&&(T.abort("startNewPwt"),(0,X.JG)("startStoryPinStepPwt")),C&&(C.abort("startNewPwt"),C.start(),C.addBinaryAnnotation("page.current.index",e,"I16"),C.addBinaryAnnotation("page.count",ej.length,"I16"),C.addBinaryAnnotation("view.type",v,"I32"),C.addBinaryAnnotation("view.parameter",e1,"I32"))};(0,eo.Z)(()=>{T&&(T.addBinaryAnnotation("page.current.index",eT,"I16"),T.addBinaryAnnotation("page.count",ej.length,"I16"),T.addBinaryAnnotation("view.type",v,"I32"),T.addBinaryAnnotation("view.parameter",e1,"I32")),(0,J.rt)("page.current.index",eT,"I16"),(0,J.rt)("page.count",ej.length,"I16"),(0,J.rt)("view.type",v,"I32"),(0,J.rt)("view.parameter",e1,"I32")});let tl=e=>{eM||eD(!0),eF&&eW(!1),tn(e),e!==eT&&D(),eE(e),E(e),ta(e)};(0,n.useEffect)(()=>{if(eF&&eW(!1),eO.current&&eP){let e=eO.current;e.pause(),e.remaining=H.oN-eP*es.gJ,e9({currentTime:eP/H.P6,duration:1})}},[eP]),(0,n.useEffect)(()=>{E(M)},[E,M]),(0,n.useEffect)(()=>{"related-products"===f&&(eE(M),tl(M))},[M,f]);let tr=()=>eF?13799:0===eT?227:228,to=()=>{eT<eQ-1&&(tl(eT+1),A({event_type:101,view_type:v,view_parameter:e1,component:tr(),element:12261,object_id_str:ew}))},ts=e=>{let{keyCode:t,target:i}=e,n=!!i&&"isContentEditable"in i&&i.isContentEditable||!!i&&"contentEditable"in i&&"true"===i.contentEditable;37!==t||n?39!==t||n||to():eT===eQ-1&&eF?(tl(eT),A({event_type:101,view_type:v,view_parameter:e1,component:tr(),element:12260,object_id_str:ew})):eT>0&&(tl(eT-1),A({event_type:101,view_type:v,view_parameter:e1,component:tr(),element:12260,object_id_str:ew}))};(0,n.useEffect)(()=>(document.addEventListener("keydown",ts),()=>document.removeEventListener("keydown",ts)),[eT]);let{fontsLoaded:td,mediaDataReceived:tc}=(0,ea.tq)({hasPin:!!u,pages:ej}),tu=eA?(0,er.n4)(eA,"0.8.0"):null,th=null!=tu&&tu>=0,tp=e=>{e===eQ-1&&(eW(!0),eD(!1),E(0)),e===eT&&to()},tm=e=>{e9({currentTime:e?.currentTime??0,duration:e?.duration??1})},tg=()=>{eK(!0),eD(!1),eO.current&&!eO.current.paused&&eO.current.pause()},t_=t=>ej[t]?th?q({activePageIndex:eT,fontsLoaded:td,customEndCard:!0,isActive:t===eT&&eM,muteVideos:eY,onChangeMuteVideo:eJ,onEnded:tp,onFlyoutOpen:tg,videoPinProgress:eT===t?e7:void 0,onUpdateVideoInfo:tm,ownerId:u.native_creator?.id??"",page:ej[t],pageAspectRatio:eC,pageIndex:t,pageHeight:eL/eC,pageWidth:eL,pinId:u.id,productPins:eb,shouldLogTimeSpent:i,stillLoading:!tc}):(t=>{let i=0===t.layout;switch(t.layout){case 0:case 1:return K({activePageIndex:eT,hideText:i,isActive:!0,isCoverPage:i,muteVideos:eY,onClickThrough:e.onClickThrough,page:t,pageIndex:eT,pageWidth:eL,pinId:ew});case 4:return t.blocks.length>0&&eu({blocks:t.blocks,pageId:`text-${eT}`,page:t,pinId:ew,onClickThrough:e.onClickThrough});case 3:return Q({page:t});default:return null}})(e0):null,ty=()=>{eD(!1),eO.current&&eO.current.pause(),A({event_type:9324,view_type:v,view_parameter:e1,component:tr(),object_id_str:ew,aux_data:{story_pin_page_id:eT}})},tx=()=>{if(eD(!0),eO.current){let e=eO.current;eP&&eP>0&&D(),e.resume()}else e7||tn(eT);A({event_type:9323,view_type:v,view_parameter:e1,component:tr(),object_id_str:ew,aux_data:{story_pin_page_id:eT}})},tf=()=>{eF||(eK(!1),eM?ty():tx())};(0,n.useEffect)(()=>{"closeup"===f&&(!i||eF||eM?!i&&eM&&ty():tx())},[i,f]),(0,n.useEffect)(()=>{"related-products"===f&&ty()},[]);let tv=()=>{tl(0)},{fiftyPercentWidth:tb,fiftyPercentHeight:tw}=(0,o.Re)(64),{maxHeight:tP}=(0,o.Re)(0,32),{fiftyPercentWidth:tI}=(0,o.Re)();return j&&(P="sm"===S?tw:tP),(0,m.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:e6?{top:B,height:`calc(100vh - ${B}px)`,position:"sticky",pointerEvents:"none",minHeight:632,maxHeight:j?P:void 0,zIndex:eH?"auto":3}:{}},display:"flex",left:!0,children:[(0,m.jsxs)(l.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",minWidth:j&&"sm"!==S?tI:void 0}},display:"flex",flex:"grow",justifyContent:"center",position:"relative",children:[e6&&(0,m.jsx)(l.xu,{bottom:!0,color:"secondary",left:!0,position:"absolute",right:!0,top:!0}),eI?(0,m.jsx)(ei.Z,{height:eL/x.ap,rounding:x.yR,width:eL}):(0,m.jsxs)(n.Fragment,{children:[tc&&(0,m.jsx)(l.xu,{height:1,left:!0,marginTop:-1,overflow:"hidden",position:"absolute",top:!0,width:1,children:(()=>{let e=[];for(let t=1;t<=ej.length;t+=1)eT+t<ej.length&&e.push(t_(eT+t));return e})()}),(0,m.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:e6?void 0:`${x.YL}px`}},display:"flex",onMouseLeave:()=>{e4(!1)},onMouseOver:()=>e4(!0),position:"relative",children:(0,m.jsxs)(l.xu,{paddingX:4,children:[(0,m.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...ex,flexDirection:"column-reverse"}},display:"flex",height:128,paddingX:6,position:"absolute",width:eB,zIndex:x.Gf,children:(0,m.jsx)(en.Z,{activePageIndex:eT,handleMute:()=>{e$||eJ(!eY)},handlePanelChange:()=>{eN(!eH)},handlePause:ty,handlePausePlay:tf,handlePlay:tx,handleVideoScrubbingNewPage:e=>{eF&&eW(!1),tn(e),eE(e),E(e),ta(e)},handleWatchAgain:tv,inMilliseconds:!0,isMuted:eY,isPanelOpen:eH,isPlaying:eM,onPageSelect:e=>tl(e),pageCount:eQ,pages:eq,pinId:u.id,progressInfo:e7,showEndCard:eF,showVideoControls:e5,viewParameter:e1})}),(0,m.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...!eH?{paddingLeft:"26px",bottom:0}:ef,marginBottom:eH?void 0:"88px",maxWidth:tb}},"data-test-id":"music-attribution",display:"flex",justifyContent:eH?"center":"start",overflow:"hidden",paddingY:eH?5:void 0,position:"absolute",width:eL,zIndex:x.Gf,children:(0,m.jsx)(r.Z,{handlePause:ty,handlePlay:tx,musicAttributions:eG,shouldMute:e$,showEndCard:eF})}),!eF&&!eH&&(0,m.jsxs)(l.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:eH?{}:ey},display:"flex",height:128,justifyContent:"between",padding:4,position:"absolute",top:!0,width:eB,zIndex:x.Gf,children:[(0,m.jsxs)(l.kC,{alignItems:"stretch",direction:"row",children:[!eH&&(0,m.jsx)(V.Z,{name:"SafeSuspense_IdeaPinCloseup_IdeaPinSecondarySendButton",children:(0,m.jsx)(Y.Z,{children:(0,m.jsx)(e_,{imageSrc:u.image_url??"",pinDescription:u.description??"",pinId:u.id})})}),!eH&&u.is_eligible_for_aggregated_comments&&(0,m.jsx)(V.Z,{name:"SafeSuspense_IdeaPinCloseup_CommentButton",children:(0,m.jsx)(Y.Z,{children:(0,m.jsx)(eh,{onCommentClick:()=>{A({event_type:101,view_type:v,view_parameter:e1,component:13801,element:10944,object_id_str:u.id}),a&&y?y():eN(!0),p&&p();let e=document.getElementById(`canonical-card-${u.id}`);e&&e.scrollIntoView({behavior:"smooth",block:"end"})}})})}),!eH&&(0,m.jsx)(V.Z,{name:"SafeSuspense_IdeaPinCloseup_ReactionPickerContainer",children:(0,m.jsx)(Y.Z,{children:(0,m.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,m.jsx)(eg,{clientTrackingParams:t,component:13801,iconColor:"white",pinId:u.id,reactionByMe:u.reaction_by_me,showTooltip:!0,viewParameter:e1,viewType:v})})})})]}),!eH&&(0,m.jsx)(V.Z,{name:"SafeSuspense_IdeaPinCloseup_PinSaveButton",children:(0,m.jsx)(Y.Z,{children:(0,m.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,m.jsx)(em,{clientTrackingParams:t,isCloseupPin:!0,onClickCallback:()=>{A({event_type:101,view_type:v,view_parameter:e1,component:13801,element:0,object_id_str:u.id})},pinKey:{type:"deprecated",data:u},size:"lg"})})})})]}),(0,m.jsx)(l.xu,{"data-test-id":"story-pin-closeup-container",position:"relative",children:(0,m.jsx)(l.iP,{accessibilityLabel:eM?k._('Pause', 'storyPin.closeup.pauseButton.accessibilityLabel', 'Button label for pause tap area'):k._('Play', 'storyPin.closeup.playButton.accessibilityLabel', 'Button label for play tap area'),disabled:eF,onTap:tf,rounding:x.yR,children:(0,m.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{maxWidth:tb,maxHeight:P}},"data-test-id":"story-pin-closeup-page",height:eL/eC,overflow:"hidden",position:"relative",rounding:x.yR,width:eL,children:[t_(eT),!eF&&!eV&&!eP&&(0,m.jsx)(et.Z,{playing:eM}),"authDesktop"===e.type&&eF&&u.native_creator&&(0,m.jsx)(V.Z,{name:"IdeaPinCloseup_EndCard",children:(0,m.jsx)(Y.Z,{children:(0,m.jsx)(l.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,rounding:x.yR,top:!0,zIndex:x.s5,children:(0,m.jsx)(ep,{clientTrackingParams:u.trackingParams||u.tracking_params,imageSrc:u.image_url??"",pinDescription:u.description??"",pinId:u.id,watchAgain:tv})})})})]})})})]})})]}),!a&&e6&&(0,m.jsx)(ee,{appConfig:e})]}),eH&&e6&&(0,m.jsx)(l.xu,{flex:"none",height:"100%",position:"relative",width:R,children:"duplo"===e.type&&e.storyPinDetails})]})}function ew(e){let{pin:t,viewType:i=3,viewParameterType:r}=e,[o,s]=(0,n.useState)({isInFocus:!0,viewability:0}),{isInFocus:d,viewability:c}=o,u=r||(0,$.Z)({hasPin:!!t,hasPinRichMetadata:!!t.rich_metadata,hasPinRichMetadataProducts:!!t.rich_metadata?.products,hasPinRichMetadataArticle:!!t.rich_metadata?.article,hasPinRichMetadataRecipe:!!t.rich_metadata?.recipe,hasPinStoryPinData:!!t.story_pin_data}),h=(0,a.TH)(),p=e.clientTrackingParams||(0,eu.Z)((h?.state||{}).trackingParams,t.trackingParams||t.tracking_params);return(0,m.jsx)(U.T,{children:(0,m.jsx)(K.Z,{onVisibilityChange:e=>{if(e&&e.length>0){let{intersectionRatio:t}=e[0];s({isInFocus:t>.5,viewability:t})}},options:{threshold:[0,.5,.8,.99,1]},children:n=>(0,m.jsx)(l.xu,{ref:n,children:(0,m.jsx)(O,{clientTrackingParams:p,closeupStoryPinViewability:c,pin:t,viewParameter:u,viewType:i,children:d?(0,m.jsx)(Z.Z,{clientTrackingParams:p,component:13801,objectId:t.id,view:i,viewParameter:u,children:(0,m.jsx)(eb,{...e,isInFocus:d})}):(0,m.jsx)(eb,{...e,isInFocus:d})})})})})}},461413:function(e,t,i){i.d(t,{Z:()=>r});var n=i(20256),a=i(525839),l=i(785893);function r({height:e,isDenseView:t,rounding:i,width:r,color:o}){let s=(0,a.ZP)();return(0,l.jsx)(n.xu,{alignItems:"center",color:o||"default","data-test-id":"unavailable-pin",display:"flex",height:e,justifyContent:"center",overflow:"hidden",position:"relative",rounding:i,width:r,children:(0,l.jsxs)(n.kC,{alignItems:"center",direction:"column",children:[(0,l.jsx)(n.xu,{paddingY:t?2:4,children:(0,l.jsx)(n.JO,{accessibilityLabel:s._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,l.jsx)(n.xv,{weight:"bold",children:s._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!t&&(0,l.jsx)(n.xu,{paddingY:1,children:(0,l.jsx)(n.xv,{children:s._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},724084:function(e,t,i){i.d(t,{RC:()=>h,Hx:()=>p,Wr:()=>u});var n=i(667294),a=i(729434),l=i(496406),r=i(914071),o=i(785893);let s=()=>Promise.resolve().then(i.bind(i,496406)),{Provider:d,get:c}=(0,a.Z)("IdeaPinVideoPlayer");function u({children:e}){let[t,i]=(0,r.Z)(s,l.initialState),a=(0,n.useMemo)(()=>({dispatch:i,ideaPinVideoPlayerControls:t}),[i,t]);return(0,o.jsx)(d,{value:a,children:e})}function h(){let{dispatch:e}=c();return(0,n.useMemo)(()=>({updateSeekTime:(t,i)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:i||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})}}),[e])}function p(){let{ideaPinVideoPlayerControls:e}=c();return e}},496406:function(e,t,i){i.r(t),i.d(t,{default:()=>a,initialState:()=>n});let n={seekTimes:{},currentProgressInfo:{currentTime:0,duration:0}};function a(e=n,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime}};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{}};default:return e}}},885003:function(e,t,i){i.d(t,{c:()=>o,o:()=>r});var n=i(667294),a=i(785893);let l=(0,n.createContext)(null);function r({children:e,closeupPaneWidth:t,headerHeight:i,isLandingPage:r,loadFonts:o,renderStoryPinMediaLayout:s,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:h}){let p=(0,n.useMemo)(()=>({closeupPaneWidth:t,headerHeight:i,isLandingPage:r,loadFonts:o,renderStoryPinMediaLayout:s,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:h}),[t,i,r,o,s,d,c,u,h]);return(0,a.jsx)(l,{value:p,children:e})}let o=()=>(0,n.useContext)(l)},776777:function(e,t,i){i.d(t,{Z:()=>r});var n=i(20256),a=i(331854),l=i(785893);function r({onVisibilityChanged:e,children:t,...i}){let r=(0,a.Z)({onVisibilityChanged:e,...i});return(0,l.jsx)(n.xu,{ref:r,children:t})}},219057:function(e,t,i){i.d(t,{Z:()=>l});var n=i(111330),a=i(753143);let l=()=>{let e=(0,a.M0)();return"undefined"!=typeof window&&(e.getItem(n._e)??1)===0}},863667:function(e,t,i){function n(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:n,videoCarouselModuleAutoplaying:a}=t,l={...i,...n,...a};return l[e]&&l[e].currentTime}i.d(t,{Z:()=>n})},750092:function(e,t,i){function n(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:n,videoCarouselModuleAutoplaying:a}=t,l={...i,...n,...a};return!!l[e]&&!l[e].paused}i.d(t,{Z:()=>n})},85363:function(e,t,i){i.d(t,{Z:()=>a});var n=i(870358);function a({checkExperiment:e,cropArea:t,cropSource:i,isProductPage:a,pinId:l,requestParams:r,searchQuery:o,surfaceType:s,title:d,trafficSource:c}){let u=e?.("web_remove_is_eligible_for_related_products",{dangerouslySkipActivation:!0}).anyEnabled,h=(0,n.Z)({cropArea:t,cropSource:i,requestParams:r,searchQuery:o,surfaceType:u?"flashlight":s,title:d,trafficSource:c}),p="";return a&&(p="products/"),`/pin/${l}/visual-search/${p}${h}`}},466653:function(e,t,i){i.d(t,{Z:()=>l});var n=i(20256),a=i(785893);function l({iconAccessibilityLabel:e,icon:t,linkAccessibilityLabel:i,showNavigationIcon:l,text:r,backgroundColor:o="lightGray"}){return(0,a.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(n.xu,{"data-test-id":"ad-reason-icon",children:(0,a.jsx)(n.Sj,{accessibilityLabel:e,bgColor:o,icon:t,iconColor:"darkGray"})}),(0,a.jsx)(n.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,a.jsx)(n.xv,{children:r})}),l&&i&&(0,a.jsx)(n.kC,{direction:"column",justifyContent:"center",children:(0,a.jsx)(n.JO,{accessibilityLabel:i,color:"default",icon:"arrow-forward"})})]})}},689694:function(e,t,i){function n(e,t){let{name:i=""}=e.find(e=>e.key===t)??{};return i}function a(e,t){return"FEMALE"===e?t._('Female', 'waista.modal.attribute.female', 'Gender attribute for female'):"MALE"===e?t._('Male', 'waista.modal.attribute.male', 'Gender attribute for male'):""}function l(e,t){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?t._('Web', 'waista.modal.attribute.web', 'device attribute for web'):"AppType_WEB_MOBILE"===e?t._('Mobile Web', 'waista.modal.attribute.mWeb', 'device attribute for mobile web'):""}function r(e,t){let{name:i=""}=e.find(e=>e.key===t)??{};return i}function o(e=null,t=4){return e&&Object.keys(e).filter(t=>"boolean"==typeof e[t]||"string"==typeof e[t]).filter(t=>!1!==e[t]&&""!==e[t]).slice(0,t).reduce((t,i)=>({...t,[i]:e[i]}),{})}function s(e){let t={},i=e.isFirstPartyAdPersonalizationEnabled,n=e.isThirdPartyAdPersonalizationEnabled;return i||(t.isPinterestContent=!0),(i||n)&&(e?.isVisitorMatched||e?.isShoppingRetargetingMatched||e?.isShoppingProspectingMatched||e?.isExpandTargetingMatched||e?.isPlPersonaMatched)&&(t.isMatchedActivities=!0),e?.matchedKeyword&&(t.isMatchedKeyword=!0),e?.matchedAgeBucket&&(t.isMatchedAge=!0),e?.matchedGender&&(t.isMatchedGender=!0),e?.geoRegion&&(t.isMatchedGeoRegion=!0),i&&e?.geoPostalCode&&(t.isMatchedGeoPostalCode=!0),e?.matchedLocale&&(t.isMatchedLocale=!0),e?.matchedDevice&&(t.isMatchedDevice=!0),i&&e?.isEngagementMatched&&(t.isEngagementMatched=!0),i&&e?.isActalikeMatched&&(t.isMatchedActAlike=!0),i&&e?.isFromGpsLocation&&(t.isMatchedGpsLocation=!0),i&&e?.isCustomerListMatched&&(t.isMatchedCustomerList=!0),e?.isLocalInventoryAdsMatched&&(t.isMatchedLocalInventoryAds=!0),t}i.d(t,{DK:()=>o,K1:()=>n,Xv:()=>s,nn:()=>l,we:()=>r,zn:()=>a})},458460:function(e,t,i){i.d(t,{H8:()=>p,Ut:()=>h,fr:()=>u});var n=i(667294),a=i(729434),l=i(914071),r=i(987765),o=i(785893);let s=()=>i.e("77027").then(i.bind(i,145581)),{Provider:d,get:c}=(0,a.Z)("IdeaPin");function u({children:e}){let[t,i]=(0,l.Z)(s,r.Z),a=(0,n.useMemo)(()=>({dispatch:i,ideaPin:t}),[i,t]);return(0,o.jsx)(d,{value:a,children:e})}function h(){let{dispatch:e}=c();return(0,n.useMemo)(()=>({setIdeaPinActivePage:t=>{e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:t=>{e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}}),[e])}function p(){let{ideaPin:e}=c();return e}},987765:function(e,t,i){i.d(t,{Z:()=>n});let n={activePage:0,dynamicWidth:0}},539532:function(e,t,i){i.d(t,{Z:()=>p});var n=i(667294),a=i(20256),l=i(679422),r=i(678213),o=i(525839),s=i(601686),d=i(896273),c=i(785893);let u=new a.Ry(3);function h({anchor:e,children:t,displayOptions:i,onFlyoutDismiss:n}){let l=(0,o.ZP)(),{closeupWithinMasonryEnabled:d}=(0,s.x4)(),h=r.b7;return i?.shownWithinMasonry||i?.shownWithinProfileHeader?(0,c.jsx)(a.mh,{zIndex:i.shownWithinProfileHeader||d&&i?.shownWithinMasonry?u:h,children:(0,c.jsx)(a.xu,{position:i.inModal?"absolute":void 0,top:!!i.inModal||void 0,zIndex:i.inModal?r.b7:void 0,children:(0,c.jsx)(a.J2,{_deprecatedShowCaret:i.showCaret,accessibilityLabel:l._('Share Menu', 'SendShareController.ShareMenu.accessibilityLabel', 'Accessbililty label for the share menu.'),anchor:e,forceDirection:i.forceDirection??!1,idealDirection:i.idealDirection??"down",onDismiss:()=>{n()},positionRelativeToAnchor:!1,size:"flexible",children:t})})}):(0,c.jsx)(a.J2,{_deprecatedShowCaret:i?.showCaret,accessibilityLabel:l._('Share Menu', 'SendShareController.ShareMenu.accessibilityLabel', 'Accessbililty label for the share menu.'),anchor:e,forceDirection:i?.forceDirection??!1,idealDirection:i?.idealDirection??"down",onDismiss:()=>{n()},size:"flexible",children:t})}function p({children:e,flyoutDisplayOptions:t,isFlyoutOpen:i,loggingOptions:r,onClick:o,onFlyoutDismiss:u,onToggleFlyout:p,sendObject:m}){let g=(0,n.useRef)(null),{clientTrackingParams:_}=(0,s.x4)(),y=(0,l.Z)();return(0,c.jsxs)(a.xu,{ref:g,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,c.jsx)(a.xu,{children:e({handleSendShareFlyoutButtonClick:()=>{if(y)return void y();p()}})}),i&&(0,c.jsx)(a.xu,{position:t?.wrapperPosition,children:(0,c.jsx)(h,{anchor:g.current,displayOptions:t,onFlyoutDismiss:u,children:(0,c.jsx)(d.Z,{clientTrackingParams:_,component:r.component,element:r.element,onExternalSend:r.onExternalSend,onHide:()=>{o?.(),u()},sendType:m.type,sharedObject:{...m,type:"user"===m.type?"pinner":m.type},viewParameter:r.viewParameter,viewType:r.viewType})})})]})}},618336:function(e,t,i){i.d(t,{Z:()=>g,s:()=>m});var n=i(667294),a=i(20256),l=i(821342),r=i(525839),o=i(302148),s=i(15667),d=i(886981),c=i(466653),u=i(689694),h=i(793698),p=i(785893);let m={DIGITAL_CAPTURE:0,NEGATIVE_FILM:1,POSITIVE_FILM:2,PRINT:3,MINOR_HUMAN_EDITS:4,COMPOSITE_CAPTURE:5,ALGORITHMICALLY_ENHANCED:6,DATA_DRIVEN_MEDIA:7,DIGITAL_ART:8,VIRTUAL_RECORDING:9,COMPOSITE_SYNTHETIC:10,TRAINED_ALGORITHMIC_MEDIA:11,COMPOSITE_WITH_TRAINED_ALGORITHMIC_MEDIA:12,ALGORITHMIC_MEDIA:13,SOFTWARE_IMAGE:14,MULTI_PIN_TRAINED_ALGORITHMIC_MEDIA:15,DETECTED_TRAINED_ALGORITHMIC_MEDIA:16};function g({promoterFullName:e,geoRegionAttribute:t,geoPostalCodeAttribute:i,isCustomerListMatched:m,isActalikeMatched:g,isEngagementMatched:_,isFromGPSLocation:y,matchedAgeBucket:x,matchedGender:f,matchedLocale:v,matchedDevice:b,matchedKeyword:w,isFirstPartyAdPersonalizationEnabled:P,isThirdPartyAdPersonalizationEnabled:I,isLocalInventoryAdsMatched:j}){let S=(0,r.ZP)(),k=(0,l.Z)(),A=(0,h.mN)()(k.isAuth?k.id:""),C=A?.gender??"",T=(0,u.zn)(f,S);T="unspecified"===C?"":T;let E=(0,u.nn)(b,S),{locale:z}=(0,s.B)(),Z=(0,d.Z)({name:"LocalesResource"}),M=(0,d.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),D=k.isAuth?k.country:"",L=(0,u.K1)(M.data??[],D),R=""!==x||""!==f&&"unspecified"!==C||!P&&""!==L||""!==E||""!==v||P&&_||P&&g||""!==t||P&&""!==i;return(0,p.jsx)(a.xu,{"data-test-id":"waista",children:(0,p.jsxs)(a.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[j&&(0,p.jsx)(c.Z,{icon:"info-circle",iconAccessibilityLabel:S._('Icon for local inventory ad', 'aista.modal.criteria.localInventoryIcon', 'Icon for for local inventory ad'),text:S._('Your estimated location may be in proximity to the advertiser\'s store based on your IP address. An IP address is assigned to your device by your internet service provider, and is required to connect to websites and online services.', 'waista.modal.criteria.LocalInventoryAds.context', 'Ad explanation for Local Inventory')}),!P&&(0,p.jsx)(c.Z,{icon:"pinterest",iconAccessibilityLabel:S._('Icon for ad targeting context', 'waista.modal.criteria.list.contexticon', 'Icon for ad targeting context'),text:(0,o.XB)({text:S._('Based on the context of the content you see in a session <strong id="1">on Pinterest</strong>', 'waista.modal.criteria.list.context', 'Ad explanation for targeting context of content, onPinterest: on Pinterest Platform'),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-platform-bucket")}})}),""!==w&&(0,p.jsx)(c.Z,{icon:"search",iconAccessibilityLabel:S._('Icon for ad targeting keyword search', 'waista.modal.criteria.list.keywordSearchIcon', 'Icon for ad targeting keyword search'),text:(0,o.XB)({text:S._('Because you searched for <strong id="1">{{ keyword }}</strong>', 'waista.modal.criteria.list.keywordSearch', 'Ad explanation for targeting keyword search. keyword: Search keyword'),markers:{keyword:w??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-keyword-bucket")}})}),(P||I)&&(0,p.jsx)(c.Z,{icon:"cog",iconAccessibilityLabel:S._('Icon for ad targeting user settings', 'waista.modal.criteria.list.settings', 'Icon for ad targeting user settings'),text:S._('Depending on your privacy settings, because of your activities on and/or off Pinterest', 'waista.modal.criteria.list.settings', 'Ad explanation for targeting user settings')}),R&&(0,p.jsx)(c.Z,{icon:"person",iconAccessibilityLabel:S._('Icon for ad targeting advertiser name', 'waista.modal.criteria.list.advertiserName', 'Icon for ad targeting advertiser name'),text:(0,o.XB)({text:S._('Because <strong id="1">{{ advertiserName }}</strong> is trying to reach people:', 'waista.modal.criteria.list.advertiserName', 'Ad explanation for targeting advertiser name, advertiserName: advertiser name'),markers:{advertiserName:e},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-advertiserName-bucket")}})}),(0,p.jsx)(a.xu,{marginStart:8,children:(0,p.jsxs)(a.aV,{label:(0,p.jsx)(a.xv,{children:(0,o.XB)({text:S._('Because {{ advertiserName }} is trying to reach people:', 'waista.modal.criteria.list.advertiserName', 'Ad explanation for targeting advertiser name, advertiserName: advertiser name'),markers:{advertiserName:e}})}),labelDisplay:"hidden",type:"unordered",children:[""!==x&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,o.XB)({text:S._('Who have set their age within the <strong id="1">{{ ageBucketMatch }}</strong> age range', 'waista.modal.criteria.list.ageBucketRangeMatch', 'Ad explanation for targeting age range, ageBucketMatch: Users age range'),markers:{ageBucketMatch:x??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-age-bucket")}})})}),!P&&""!==v&&(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,o.XB)({text:S._('Who have set their language to <strong id="1">{{ language }}</strong>', 'waista.modal.criteria.list.languageMatch', 'Ad explanation for targeting language, language: Users language'),markers:{language:(0,u.we)(Z.data??[],z)},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-language")}})})}),(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,o.XB)({text:S._('Who have set their language to <strong id="1">{{ language }}</strong>', 'waista.modal.criteria.list.languageMatch', 'Ad explanation for targeting language, language: Users language, bulletPoint: leading bullet point'),markers:{language:(0,u.we)(Z.data??[],z)},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-language")}})})})]}),P&&""!==v&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,o.XB)({text:S._('Primary language is <strong id="1">{{ language }}</strong>', 'waista.modal.criteria.list.primarylLanguageMatch', 'Ad explanation for targeting language, language: Users languag'),markers:{language:(0,u.we)(Z.data??[],z)},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-language")}})})}),!P&&""!==f&&""!==T&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,o.XB)({text:S._('Who have set their gender to <strong id="1">{{ gender }}</strong>', 'waista.modal.criteria.list.setGenderMatch', 'Ad explanation for targeting gender, gender: the user\'s gender'),markers:{gender:T},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-gender")}})})}),P&&""!==f&&""!==T&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:T})}),""!==E&&(0,p.jsx)(a.aV.Item,{text:S._('With your device type', 'waista.modal.criteria.list.deviceMatch', 'Ad explanation for targeting device')}),!P&&""!==t&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,o.XB)({text:S._('In <strong id="1">{{ country }}</strong>', 'waista.modal.criteria.list.countryMatch', 'Ad explanation for targeting country, country: the user\'s country'),markers:{country:D},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-country")}})})}),P&&""!==t&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,o.XB)({text:S._('Based in <strong id="1">{{ geoRegion }}</strong>', 'waista.modal.criteria.list.geoRegionMatch', 'Ad explanation for targeting geoRegion, geoRegion: Users geoRegion'),markers:{geoRegion:t??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-geoRegion")}})})}),P&&""!==i&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,o.XB)({text:S._('Based in <strong id="1">{{ geoPostalCodeAttribute }}</strong>', 'waista.modal.criteria.list.geoPostalCodeAttributeMatch', 'Ad explanation for targeting geoPostalCodeAttribute, geoPostalCodeAttribute: Users geoPostalCodeAttribute'),markers:{geoPostalCodeAttribute:i??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-geoPostalCodeAttribute")}})})}),P&&_&&(0,p.jsx)(a.aV.Item,{text:S._('Who have interacted with their content on Pinterest', 'waista.modal.criteria.list.engagementMatch', 'Ad explanation for targeting engagement')}),P&&g&&(0,p.jsx)(a.aV.Item,{text:(0,p.jsx)(a.xv,{children:(0,o.XB)({text:S._('With similar demographic or interests as other <strong id="1">{{ brandName }}</strong> customers', 'waista.modal.criteria.list.actAlikeMatch', 'Ad explanation for targeting act alike, brandName: brand name'),markers:{brandName:e??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-act-alike")}})})})]})}),P&&m&&(0,p.jsx)(c.Z,{icon:"menu",iconAccessibilityLabel:S._('Icon for ad targeting user on an audience list', 'waista.modal.criteria.list.listIcon', 'Icon for ad targeting customer list'),text:(0,o.XB)({text:S._('Because you are on a list provided by <strong id="1">{{ brandName }}</strong>', 'waista.modal.criteria.list.onCustomerListTargeting', 'Ad explanation for targeting customer list , brandName: promoter name'),markers:{brandName:e??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-customer-list")}})}),P&&y&&(0,p.jsx)(c.Z,{icon:"location",iconAccessibilityLabel:S._('Icon for ad targeting user on GPS', 'waista.modal.criteria.list.GPS', 'Icon for ad targeting GPS'),text:S._('Because of your GPS Location', 'waista.modal.criteria.list.GPSLocation', 'Ad explanation for targeting GPS')})]})})}},8512:function(e,t,i){i.d(t,{AH:()=>d,CK:()=>s,Fc:()=>r,Wj:()=>l,Xe:()=>a,kb:()=>o,zX:()=>c});var n=i(618336);function a({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:i,pinDomain:n,sourceUserUsername:a,sourceUserFullName:l}){return!t&&(e||i)&&a?{pinCreditLink:`/${a}/`,pinCredit:l}:{pinCreditLink:void 0,pinCredit:!t&&e?n:""}}let l=({i18n:e,hasLinkDomain:t,hasRichMetadataArticle:i,hasRichMetadataRecipeCategorizedIngredients:n,hasRichMetadataTutorial:a,richMetadataRecipeFromAggregatedData:l})=>(!t||l)&&e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation')||a&&e._('Saved from ', 'pin annotation', 'pin annotation')||n&&e._('Recipe from ', 'pin annotation', 'pin annotation')||i&&e._('Article from ', 'pin annotation', 'pin annotation')||e._('From ', 'Closeup pin annotation', 'Closeup pin annotation');function r({i18n:e,hasRichMetadataProductOfferSummary:t,richMetadataProductName:i,richSummaryProductName:n,hasRichSummaryProductOfferSummary:a}){return t&&i||!t&&n&&a?e._('Product sold by ', 'pin annotation', 'pin annotation'):""}let o=({hasLinkDomain:e,richMetadata:t,richSummary:i})=>e&&!t?.recipe?.fromAggregatedData&&t?.products&&t.products[0]&&t.products[0].name&&t.products[0].offerSummary?t.products[0].offerSummary:i?.products&&i.products[0]&&i.products[0].name&&i.products[0].offerSummary?i.products[0].offerSummary:void 0,s=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:i,hasRichMetadataRecipe:n})=>e?t?144:i?141:n?145:139:140,d=e=>!!e&&!e.startsWith("https://i.pinimg.com"),c=e=>!!e&&[n.s.TRAINED_ALGORITHMIC_MEDIA,n.s.COMPOSITE_WITH_TRAINED_ALGORITHMIC_MEDIA,n.s.DETECTED_TRAINED_ALGORITHMIC_MEDIA].includes(e)},44344:function(e,t,i){i.d(t,{Z:()=>c});var n=i(667294),a=i(274320),l=i(15667),r=i(647709),o=i(603316);class s{constructor(){var e,t,i;e="callbacks",t=new Map,(e="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string"))?i:i+"")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t,this.observer=new ResizeObserver(e=>{e.forEach(e=>{let t=this.callbacks.get(e.target);t&&t.forEach(t=>t(e.target))})})}observe(e,t){this.callbacks.has(e)||(this.callbacks.set(e,new Set),this.observer.observe(e)),this.callbacks.get(e).add(t)}unobserve(e,t){let i=this.callbacks.get(e);i&&(i.delete(t),0===i.size&&(this.callbacks.delete(e),this.observer.unobserve(e)))}}let d=null;function c(e,t){let{anyEnabled:i,group:c}=(0,a.ru)().checkExperiment("closeup_web_resize_observer_optimization"),{isAuthenticated:u}=(0,l.B)(),h=(0,r.ZP)(),p=(0,n.useCallback)(t=>{let i=performance.now();e(t);let n=performance.now();(0,o.nP)("closeup.www.resizeObserverCallback",{sampleRate:.1,tags:{isAuthenticated:u,deviceType:h,resizeObserverOptimizationExp:c,duration:Math.round(n-i)}})},[e,u,h,c]);m=i?null:p,(0,n.useEffect)(()=>{if(!t.current||!m)return()=>{};{let e=t.current;if("ResizeObserver"in window){let t=new ResizeObserver(t=>{Array.isArray(t)&&t.length&&m(e)});return t.observe(e),()=>t.unobserve(e)}{let t=e.clientHeight,i=e.clientWidth,n=()=>{let a=e.clientHeight,l=e.clientWidth;(t!==a||i!==l)&&(t=a,i=l,m(e)),window.requestAnimationFrame(n)};return n(),()=>window.cancelAnimationFrame(n)}}},[t,m]);var m,g=i?p:null;let _=(0,n.useRef)(g);_.current=g,(0,n.useEffect)(()=>{if(!t.current)return;let e="undefined"!=typeof window&&"ResizeObserver"in window?(d||(d=new s),d):null;if(!e)return void(0,o.nP)("closeup.www.resizeObserverCallback.noResizeObserver",{sampleRate:.1,tags:{isAuthenticated:u,deviceType:h}});let i=t.current,n=e=>{_.current?.(e)};return e.observe(i,n),()=>{e.unobserve(i,n)}},[t,_,u,h])}},896273:function(e,t,i){i.d(t,{Z:()=>c});var n=i(667294),a=i(20256),l=i(355940),r=i(525839),o=i(821806),s=i(785893);let d=(0,n.lazy)(()=>Promise.all([i.e("54796"),i.e("37408")]).then(i.bind(i,773895)));function c(e){let t=(0,r.ZP)();return(0,s.jsx)(l.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,s.jsx)(o.Z,{fallback:(0,s.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,s.jsx)(a.xH,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,s.jsx)(d,{...e})})})}},589357:function(e,t,i){i.d(t,{Ul:()=>l,VS:()=>n,hy:()=>r,iM:()=>a,j4:()=>o});let n=2,a=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1],l={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",bottom:0},r=128,o=e=>e&&document.querySelector(`video[poster="${e}"]`)||null},756334:function(e,t,i){function n({children:e,metricName:t}){let i=void 0;return i&&i.serverRenderTimings&&!i.serverRenderTimings[t]&&(i.serverRenderTimings[t]=Date.now()),e}i.d(t,{Z:()=>n}),i(512395),i(987563)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/89085-b88a5deabf4c206c.mjs.map