(self.modernJsonp=self.modernJsonp||[]).push([["43593"],{471998:function(e,t,i){i.d(t,{Z:()=>o});var r=i(274320),n=i(15667),a=i(647709);function o(){let{isAuthenticated:e}=(0,n.B)(),t=(0,a.HG)(),i=(0,a.ml)(),{checkExperiment:o}=(0,r.ru)(),l=e&&t&&o("dweb_closeup_hyperlink_keywords").anyEnabled,s=e&&i&&o("mweb_closeup_hyperlink_keywords_auth").anyEnabled;return{hyperlinkKeywordsEnabled:l||s}}},32499:function(e,t,i){i.d(t,{Z:()=>o});var r=i(255581),n=i(464332),a=i(403135);function o(e,t){let i=Math.round(1e3*Math.random())+"",o=Math.round(1e3*Math.random())+"";n.t8((0,r.GS)(i),o);let l={token:`${i}-${o}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,a.Z)(l)}`}},392735:function(e,t,i){i.d(t,{Z:()=>o});var r=i(686319),n=i(440568),a=i(707079);let o=async({clientTrackingParams:e,href:t,pinId:i,spamCheckCallback:o})=>{let l=await function(e){let t=(0,n.Z)(e),i=a.y8.get("ApiResource",t);if(i)return i;let o=(0,r.Z)(e);return a.y8.add("ApiResource",t,o),o}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:i,url:t}});if(!l.resource_response.error){let{message:e,redirect_status:t,url:i}=l.resource_response.data||{};o({blocked:["blocked","suspicious","porn"].includes(t),message:e,redirectStatus:t,sanitized_url:i})}}},189998:function(e,t,i){i.d(t,{Z:()=>r});function r({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}},641866:function(e,t,i){i.d(t,{Z:()=>s});var r=i(785873),n=i(16025),a=i(909816),o=i(576087),l=i(673079);let s=({event:e,onHistoryChange:t,href:i,history:s,target:d})=>{let c=(0,n.Z)(i),u=("string"!=typeof i&&i?i.state:null)??{},p=(0,a.Z)(c);p===l.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===d?(0,r.Z)(c,"blank"===d):s&&p===l.Z.SAME_ORIGIN&&(s.push((0,o.Z)({url:c}),{from:s.location,...u}),t&&t({event:e}))}},664503:function(e,t,i){i.d(t,{Z:()=>a});var r=i(785873),n=i(32499);function a(e,t){(0,r.Z)((0,n.Z)(e,t),!0,t?.features)}},378957:function(e,t,i){i.d(t,{Z:()=>n});var r=i(678241);function n({location:e,pinId:t,surface:i}){return!!i&&!r.ZF.includes(i)||e.pathname.includes(t)}},611282:function(e,t,i){i.d(t,{Z:()=>m});var r=i(667294),n=i(616550),a=i(471998),o=i(392735),l=i(189998),s=i(641866),d=i(378957),c=i(865637),u=i(16025),p=i(47426),h=i(28382),_=i(603316);function m(e){let{clientTrackingParams:t,externalData:i,href:m,onHistoryChange:f,target:g}=e,[k,b]=(0,r.useState)(null),y=(0,n.k6)(),P=(0,n.TH)(),Z=(0,u.Z)(m),w=(0,p.Z)({url:Z}),{showWarning:I}=(0,h.n)()??{},{pin:A,surface:v}=i||{},{hyperlinkKeywordsEnabled:S}=(0,a.Z)(),x=t||A?.trackingParams,T=(0,c.Z)();return(0,r.useEffect)(()=>{w&&A&&null===k&&(!A.promoter||A.isDownstreamPromotion)&&(0,d.Z)({location:P,pinId:A.entityId,surface:v})&&(0,o.Z)({clientTrackingParams:x,pinId:A.entityId,spamCheckCallback:e=>b(e),href:Z})},[x,A,v,Z,w,P,k]),({event:e})=>{if(!(0,l.Z)({isOffsiteUrl:w,event:e})){if(S&&"string"==typeof m&&m.startsWith("pinterest://")){let t=m.replace(/^pinterest:\/\//,"/");(0,s.Z)({event:e,href:t,history:y,onHistoryChange:f,target:"blank"===g?"blank":null});return}if(e.preventDefault(),!m||"string"==typeof m&&m.startsWith("#"))return void(0,_.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:P.pathname,href:m}});w||i?.dangerouslyForceOffsiteUrl?T({auxData:i?.auxData,clientTrackingParams:x,pin:i?.pin&&{attributionSourceId:i.pin.attributionSourceId,campaignId:i.pin.campaignId,isPromoted:i.pin.isPromoted,pinPromotionId:i.pin.pinPromotionId,isThirdPartyAd:i.pin.isThirdPartyAd,advertiserId:i.pin.advertiserId,destinationUrl:i.pin.destinationUrl,link:i.pin.link,domain:i.pin.domain},pinId:i?.pin?.entityId,queryParams:i?.queryParams,showWarning:I,spamCheck:k,url:Z}):(0,s.Z)({event:e,href:m,history:y,onHistoryChange:f,target:"blank"===g?"blank":null})}}}},865637:function(e,t,i){i.d(t,{Z:()=>p});var r=i(898582),n=i(781011),a=i(915493),o=i(293565),l=i(785873),s=i(980787),d=i(32499),c=i(664503),u=i(756988);let p=e=>{let t=(()=>{let{logContextEvent:e}=(0,s.u)();return({attributionSourceId:t,auxData:i,campaignId:l,clientTrackingParams:s,href:c,isPromoted:u,pinId:p,pinPromotionId:h,isThirdPartyAd:_,advertiserId:m,destinationUrl:f,link:g,domain:k})=>{if(!u)return!1;let b=(0,r.Z)(),y={params:{pinId:p,csrId:null,clientTrackingParams:s,auxData:i,isThirdPartyAd:_}},P=(0,d.Z)(c,y);b?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&u&&c===f&&(fetch((0,d.Z)(f,y),{redirect:"manual"}),P=f);let Z=b?.userAgent.browserName??"";if((0,o.G6)(Z)){let i=b?.userAgent.browserVersion?b.userAgent.browserVersion:"0.0",r=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(t&&r>=14.1){var w=P;let i=document.createElement("a");return i.setAttribute("href",w),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(n.$N.ATTRIBUTION_SOURCE_ID,t),i.setAttribute(n.$N.ATTRIBUTE_DESTINATION,c),i.setAttribute(n.$N.ATTRIBUTE_ON,c),i.click(),e({event_type:101,clientTrackingParams:s,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:h||"",click_measurement_campaign_id:l||"",is_pcm:!0,attribution_source_id:t,page_url:c}}),!0}}else if((0,o.i7)(Z)&&window.document.featurePolicy?.allowsFeature("attribution-reporting")){var I=P;let i=(0,a.Z)(t,[f,g,k],!0,l,m),r=document.createElement("a");return r.setAttribute("href",I),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block",r.setAttribute(n.NR.SOURCE,i),r.click(),e({event_type:101,clientTrackingParams:s,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:h||"",click_measurement_campaign_id:l||"",is_arapi:!0,attribution_source_id:t,page_url:c}}),!0}return!1}})();return({auxData:i,clientTrackingParams:n,pin:a,pinId:o,queryParams:s,showWarning:p,spamCheck:h,url:_})=>{if("undefined"!=typeof window&&window.Windows)return void(0,u.Z)(_,{clientTrackingParams:n,pinId:o,hasPin:!!a,auxData:i,isThirdPartyAd:a?.isThirdPartyAd});if(!a&&!e?.isFromClickthroughLink)return void(0,c.Z)(_,s?{queryParams:s}:{params:{pinId:o}});if(h?.blocked)return void p?.(h);if(a&&t({attributionSourceId:a.attributionSourceId,auxData:i,campaignId:a.campaignId?String(a.campaignId):null,clientTrackingParams:n,href:_,isPromoted:a.isPromoted,pinId:o,pinPromotionId:a.pinPromotionId?String(a.pinPromotionId):null,isThirdPartyAd:a.isThirdPartyAd,advertiserId:a.advertiserId?a.advertiserId:null,destinationUrl:a.destinationUrl,link:a.link,domain:a.domain}))return;let m={params:{clientTrackingParams:n,auxData:i,pinId:o,isThirdPartyAd:a?.isThirdPartyAd}},f=(0,r.Z)();if(f?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&a?.isPromoted&&_===a?.destinationUrl){fetch((0,d.Z)(_,m),{redirect:"manual"}),(0,l.Z)(_,!0);return}(0,c.Z)(_,m)}}},503863:function(e,t,i){i.d(t,{T:()=>r,Z:()=>a});let{Provider:r,get:n}=(0,i(729434).Z)("NotificationContext"),a=n},576087:function(e,t,i){i.d(t,{Z:()=>n});var r=i(869273);let n=({url:e})=>{let t=(0,r.Z)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},756988:function(e,t,i){i.d(t,{Z:()=>a});var r=i(686319),n=i(664503);function a(e,t){let{auxData:i,clientTrackingParams:a,hasPin:o,pinId:l,isThirdPartyAd:s}=t||{},d={pin_id:l,check_only:!0,client_tracking_params:o?a:void 0,url:e,aux_data:JSON.stringify(i)};s&&(d.third_party_ad=l,delete d.pin_id),(0,r.Z)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:i,url:r}=e.data;if(!["blocked","suspicious","porn"].includes(i)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(r);window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,n.Z)(e,{params:o?{pinId:l,clientTrackingParams:a,auxData:i,isThirdPartyAd:s}:{pinId:l}})})}},678241:function(e,t,i){i.d(t,{Wv:()=>n,ZF:()=>r,zI:()=>a,zl:()=>o});let r=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],n=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],a=[...n,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","SearchAdsOnlyModule","ShoppingTool","ProductPinRetrieval"],o=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton"]},28382:function(e,t,i){i.d(t,{n:()=>m,Z:()=>f});var r=i(667294),n=i(729434),a=i(608575),o=i(20256),l=i(982166),s=i(525839),d=i(302148),c=i(785893);let u=()=>{let e=(0,s.ZP)(),{dismissWarning:t}=m()??{};return(0,c.jsx)(o.xu,{paddingX:3,children:(0,c.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:t,text:e._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},p=()=>{let e=(0,s.ZP)();return(0,c.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(o.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},h=({message:e,sanitized_url:t})=>{let i=(0,s.ZP)(),{dismissWarning:r}=m()??{};return(0,c.jsx)(l.ZP,{accessibilityModalLabel:i._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),footer:(0,c.jsx)(u,{}),heading:i._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),onDismiss:r,children:(0,c.jsxs)(o.xu,{padding:6,children:[(0,c.jsx)(o.xv,{children:(0,d.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(p,{},"learnMoreLink")})}),(0,c.jsxs)(o.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(o.xu,{marginEnd:3,children:(0,c.jsx)(o.JO,{accessibilityLabel:i._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(o.xv,{inline:!0,lineClamp:1,weight:"bold",children:a.parse(t).hostname})]})]})})},{Provider:_,getMaybe:m}=(0,n.Z)("SpammyClickthrough");function f({children:e}){let[t,i]=(0,r.useState)(null),n=(0,r.useCallback)(()=>{i(null)},[i]),a=(0,r.useCallback)(e=>{i(e)},[i]),o=(0,r.useMemo)(()=>({dismissWarning:n,showWarning:a}),[n,a]);return(0,c.jsxs)(_,{value:o,children:[t&&(0,c.jsx)(h,{...t}),e]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/43593-82926cb81f1e27ff.mjs.map