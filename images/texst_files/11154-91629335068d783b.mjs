(self.modernJsonp=self.modernJsonp||[]).push([["11154"],{130845:function(e,l,a){a.d(l,{Z:()=>t});var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,l){if(e.length!==l.length)return!1;for(var a,i,t=0;t<e.length;t++)if(!((a=e[t])===(i=l[t])||n(a)&&n(i))&&1)return!1;return!0}let t=function(e,l){void 0===l&&(l=i);var a,n,t=[],r=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return r&&a===this&&l(i,t)||(n=e.apply(this,i),r=!0,a=this,t=i),n}}},957661:function(e,l,a){var n,i,t;a.r(l),a.d(l,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CardSourceDescriptionText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[i,{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DescriptionBrokenByLineBreaks_pin"},{args:null,kind:"FragmentSpread",name:"DescriptionWithLinksAndMentions_pin"}],type:"Pin",abstractKey:null};r.hash="c6b0de206743312221bd0e0b89d2f0aa";let s=r},616602:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselModule_pin",selections:[{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="85fe2fe505f1d3072fb2fafa8cd983ec";let i=n},907590:function(e,l,a){var n,i,t,r,s,o,d;a.r(l),a.d(l,{default:()=>c});let u=(n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},s={alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},o=[t={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[i,t],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r,{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[n],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"},{args:null,kind:"FragmentSpread",name:"OneTapSavePinWrapperQuery_pin"}],type:"Pin",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[r,d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_board"}],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardMoreIdeasFeedUpsellId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"boardMoreIdeasFeedUpsellName",args:null,kind:"ScalarField",name:"boardName",storageKey:null}],type:"BoardMoreIdeasFeedUpsell",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:"exploreArticleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],type:"ExploreArticle",abstractKey:null},{kind:"InlineFragment",selections:[d,{args:null,kind:"FragmentSpread",name:"ItemRep_relatedInterest"}],type:"SeoRelatedInterestsData",abstractKey:null}],storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null});u.hash="183b3199d9d2c07d171ec81512729e15";let c=u},799379:function(e,l,a){var n,i,t;a.r(l),a.d(l,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupAttributionAndDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},n,i,{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},t],storageKey:null},{args:null,kind:"FragmentSpread",name:"Description_pin"}],type:"Pin",abstractKey:null};r.hash="7142df6a7a3c1aee54267c5441d3d50b";let s=r},934191:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImpression_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="9fe338bb0275ffff2818b274fce014af";let i=n},718611:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModule_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedModuleOneTapConfiguration_pin"}],type:"Pin",abstractKey:null};n.hash="535b0dce979f4e368b354c1d7db63f73";let i=n},824065:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModulesContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModule_pin"}],type:"Pin",abstractKey:null};n.hash="8b3eeb9b4671e020ac715d9513179386";let i=n},327060:function(e,l,a){var n;a.r(l),a.d(l,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};i.hash="3fa8620068a79dc4a73dbbcde3f352f9";let t=i},119031:function(e,l,a){var n,i,t;a.r(l),a.d(l,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CreatorCard_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},n,i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i,t],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:"creatorId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[{alias:"sponsorId",args:null,kind:"ScalarField",name:"id",storageKey:null},i,t],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCreatorRecsPrevStateCloseup_pin"}],type:"Pin",abstractKey:null};r.hash="e0f013c76e98f3f285ba25a7d2f0f3af";let s=r},265532:function(e,l,a){var n,i,t,r;a.r(l),a.d(l,{default:()=>o});let s=(n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],r=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultMetadata_pin",selections:[n,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"originPin",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:t,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"DescriptionBrokenByLineBreaks_pin"},{args:null,kind:"FragmentSpread",name:"useHandleTitleClick_pin"},{args:null,kind:"FragmentSpread",name:"useCloseupBodyUtils_pin"},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"TitleDesktop_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"CreatorCard_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupAttributionAndDescription_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"}],type:"Pin",abstractKey:null});s.hash="15807bc974d02364f9d5b356bf1164d9";let o=s},817272:function(e,l,a){var n;a.r(l),a.d(l,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DescriptionBrokenByLineBreaks_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"DescriptionWithLinksAndMentions_pin"}],type:"Pin",abstractKey:null};i.hash="7968de6cea93e071c3555836067ea32b";let t=i},658559:function(e,l,a){var n,i,t,r;a.r(l),a.d(l,{default:()=>o});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DescriptionWithLinksAndMentions_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[n,i,t,r],storageKey:null}],type:"Pin",abstractKey:null};s.hash="77396be9e54491e35d44dc059d7664fc";let o=s},354418:function(e,l,a){var n,i,t;a.r(l),a.d(l,{default:()=>s});let r=(n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],t=[i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Description_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:n,storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:t,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CardSourceDescriptionText_pin"}],type:"Pin",abstractKey:null});r.hash="d6d83b429981e4bc762e3872608eedbd";let s=r},899934:function(e,l,a){var n;a.r(l),a.d(l,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HeaderModule_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:n,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryHeaderDynamicContentSpan",kind:"LinkedField",name:"dynamicHeaderContentSpan",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};i.hash="e2252404771531a4195ad72ba7a8eb88";let t=i},141704:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardRep_board"}],type:"Board",abstractKey:null};n.hash="228c9215d3c4adae6df47a885b46738e";let i=n},290528:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"ItemRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepVariant_pin"}],type:"Pin",abstractKey:null};n.hash="2f55e2ab1b830be11393345ced691620";let i=n},403983:function(e,l,a){var n;a.r(l),a.d(l,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_relatedInterest",selections:[{alias:"imageSpec236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'image(spec:"236x")'},{alias:"imageSpec474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:n,storageKey:'image(spec:"474x")'},{alias:"klpUrl",args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"SeoRelatedInterestsData",abstractKey:null};i.hash="3705c9cbb884ba47d9d82a2722e90bdc";let t=i},246644:function(e,l,a){var n,i;a.r(l),a.d(l,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OneTapSavePinWrapperQuery_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[i],storageKey:'images(spec:"236x")'},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},n],storageKey:null}]}],type:"Pin",abstractKey:null};t.hash="ec791f15272a3b11d5efb01720be50d1";let r=t},149627:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};n.hash="cce8a8d5ad05c8e6c1137bf7c8845c2a";let i=n},937046:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModules_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedModule_pin"}],type:"Pin",abstractKey:null};n.hash="85ae0703574c2bc161bc13206c3184f8";let i=n},502396:function(e,l,a){var n;a.r(l),a.d(l,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};i.hash="86cb4963f4714e2184c01e13236c3616";let t=i},650719:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n=(t={defaultValue:null,kind:"LocalArgument",name:"isAuth"},r={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},s={defaultValue:null,kind:"LocalArgument",name:"pinId"},o=[{kind:"Variable",name:"pin",variableName:"pinId"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},p=[c={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],g={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},h=[{kind:"Literal",name:"spec",value:"236x"}],f={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},w=[_={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],F={alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},A={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[K={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},z=[k,x,g,d],B={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},V=[k,g,x],W={alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:H=[{alias:null,args:null,kind:"ScalarField",name:"blockId",storageKey:null},k,B,x,g],storageKey:null},G=[{kind:"Literal",name:"spec",value:"474x"}],$=[{kind:"Literal",name:"spec",value:"564x"}],X=[{kind:"Literal",name:"spec",value:"736x"}],Y={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},Q={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:q=[d],storageKey:null}],storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},el=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],ea={alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},en={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},et={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},es={alias:"image236x",args:h,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:er=[d,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:V,storageKey:null},C],storageKey:'additionalImagesPerSpec(spec:"236x")'},eo={alias:"image474x",args:G,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:er,storageKey:'additionalImagesPerSpec(spec:"474x")'},ed={alias:"image564x",args:$,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:er,storageKey:'additionalImagesPerSpec(spec:"564x")'},eu={alias:"image736x",args:X,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:er,storageKey:'additionalImagesPerSpec(spec:"736x")'},ec={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},ep={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},eg={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},em=[k,g,x,f],ey={alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},e_=[f,k,g,x],eh=[{kind:"Literal",name:"spec",value:"170x"}],ef=[g],ek=[R,b],ex=[_,b,R,Z,E,D],ev={kind:"InlineFragment",selections:eS=[ee,m],type:"ParagraphBlock",abstractKey:null},eb={kind:"InlineFragment",selections:eS,type:"HeadingBlock",abstractKey:null},eP={kind:"InlineFragment",selections:eS,type:"TextBlock",abstractKey:null},ew=[B,g,x,k,O],eF={alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},eC={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null}],storageKey:null}],storageKey:null},ej=[eT={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},N,eI={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null}],eK={alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},eA={alias:null,args:null,kind:"ScalarField",name:"showFewerWeightLossAds",storageKey:null},eL={alias:null,args:null,kind:"ScalarField",name:"showAdReasons",storageKey:null},eM={alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},eN=[eR={alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},eE={alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},eD={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},eZ={alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},y,eg,g],ez={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},eB={alias:null,args:null,concreteType:"ActionOptions",kind:"LinkedField",name:"actionOptions",plural:!1,selections:[eR,{alias:null,args:null,kind:"ScalarField",name:"interestId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interestList",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"complaintReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedbackType",storageKey:null},J,{alias:null,args:null,kind:"ScalarField",name:"pinType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recommendationReasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"undo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newsId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"throughId",storageKey:null},{alias:null,args:null,concreteType:"ThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[et,ei],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null},ey],storageKey:null},{fragment:{argumentDefinitions:[t,r,s],kind:"Fragment",metadata:null,name:"ShoppingModuleQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ShoppingModule_v3GetStelaShoppingCarousel"}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,r,t],kind:"Operation",name:"ShoppingModuleQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[d,u,{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:p,storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWash",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDynamicContentSpan",kind:"LinkedField",name:"dynamicHeaderContentSpan",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[d,c],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[d,{kind:"InlineFragment",selections:[y,_,{alias:"imageSpec_236x",args:h,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[g,f,k,x],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[S,v,g,b,P,{alias:null,args:null,kind:"ScalarField",name:"featuredIn",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:w,storageKey:null},F,_,T,{alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[S,v,g,b,_,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},C,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[d,b,A,L,_,R,E,D,Z,M,{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},b,D,R,_,E,L,A,Z,N,d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[d,b,_,R,D,Z,E],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[_,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:z,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[k,x,g,d,B],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:z,storageKey:null},d],storageKey:null},b,d,O],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[v,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[_,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},j,U,{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},C,{alias:"imagesSpec_236x",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[_,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:H,storageKey:null},W],storageKey:null},b],storageKey:null},d,{alias:"image236x",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"236x")'},{alias:"image474x",args:G,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"474x")'},{alias:"image564x",args:$,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"564x")'},{alias:"image736x",args:X,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"736x")'},Y],storageKey:null},b,d,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[d,Y,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:V,storageKey:null},j],storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},Q],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[d,J,{alias:null,args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[g,x,k],storageKey:'images(spec:"750x")'},j],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},b,{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,{kind:"InlineFragment",selections:[ee,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:el,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[W],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},d],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null}],storageKey:null},ea,{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[d,b,v,g,_],storageKey:null},en,{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[ei,et],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isWeightLossAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:q,storageKey:null}],storageKey:null},es,eo,ed,eu,ec,v,ep,{alias:"additionalImageSpec_236x",args:h,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:q,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:G,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:q,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:$,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:q,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:X,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:q,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},y,I],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[U,{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},es,eo,ed,eu,ec,d,ep,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[v],storageKey:null},v,{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},g],storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},b],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[d,k,g,x,f],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},eg],storageKey:null},{alias:"image236x",args:h,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"236x")'},{alias:"image474x",args:G,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"474x")'},{alias:"image564x",args:$,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"564x")'},{alias:"image736x",args:X,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:"imageSpec_474x",args:G,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:em,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:X,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:em,storageKey:'images(spec:"736x")'},ey,{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:e_,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:eh,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:e_,storageKey:'images(spec:"170x")'},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:"imageSpec_564x",args:$,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ef,storageKey:'images(spec:"564x")'},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[eg],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},b,_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[R,b,_,Z,E,M,D,L,A],storageKey:null},b,d],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:ek,storageKey:null},b],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[R,b,_],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:ek,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLocalInventoryAdsMatched",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:ex,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:ex,storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"gridAttribution",plural:!1,selections:[_,R,Z,E,D,L,A,b],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},Q,{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ef,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ef,storageKey:'images(spec:"600x315")'},{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"GenAIInterestData",kind:"LinkedField",name:"genAiTopics",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"interestIdStr",storageKey:null},v],storageKey:null},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[ee,{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,ev,eb,eP,{kind:"InlineFragment",selections:[ee],type:"IngredientBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},_,{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[S,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[ev,eb,eP,{kind:"InlineFragment",selections:[m,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:"videoListMobile",args:el,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},eF],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[eT,eI],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[eC],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:ej,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"gridAttribution",plural:!1,selections:ej,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ej,storageKey:null},eC,{alias:null,args:null,kind:"ScalarField",name:"showFoodIndicator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unifiedUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seeMoreUserFeedback",storageKey:null},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{kind:"ClientExtension",selections:[eK,eA,eL]}]},{kind:"ClientExtension",selections:[eK,eL,eA]}]},{kind:"ClientExtension",selections:[eK,{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[eR,eE,d,g,eD,eZ,y,eg],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},eM,{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:eN,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:eN,storageKey:null},eL,eA,{alias:null,args:null,kind:"ScalarField",name:"showFeedbackOverlay",storageKey:null},{alias:null,args:null,concreteType:"FeedbackText",kind:"LinkedField",name:"feedbackText",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},y,{alias:null,args:null,concreteType:"Unfollow",kind:"LinkedField",name:"unfollow",plural:!1,selections:[ez,eB],storageKey:null},{alias:null,args:null,concreteType:"UndoCallbackProps",kind:"LinkedField",name:"undoCallbackProps",plural:!1,selections:[ez,eB,{alias:null,args:null,kind:"ScalarField",name:"viewType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewParameter",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedback",storageKey:null}]}],type:"Pin",abstractKey:null},{kind:"InlineFragment",selections:[u,{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:p,storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[_,v,{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:w,storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},eM],storageKey:null},P,{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:eh,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:ef,storageKey:'images(spec:"170x")'},{alias:"images236x",args:h,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:ef,storageKey:'images(spec:"236x")'},F,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[_,b,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},R,L,D,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[v,K],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},T,{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[en,{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},eg,g,{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:ef,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:ef,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:ef,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},eF],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardMoreIdeasFeedUpsellId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"boardMoreIdeasFeedUpsellName",args:null,kind:"ScalarField",name:"boardName",storageKey:null}],type:"BoardMoreIdeasFeedUpsell",abstractKey:null},{kind:"InlineFragment",selections:[_,D],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[_,{alias:"exploreArticleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:p,storageKey:null}],type:"ExploreArticle",abstractKey:null},{kind:"InlineFragment",selections:[v,{alias:"imageSpec236x",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:ef,storageKey:'image(spec:"236x")'},{alias:"imageSpec474x",args:G,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:ef,storageKey:'image(spec:"474x")'},{alias:"klpUrl",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"SeoRelatedInterestsData",abstractKey:null},{kind:"InlineFragment",selections:[b],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[R,L,A,D,Z,b],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:p,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:p,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},ea],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}]},params:{id:"824792e5d696af7bce386828ceabf51c5a6fc28b060bb56632da9196fd7c8303",metadata:{},name:"ShoppingModuleQuery",operationKind:"query",text:null}});n.hash="9b72b1fb8ac15ff6e966eb2e7fedbb74";let i=n;var t,r,s,o,d,u,c,p,g,m,y,_,h,f,k,x,S,v,b,P,w,F,T,I,C,j,K,A,L,R,E,D,Z,M,N,z,B,O,U,V,H,W,G,$,X,Y,q,Q,J,ee,el,ea,en,ei,et,er,es,eo,ed,eu,ec,ep,eg,em,ey,e_,eh,ef,ek,ex,eS,ev,eb,eP,ew,eF,eT,eI,eC,ej,eK,eA,eL,eR,eE,eD,eZ,eM,eN,ez,eB,eO=n.default||n;if("query"===eO.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(eO);else{let e=[eO.params.name,eO.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=eO}},263032:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselModule_pin"}],type:"Pin",abstractKey:null};n.hash="739ecb0736bfecf3911084ec22416c60";let i=n},336209:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="967fc795bbfb9844686a21d73abf35e0";let i=n},220149:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_v3GetStelaShoppingCarousel",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"ShoppingModule_story"}],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null};n.hash="b8b8ca7c8213d7ad6d8ff4d9db8aae92";let i=n},940477:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"StructuredFeedPinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRep_pin"}],type:"Pin",abstractKey:null};n.hash="023dd01a121f589970f03cbfd49b1950";let i=n},176376:function(e,l,a){var n,i,t,r,s,o,d;a.r(l),a.d(l,{default:()=>c});let u=(n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TitleDesktop_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:d,storageKey:null},i,{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinFormattedLink_pin"},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null});u.hash="e0961d958eda59cad942eda9890b0f5f";let c=u},165148:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useClientTrackingParams_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};n.hash="0b3399497cd8be4c18c48ac63ca8d2ba";let i=n},543996:function(e,l,a){var n,i,t,r,s,o,d;a.r(l),a.d(l,{default:()=>c});let u=(n={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},t=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],o={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCloseupBodyUtils_pin",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:s=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[o,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:d=[r],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null});u.hash="b640d34fae5bf66634c4dffcbb8ea6d4";let c=u},522386:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCreatorRecsPrevStateCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"showSuggestedCreatorRecs",storageKey:null}]}],type:"Pin",abstractKey:null};n.hash="a1f87ab2b8198cdc7fd8fc3cdaa872f0";let i=n},208540:function(e,l,a){var n;a.r(l),a.d(l,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleBackButtonClick_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="efee9cd30f69b524ed9920746ed65ceb";let t=i},394292:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleTitleClick_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null}],type:"Pin",abstractKey:null};n.hash="d38a7b9f18791089cd1df852e3863570";let i=n},881010:function(e,l,a){var n;a.r(l),a.d(l,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsBoardOwnerOrCollaborator_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};i.hash="120c47eff2cf4911de716b514608718f";let t=i},251967:function(e,l,a){var n,i;a.r(l),a.d(l,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinAnalyticsStatus_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:n,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="977a37f1bef6ecfbe279db65075e1520";let r=t},498876:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinFormattedLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null};n.hash="b694b913cbcf66451260d78ec78bcccd";let i=n},445662:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinHasProducts_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="e1f413e0ba2f9031ea605d85baa14a4b";let i=n},873707:function(e,l,a){a.d(l,{CA:()=>i,Gv:()=>n,k5:()=>t});let n=({orbacSubjectId:e,pinIsRepin:l,pinPinnerId:a,viewerId:n,viewerIsPartner:i})=>!l&&!!i&&[n,e].includes(a),i=e=>!!(e&&!e.insufficient_data_response&&e.results&&e.results.length>0),t=(e,l)=>{if(!e)return e;let a=[...e].filter(e=>!!e.mom_change?.roundedPercentChange&&e.mom_change.roundedPercentChange>0);return a.length<=l?a:Array(l).fill(1).map(()=>{let e=Math.floor(Math.random()*a.length);return a.splice(e,1)[0]})}},314021:function(e,l,a){a.r(l),a.d(l,{default:()=>Z});var n,i,t=a(667294),r=a(581722);a(167912);var s=a(20256),o=a(980787),d=a(821342),u=a(422578),c=a(221020);let p=function(e,l,a){switch((0,c.o)(e)){case"SingularLegacy":case"PluralLegacy":case"PaginationLegacyData":return l;case"GraphQL":{let e=(0,u.useRelayEnvironment)();return l=>(0,u.commitLocalUpdate)(e,e=>a(e,l))}default:throw Error("Unexpected case")}};var g=a(415546),m=a(525839),y=a(628708),_=a(886981),h=a(302148),f=a(341742),k=a(744862),x=a(709311),S=a(281239),v=a(149728),b=a(785893);let P=({creatorData:e,onTap:l,onUserFollow:a})=>{let n=(0,m.ZP)(),i=(0,d.Z)(),{explicitly_followed_by_me:t,follower_count:r=0,full_name:o,id:u,image_medium_url:c,username:p,verified_identity:g,avatar_color_index:y,is_verified_merchant:_}=e||{},f=`/${p}/`;return(0,b.jsx)(s.sg,{span:4,children:(0,b.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},direction:"column",display:"flex",marginBottom:1,children:[(0,b.jsx)(s.Tg,{href:f,onTap:()=>l(u),children:(0,b.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,b.jsx)(s.xu,{height:60,width:60,children:(0,b.jsx)(k.qE,{color:y,name:o??"",size:"fit",src:c??"",verified:!1})}),(0,b.jsxs)(s.xu,{marginBottom:1,paddingY:2,children:[(0,b.jsx)(s.xu,{marginBottom:1,children:(0,b.jsx)(s.xv,{align:"center",lineClamp:1,size:"100",weight:"bold",children:g||_?(0,b.jsx)(v.Z,{badgeSize:"xs",badgeSpacing:2,fullName:o??"",isVerifiedIdentity:g?.verified,isVerifiedMerchant:_}):o})}),(0,b.jsx)(s.xv,{align:"center",size:"100",children:(0,h.nk)(n.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', r, 'suggestedCreatorRep.creator.followerCount', 'the number of followers the user has'),{followerCount:(0,b.jsx)(x.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:r},r)})})]})]})}),(0,b.jsx)(S.Z,{fullName:o,id:u,imageUrl:c,isOwnProfile:i.isAuth&&i.id===u,isSecondaryButton:!0,onUserFollow:e=>a({userIsNowFollowing:e,creatorId:u}),profileUrl:`/${p}/`,shouldStopEventPropagation:!0,size:"sm",userFollowed:t,viewParameter:156,viewType:3})]})})},w=({creatorRecs:e,fullName:l,pinId:a,viewParameter:n,viewType:i})=>{let{logContextEvent:t}=(0,o.u)(),r=(0,m.ZP)();(0,f.Z)(()=>{t({event_type:13,component:13891,view_parameter:n,view_type:i,aux_data:{...a?{pin_id:a}:{}}})});let d=e=>{t({event_type:101,component:13891,view_parameter:n,view_type:i,object_id_str:e,aux_data:{...a?{pin_id:a}:{}}})},u=({userIsNowFollowing:e,creatorId:l})=>{e?t({event_type:45,component:13891,object_id_str:l,view_parameter:n,view_type:i,aux_data:{...a?{pin_id:a}:{}}}):t({event_type:46,component:13891,object_id_str:l,view_parameter:n,view_type:i,aux_data:{...a?{pin_id:a}:{}}})};return(0,b.jsx)(s.xu,{minWidth:432,paddingY:4,children:(0,b.jsxs)(s.xu,{borderStyle:"shadow",paddingX:5,paddingY:4,rounding:4,children:[l&&(0,b.jsx)(s.X6,{align:"center",size:"300",children:(0,h.nk)(r._('More like {{creatorName}}', 'suggestedCreatorRecs.title', 'Users like the one just followed. creatorName: the creator\'s name'),{creatorName:l})}),(0,b.jsx)(s.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:e.map(e=>(0,b.jsx)(P,{creatorData:e.user,onTap:d,onUserFollow:u},e.user_id))})]})})},F=3,T=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity","user.is_verified_merchant"],I=({fullName:e,id:l,numCreatorsToShow:a=F,pinId:n,viewParameter:i,viewType:t})=>{let r=(0,_.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:T.join(","),page_size:a,referrer:4,target_user:l}}});if(!r.isLoaded||!(r.data&&r.data.length===a))return null;let s=r.data||[];return(0,b.jsx)(w,{creatorRecs:s,fullName:e,pinId:n,viewParameter:i,viewType:t})};var C=a(390843);let j=void 0!==n?n:n=a(522386),K=function(e){let l=function(){let{forward:e}=(0,C.ou)(),l=e&&e.length>0&&e[0].match&&e[0].match.path?e[0].match.path:null;return!!(l&&l.includes("/:username"))}(),a=(0,g.Z)(j,e);if(!l||!a)return{creatorRecsPrevState:!1};{let e=!!a.promotedIsLeadAd,l=a.richSummary?.typeName==="product";return{creatorRecsPrevState:!!a&&!e&&!l&&!!a.showSuggestedCreatorRecs}}};var A=a(285491),L=a(206459);function R(e,l,a){var n;return(l="symbol"==typeof(n=function(e,l){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,l||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}(l,"string"))?n:n+"")in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}let E=void 0!==i?i:i=a(119031);class D extends t.PureComponent{constructor(...e){super(...e),R(this,"state",{shouldShowCreatorRecs:this.props.suggestedCreatorRecsPrevState,user:this.props.officialUser}),R(this,"handleNavigateAndLog",(e,l)=>{let{pin:a}=this.props,n=!!a.storyPinDataId;e===l?this.props.logContextEvent({event_type:101,element:13382,view_type:this.viewType,view_parameter:this.viewParameter,...n?{component:230}:Object.freeze({}),object_id_str:a.entityId,aux_data:{pin_id:a.entityId,creator_id:a.sponsorship?.creator?.creatorId,aop_origin:"CreatorCard",...n?{story_pin_template_type:a.storyPinData?.metadata?.templateType}:{}}}):this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...n?{component:230}:Object.freeze({}),object_id_str:a.entityId,aux_data:{pin_id:a.entityId,creator_id:a.sponsorship?.creator?.creatorId,...n?{story_pin_template_type:a.storyPinData?.metadata?.templateType}:{}}})}),R(this,"handleNavigateAndLogSponsorClick",()=>{let{pin:e}=this.props,l=e.entityId,a=e.sponsorship?.creator?.creatorId,n=e.sponsorship?.sponsor?.sponsorId,i=!!e.storyPinDataId;a&&n&&this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...i?{component:230}:Object.freeze({}),object_id_str:l,aux_data:{pin_id:l,creator_id:a,sponsor_id:n}})})}static getDerivedStateFromProps(e,l){let a=e.officialUser;if(a&&a!==l.user)return{...l,user:a};let n=e.suggestedCreatorRecsPrevState;return n&&!l.shouldShowCreatorRecs?{...l,shouldShowCreatorRecs:n}:null}get viewType(){return this.props.viewType||3}get viewParameter(){return this.props.viewParameter||156}render(){let{user:e}=this.state;if(!e)return(0,b.jsx)(s.xu,{});let{pin:l}=this.props,{full_name:a,id:n,image_medium_url:i,is_verified_merchant:t,username:r,verified_identity:o}=e,d=!!o?.verified,u=!!l.promotedIsLeadAd,c=l.richSummary?.typeName==="product",p=!!(!u&&!c&&this.state.shouldShowCreatorRecs),g=l.pinner?.isAdsOnlyProfile&&l.pinner.adsOnlyProfileSite?l.pinner?.adsOnlyProfileSite:`/${r}/`;return(0,b.jsx)(s.xu,{position:"relative",children:(0,b.jsxs)(s.xu,{children:[(0,b.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,b.jsx)(s.xu,{flex:"grow",children:(0,b.jsx)(A.Z,{fullName:a,imageUrl:i,isPromoted:!!(l.promoter&&l.isPromoted),isVerifiedIdentity:d,isVerifiedMerchant:t,onNavigateClick:()=>this.handleNavigateAndLog(g,l.pinner?.adsOnlyProfileSite),onNavigateSponsorClick:this.handleNavigateAndLogSponsorClick,openNewTab:g===l.pinner?.adsOnlyProfileSite,profileUrl:g,sponsorName:l.sponsorship?.sponsor?.fullName??"",sponsorshipStatus:l.sponsorship?.status,sponsorUsername:l.sponsorship?.sponsor?.username??""})})}),p&&(0,b.jsx)(s.xu,{marginEnd:1,marginStart:1,children:(0,b.jsx)(I,{fullName:a,id:n,pinId:l.entityId,viewParameter:this.viewParameter,viewType:this.viewType})})]})})}}let Z=(0,y.Z)(function(e){let{logContextEvent:l}=(0,o.u)(),a=(0,m.ZP)(),n=(0,g.Z)(E,e.input),i=(0,r.I0)(),t=p(e.input,()=>{i((0,L.Vw)(n.entityId))},e=>{let l=e.get(n.entityId);l&&l.setValue(!0,"showSuggestedCreatorRecs")}),s=(0,d.Z)(),{creatorRecsPrevState:u}=K(n);return(0,b.jsx)(D,{...e,i18n:a,logContextEvent:l,pin:n,setShowSuggestedCreatorRecs:t,suggestedCreatorRecsPrevState:u,viewerUserId:s.isAuth?s.id:null})})},889144:function(e,l,a){a.d(l,{Z:()=>k});var n=a(581722),i=a(616550),t=a(738628),r=a(399656),s=a(821342),o=a(390843),d=a(274320),u=a(15667),c=a(448505),p=a(7872),g=a(620427),m=a(990103),y=a(169053),_=a(785893),h=a(667294);function f(e){return(0,_.jsx)(t.l6,{...e,closeupComponentToRender:"ProductDetailPage"})}function k(e){let l=(0,n.I0)(),a=(0,s.Z)(),t=(0,i.UO)(),k=(0,o.aX)(),x=(0,i.TH)(),S=(0,y.S6)()(t.id||""),v=(0,g.Z)((x?.state||{}).trackingParams,S?.tracking_params),b={...e,history:(0,i.k6)(),location:(0,i.TH)(),clientTrackingParams:v,params:t,requestContext:(0,u.B)(),searchPinCloseupViewed:(e,a)=>l((0,m.Y4)(e,a)),viewer:a},{checkExperiment:P}=(0,d.ru)();return(0,_.jsx)(r.Z,{orbacSubjectId:(0,p.lJ)(a,(0,c.Z)()),pinId:t.id||"",children:({pinResource:e})=>(0,h.createElement)(f,{...b,key:t.id,checkExperiment:P,clientTrackingParams:v,currentHistoryStack:k,pinResource:e})})}},228121:function(e,l,a){a.d(l,{Z:()=>g});var n=a(667294),i=a(20256),t=a(149739),r=a(525839),s=a(302148),o=a(473728),d=a(785893);function u({minutes:e}){let l=(0,r.ZP)(),a=e%60,n=Math.floor(e/60),o=a>0?(0,s.nk)(l._('{{ mins }}min', 'closeup.storyPin.basicsLayout.cookTimeUnit', 'Minutes label indicating the cooking time of this Story Pin'),{mins:a}).join(""):"",u=n>0?(0,s.nk)(l._('{{ hours }}hr', 'closeup.storyPin.basicsLayout.cookTimeUnit', 'Hours label indicating the cooking time of this Story Pin'),{hours:n}).join(""):"";return(0,d.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(i.xv,{inline:!0,size:t.n,children:(0,s.nk)(l._('{{ hoursText }} {{ minsText }}', 'closeup.storyPin.basicsLayout.cookTime', 'Combined label for story pin cooktime (ex: "1hr 13min")'),{hoursText:u,minsText:o})})})}function c({servingSize:e}){let l=(0,r.ZP)(),a=(0,o.Z)(l.ngettext('{{servingSize}} serving', '{{servingSize}} servings', e, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:e});return(0,d.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(i.xv,{inline:!0,size:t.n,children:(0,s.nk)(l._('{{ servingText }}', 'closeup.storyPin.basicsLayout.servings', 'Combined label for story pin servings (ex: "Servings: 10 servings")'),{servingText:a})})})}function p({difficulty:e}){let l=(0,r.ZP)(),a={1:l._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:l._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:l._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},n=e?a[e]:null;if(!n)return null;let o=l._('Difficulty:', 'closeup.storyPin.basicsLayout.difficultyLevelLabel', 'Label indicating the difficulty level of this Story Pin');return(0,d.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(i.xv,{inline:!0,size:t.n,children:(0,s.nk)(l._('{{ label }} {{ difficultyLevel }}', 'closeup.storyPin.basicsLayout.difficulty', 'Combined label for story pin difficulty (ex: "Difficulty: Intermediate")'),{label:o,difficultyLevel:n})})})}function g({keyValueBlocks:e,hasMetadataTemplateType:l}){if(!l)return null;let a=e||[];return(0,d.jsx)(i.xu,{"data-test-id":"categories-metadata",children:(a||[]).map((e,l)=>{let r=`kv-${l}`,s=function(e){let l=e.category_type??e.categoryType,{value:a}=e;if(2===l)return(0,d.jsx)(p,{difficulty:a});let n=parseInt(a,10);return 1===l?(0,d.jsx)(c,{servingSize:n}):0===l&&n?(0,d.jsx)(u,{minutes:n}):null}(e);return s?l<a.length-1?(0,d.jsxs)(n.Fragment,{children:[s,(0,d.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(i.xv,{inline:!0,size:t.n,children:" · "})})]},r):(0,d.jsx)(n.Fragment,{children:s},r):null}).filter(e=>null!=e)})}},688379:function(e,l,a){a.d(l,{Z:()=>h});var n,i=a(667294);a(167912);var t=a(20256),r=a(471998),s=a(937805),o=a(736802),d=a(149739),u=a(478086),c=a(355940),p=a(415546),g=a(601686),m=a(785893);let y=void 0!==n?n:n=a(817272);function _({description:e}){let{closeupWithinMasonryEnabled:l,peekCloseupEnabled:a}=(0,g.x4)(),{mWebCloseupRedesignEnabled:n}=(0,s.Z)();return(0,m.jsx)(c.Z,{name:"SimpleDescriptionWithHashtags",children:(0,o.Z)({closeupWithinMasonryEnabled:l,peekCloseupEnabled:a,mWebCloseupRedesignEnabled:n,text:e})})}function h({description:e,enableAdditionalNoteSpace:l=!1,pinKey:a}){let n=(0,p.Z)(y,a),{userMentionTags:s,descriptionLinks:o}=n,{hyperlinkKeywordsEnabled:c}=(0,r.Z)(),g=e.split(/\n/)||[];return(0,m.jsx)(i.Fragment,{children:g.map((e,a)=>{let r=e.length>0?`${e.replace(/[^a-zA-Z0-9]/g,"").slice(0,15)}-${e.length}`:"empty-line-0",p=`desc-line-${r}-${Math.random().toString(36).slice(2,8)}`;if(""===e&&l)return(0,m.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{height:"1em"}}},p);let y=0;for(let e=0;e<a;e+=1){let l=g[e];void 0!==l&&(y+=l.length+1)}let h=y+e.length,{userMentionTags:f,descriptionLinks:k}=(({lineStartPosition:e,lineEndPosition:l,userMentionTags:a,descriptionLinks:n})=>({userMentionTags:a?.map(a=>a&&"number"==typeof a.offset&&a.offset>=e&&a.offset<l?{...a,originalOffset:a.offset,offset:a.offset-e}:null).filter(e=>null!==e)||[],descriptionLinks:n?.map(a=>a&&"number"==typeof a.offset&&a.offset>=e&&a.offset<l?{...a,originalOffset:a.offset,offset:a.offset-e}:null).filter(e=>null!==e)||[]}))({lineStartPosition:y,lineEndPosition:h,userMentionTags:s,descriptionLinks:c?o:void 0});return f.length>0||k.length>0?(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(t.xu,{children:(0,m.jsx)(u.Z,{description:e.replace(/\s+/g," "),descriptionLinks:k,mentionLinkColor:"link",pinKey:n,shouldAdjustOffset:!1,shouldMakeHashtagLinksFromText:!0,textSize:d.n,userMentionTags:f})}),(0,m.jsx)("br",{})]},p):(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(_,{description:e}),(0,m.jsx)("br",{})]},p)})})}},502447:function(e,l,a){a.d(l,{Z:()=>o}),a(167912);var n,i=a(782881),t=a(415546),r=a(7872);let s=void 0!==n?n:n=a(881010);function o({pinKey:e,orbacActingAs:l,viewer:a}){let n=(0,t.Z)(s,e),o=!!n.pinner?.entityId&&(0,r.D3)(a,n.pinner.entityId,l),d=!!(n.board?.collaboratedByMe||n.board?.owner?.entityId)&&(0,i.Z)(n.board.collaboratedByMe,n.board.owner?.entityId,a);return o||d}},738628:function(e,l,a){a.d(l,{ZP:()=>iL,l6:()=>iK});var n,i,t,r,s,o,d,u,c,p,g,m,y,_=a(667294),h=a(581722),f=a(616550),k=a(130845),x=a(873707);let S=Object.freeze(["JP"]);var v=a(20256),b=a(414772);a(167912);var P=a(934645),w=a(415546),F=a(351607),T=a(431338),I=a(785893);let C=void 0!==n?n:n=a(934191);var j=a(228121),K=a(688379),A=a(728371),L=a(878709),R=a(149739),E=a(478086),D=a(525839),Z=a(302148);let M=e=>{if(!e)return null;let{categorizedIngredients:l}=e.recipe;return l&&l.length>0?{...e,categorizedIngredients:l}:null};var N=a(643875),z=a(665827),B=a(176465),O=a(594414),U=a(706563),V=a(63749),H=a(324307),W=a(601686),G=a(785195),$=a(846051),X=a(213967),Y=a(872353);let q=void 0!==i?i:i=a(957661),Q=function(e){let{onUpdate:l,showMore:a,pinKey:n,isArticle:i,showSponsorshipAttribution:t,hasAffiliateLink:r,hasAffiliateProducts:s,instagramPostLink:o,onToggle:d}=e;(0,_.useEffect)(()=>{l?.()},[l]),(0,_.useEffect)(()=>{l?.()},[a,l]);let u=(0,D.ZP)(),c=(0,w.Z)(q,n),{closeupWithinMasonryEnabled:p,peekCloseupEnabled:g}=(0,W.x4)(),{carouselInfo:m}=(0,L.G)(),{closeupUnifiedDescription:y,userMentionTags:h,richMetadata:f,storyPinData:k}=c,x=(y||"").trim(),S=m?.carouselData;if(S){let e=S.carousel_slots??[],l=S.index??0;e[l]&&e[l].details&&(x=e[l].details)}let b=f?.tutorial?.description,P=c.pinAdditionalNote||"",F=`${x}

${P}`;F=x?F:P;let T=(x=P?F:x)&&b&&b.trim()===x,C=x?x.replace(/\s+/g," "):"",j=C=!a&&C&&C.length?(0,H.ZP)(C,i?195:200):C;C&&h&&(j=(0,I.jsx)(E.Z,{description:C,mentionLinkColor:"shopping",pinKey:c,shouldAdjustOffset:!0}));let Q=x&&x.length>(i?195:200),J=null,ee=M((0,N.Z)((0,z.Z)((0,B.Z)(e)))),el=k?.metadata?.basics;if(el){let e,{keyValueBlocks:l,listBlocks:a}=el;c&&c.domain&&c.link&&(e={domain:c.domain,url:c.link});let n=[];e?.domain&&(n=[...n,e.domain]);let i=(l||[]).map(e=>(0,$.Z)(e.categoryType,e.value,u)).filter(e=>""!==e);i.length>0&&(n=[...n,...i]),(a??[]).forEach(({heading:e,blocks:l})=>{e&&(n=[...n,e]),(l??[]).forEach(e=>{"StoryPinListBlock"===e.__typename&&e.blocks&&(e.blocks??[]).forEach(e=>{"text"in e&&e.text&&(n=[...n,e.text])})})}),J=(0,X.Z)(n)}else if(ee){let{prepTime:e,cookTime:l,totalTime:a,servingSummary:n,serves:i}=ee.recipe,t=a||l||e;if(l&&e){let a=l.h||0,n=l.m||0;t={h:a+(e.h||0),m:n+(e.m||0)}}let r=t?(0,V.Z)((0,U.X)(t),u):null,s=c.richMetadata?.recipe?.aggregateRating?.reviewCount;n&&(J=i?(0,I.jsxs)(v.xv,{inline:!0,size:R.n,children:[i," ",u._('servings', 'closeup.CardSourceDescriptionText.servesLabel', 'Label for servings')]},"recipe"):(0,I.jsx)(v.xv,{inline:!0,size:"200",children:n},"recipe")),r&&(J=J?(0,Z.nk)("{{ timeLabel }} · {{ description }}",{timeLabel:r,description:J}):r),"number"==typeof s&&s>0&&(J=J?(0,Z.nk)(u._('{{ reviewCount }} reviews \xB7 {{ description }}', 'number of reviews on a recipe and the description', 'number of reviews on a recipe and the description'),{reviewCount:s,description:J}):s);let o=c.richMetadata?.recipe?.aggregateRating?.ratingValue,d=Number(o);Number.isNaN(d)&&(d=0),d>=.25&&(J=J?(0,Z.nk)("{{ ratings }} {{ description }}",{ratings:(0,I.jsx)(O.Z,{max_rating:c.richMetadata?.recipe?.aggregateRating?.bestRating,rating:o},o),description:J}):(0,I.jsx)(O.Z,{max_rating:c.richMetadata?.recipe?.aggregateRating?.bestRating,rating:o},o))}if(!C||T)return null;let ea=4;return p?ea=0:g&&(ea=2),x?(0,I.jsxs)(v.xu,{marginBottom:p?0:t&&(r||s)?2:4,marginTop:ea,children:[(0,I.jsxs)(A.Z,{descriptionDir:(0,Y.j)(x),children:[(0,I.jsx)(K.Z,{description:x||"",enableAdditionalNoteSpace:""!==P,pinKey:c}),o]}),t&&(0,I.jsx)(v.xu,{marginTop:1,children:(0,I.jsx)(G.Z,{hasAffiliateLink:r,hasAffiliateProducts:s})})]}):(0,I.jsxs)("span",{children:[(0,I.jsx)(v.xv,{color:p?"subtle":void 0,inline:!0,size:"200",children:(0,I.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{display:"inline"}},"data-test-id":"description",children:J?(0,Z.nk)("{{ recipeInfo }} · {{ description }}",{recipeInfo:J,description:j}):j})}),Q&&!a&&(0,I.jsx)(v.xu,{"data-test-id":"more-button",display:"inlineBlock",marginStart:1,children:(0,I.jsx)(v.iP,{fullWidth:!1,onTap:d,children:(0,I.jsx)(v.xv,{inline:!0,size:"200",weight:"bold",children:u._('More', ' - ', ' -- ')})})})]})},J=(e,l)=>e.length>300?e:e.length+l.length+3>300?`${e} ${l}...`:`${e} ${l}`,ee=void 0!==t?t:t=a(354418);function el(e){let[l,a]=(0,_.useState)(!1),{pinKey:n,onUpdate:i,showSponsorshipAttribution:t,hasAffiliateLink:r,hasAffiliateProducts:s,instagramPostLink:o}=e,d=(0,w.Z)(ee,n);if(!d.entityId)return null;let u=!!d.aggregatedPinData,c=!!d.description,p=d.pinAdditionalNote||"",g=!!d.richMetadata?.recipe,m=!!d.richMetadata?.article,y=d.richMetadata?.article?.description,h=!!d.richMetadata?.tutorial,f=m&&!g&&!h;return(0,I.jsx)(_.Fragment,{children:(0,I.jsx)("span",{className:"richPinInformation","data-test-id":"richPinInformation-description",children:c||p||u?(0,I.jsx)(Q,{hasAffiliateLink:r,hasAffiliateProducts:s,instagramPostLink:o,isArticle:f,onToggle:()=>a(!0),onUpdate:i,pinKey:d,showMore:l,showSponsorshipAttribution:t}):f&&y&&(0,I.jsx)(v.xu,{marginBottom:3,children:(0,I.jsx)(v.xv,{children:y.split(" ").map(e=>e.trim()).reduce(J,"")})})})})}var ea=a(758516);function en({mediaAttribution:{author:e,authorUrl:l,ccUrl:a,link:n,mediaType:i,providerName:t}}){let r=(0,D.ZP)(),s=!!(t&&n);if(!e&&!s)return null;let o=s?r._('from {{ provider }}', 'closeup.attribution.imageWithProvider', 'Image source attribution withprovider but no author on pin closeup'):null;return e&&(o="VIDEO"===i?s?r._('Video by {{ author }} on {{ provider }}', 'closeup.attribution.videoWithAuthorProvider', 'Video source attribution on pin closeup'):r._('Video by {{ author }}', 'closeup.attribution.videoWithAuthor', 'Video source attribution on pin closeup when there is an author but no provider'):s?r._('Photo by {{ author }} on {{ provider }}', 'closeup.attribution.photoWithAuthorProvider', 'Photo source attribution on pin closeup'):r._('Photo by {{ author }}', 'closeup.attribution.photoWithAuthor', 'Photo source attribution on pin closeup when there is an author but no providers')),(0,I.jsx)(v.xu,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,I.jsxs)(v.xv,{color:"default",size:"200",children:[!!o&&(0,I.jsx)(ea.Z,{text:(0,Z.nk)(o,{author:(0,I.jsx)(v.rU,{display:"inlineBlock",href:l??"",rel:"nofollow",underline:"hover",children:(0,I.jsx)(v.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,I.jsx)(v.xu,{display:"inlineBlock",marginEnd:1,children:(0,I.jsx)(v.rU,{display:"inlineBlock",href:n??"",rel:"nofollow",underline:"always",children:t},"provider")}):null})}),a&&(0,I.jsx)(v.rU,{href:a,rel:"nofollow",children:r._('(cc)', 'creative commons link text', 'creative commons link text')})]})})}function ei({attribution:{authorName:e,authorUrl:l,ccUrl:a,providerName:n,url:i},embed:t}){let r=(0,D.ZP)(),s=!!(n&&i);if(!e&&!s)return null;let o=null;return s?o=e?t?.src&&"gif"!==t.type&&"pinstory"!==t.subtype?r._('Video by {{ author }} on {{ provider }}', 'closeup.attribution.videoWithAuthorProvider', 'Video source attribution on pin closeup'):r._('Photo by {{ author }} on {{ provider }}', 'closeup.attribution.photoWithAuthorProvider', 'Photo source attribution on pin closeup'):r._('from {{ provider }}', 'closeup.attribution.imageWithProvider', 'Image source attribution withprovider but no author on pin closeup'):e&&(o=t?.src&&"gif"!==t.type&&"pinstory"!==t.subtype?r._('Video by {{ author }}', 'closeup.attribution.videoWithAuthor', 'Video source attribution on pin closeup when there is an author but no provider'):r._('Photo by {{ author }}', 'closeup.attribution.photoWithAuthor', 'Photo source attribution on pin closeup when there is an author but no providers')),(0,I.jsx)(v.xu,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,I.jsxs)(v.xv,{color:"default",size:"200",children:[!!o&&(0,I.jsx)(ea.Z,{text:(0,Z.nk)(o,{author:(0,I.jsx)(v.rU,{display:"inlineBlock",href:l??"",rel:"nofollow",underline:"hover",children:(0,I.jsx)(v.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,I.jsx)(v.xu,{display:"inlineBlock",marginEnd:1,children:(0,I.jsx)(v.rU,{display:"inlineBlock",href:i??"",rel:"nofollow",underline:"always",children:n},"provider")}):null})}),a&&(0,I.jsx)(v.rU,{href:a,rel:"nofollow",children:r._('(cc)', 'creative commons link text', 'creative commons link text')})]})})}let et=void 0!==r?r:r=a(799379),er=e=>{let{isStoryPin:l,pinKey:a,onUpdate:n,instagramPostLink:i}=e,t=(0,w.Z)(et,a),r=t.entityId&&(!!t.attribution?.providerUrl&&!!t.attribution.providerName||!!t.attribution?.authorName),s=t.entityId&&(!!t.mediaAttribution?.link&&!!t.mediaAttribution.providerName||!!t.mediaAttribution?.author),o=null;if(r||s){let{closeupUnifiedDescription:e}=t,l=(e||"").trim()?"{{ credit }}｜":"{{ credit }}";o=t.mediaAttribution?(0,Z.nk)(l,{credit:t.mediaAttribution&&(0,I.jsx)(en,{mediaAttribution:{author:t.mediaAttribution.author,authorUrl:t.mediaAttribution.authorUrl,ccUrl:t.mediaAttribution.ccUrl,link:t.mediaAttribution.link,mediaType:t.mediaAttribution.mediaType,providerName:t.mediaAttribution.providerName}},"article-pin")}):(0,Z.nk)(l,{credit:t.attribution&&(0,I.jsx)(ei,{attribution:{authorName:t.attribution.authorName,authorUrl:t.attribution.authorUrl,ccUrl:t.attribution.ccUrl,providerName:t.attribution.providerName,url:t.attribution.url},embed:t.embed&&{type:t.embed.type,src:t.embed.src,subtype:t.embed.subtype}},"article-pin")})}return(0,I.jsxs)(v.xv,{inline:!0,children:[o,!l&&(0,I.jsx)(el,{instagramPostLink:i,onUpdate:n,pinKey:t})]})};var es=a(952018),eo=a(886981);function ed({creatorId:e,children:l}){let{data:a}=(0,eo.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:e}});return l(a)}var eu=a(995415),ec=a(453179),ep=a(776250),eg=a(274320),em=a(355919),ey=a(8512);function e_({hasOfficialUser:e,domain:l,hasLinkDomainOfficialUser:a,hasLinkUserWebsiteOfficialUser:n,hasNativeCreator:i,hasThirdPartyPinOwner:t,isPromoted:r,pinnerDomainUrl:s,pinnerDomainVerified:o}){return(n||a||t||e||o&&s===l)&&!r||!!i}let eh=void 0!==s?s:s=a(543996);function ef(e){let l=(0,w.Z)(eh,e),{checkExperiment:a}=(0,eg.ru)(),n=a("closeup_attribution_overhaul").anyEnabled,{currentDomain:i}=(0,eu.Z)({carouselData:l.carouselData&&{carouselSlots:l.carouselData.carouselSlots&&l.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:l.carouselData?.index},domain:l.domain}),t=!!l?.isGoLinkless,r=!!l.link&&l.link.startsWith("https://i.pinimg.com"),s=(0,_.useCallback)(e=>!t&&(e&&!r?!!l.link:!l.isEligibleForPdp&&!!(0,ec._S)(i)&&!r),[i,l.isEligibleForPdp,l.link,t,r]),o=(0,ep.Z)({hasPin:!!l,hasPinRichMetadata:!!l.richMetadata,hasPinRichMetadataProducts:!!l.richMetadata?.products,hasPinRichMetadataArticle:!!l.richMetadata?.article,hasPinRichMetadataRecipe:!!l.richMetadata?.recipe,hasPinStoryPinData:!!l.storyPinData}),d=(0,_.useCallback)(e=>e||o,[o]),u=l.linkDomain,c=!!l.nativeCreator,p=!!l.originPinner,g=!!l.thirdPartyPinOwner,m=!!l.linkUserWebsite?.officialUser,y=!!u,h=!!u?.officialUser,f=!!l.creatorClass,k=l.pinner;k=c?l.nativeCreator:y?u.officialUser:l.originPinner||l.pinner;let{pinCreditLink:x,pinCredit:S}=(0,ey.Xe)({hasLinkDomain:y,hasNativeCreator:c,hasOriginPinner:p,pinDomain:l.domain,sourceUserUsername:k?.username??null,sourceUserFullName:k?.fullName??null}),v=!!k,b=!!x&&!!S,P=!!l.closeupAttribution;return{getShowClickthroughLink:s,getViewParameter:d,makeDetailsArgs:(0,_.useCallback)(e=>({isShopTheLook:!!l.aggregatedPinData?.isShopTheLook,showCreatorCard:n?!!l.closeupUnifiedAttribution?.entityId:e_({hasOfficialUser:P,domain:l.domain??"",hasLinkDomainOfficialUser:h,hasLinkUserWebsiteOfficialUser:m,hasNativeCreator:c,hasThirdPartyPinOwner:g,isPromoted:!!l.isPromoted,pinnerDomainUrl:l.pinner?.domainUrl??"",pinnerDomainVerified:!!l.pinner?.domainVerified})||!P&&v&&b,creatorId:n?l.closeupUnifiedAttribution?.entityId??null:l.closeupAttribution?.entityId??k?.entityId??null,showCanonicalComments:!!l.isEligibleForAggregatedComments,showReactions:(0,em.J6)({board:l.board?.isCollaborative||l.board?.collaboratedByMe?{isCollaborative:l.board.isCollaborative??null,collaboratedByMe:l.board.collaboratedByMe??null}:null,videos:l.videos?.entityId?{entityId:l.videos.entityId}:null,isDownstreamPromotion:l.isDownstreamPromotion,isPromoted:l.isPromoted,storyPinDataId:l.storyPinDataId},e),isCreatorClassPin:f}),[f,h,m,c,g,P,b,v,l.aggregatedPinData?.isShopTheLook,l.board?.collaboratedByMe,l.board?.isCollaborative,l.closeupAttribution?.entityId,l.domain,l.isDownstreamPromotion,l.isEligibleForAggregatedComments,l.isPromoted,l.pinner?.domainUrl,l.pinner?.domainVerified,l.storyPinDataId,l.videos?.entityId,k?.entityId,n,l.closeupUnifiedAttribution?.entityId])}}var ek=a(592821),ex=a(998951),eS=a(139707),ev=a(569437),eb=a(314021),eP=a(391501),ew=a(980787),eF=a(617778),eT=a(355940),eI=a(506662),eC=a(15667),ej=a(821806),eK=a(627925),eA=a(644493),eL=a(271910),eR=a(7872),eE=a(611499),eD=a(685178);function eZ({children:e}){let{closeupWithinMasonryEnabled:l,peekCloseupEnabled:a}=(0,W.x4)(),n=8,i=4;return a?(n=0,i=eE.O5):l&&(n=void 0,i=void 0),(0,I.jsx)(v.xu,{marginBottom:n,marginTop:i,children:e})}var eM=a(78762);let eN=(0,eM.Z)(()=>a.e("35563").then(a.bind(a,72526)),void 0,e=>72526,"app-www-closeup-duplo-PinRecipeRating"),ez=(0,eM.Z)(()=>Promise.resolve().then(a.bind(a,248920)),void 0,e=>248920,"app-common-react-components-closeup-CloseupCommentModule-UnifiedCommentModule"),eB=(0,_.lazy)(()=>a.e("96615").then(a.bind(a,174753))),eO=void 0!==o?o:o=a(265532),eU=(0,_.memo)(function({pinKey:e,clientTrackingParams:l,inCommentsPopoverExp:a,isStoryPin:n,isDeletedStoryPin:i,viewParameter:t,trafficSource:r,details:s,viewer:o,onClickThrough:d,onCloseupBodyUpdate:u,orbacActingAs:c,outerPaddingSize:p,viewportSize:g,shouldShowPartnerModule:m,trendsData:y,showTrendsOnPinCloseup:h,showPinStats:k,showShoppingModule:x}){let S,b=(0,D.ZP)(),{checkExperiment:P}=(0,eg.ru)(),{logContextEvent:F}=(0,ew.u)(),{carouselInfo:T}=(0,L.G)(),C=(0,w.Z)(eO,e),{getShowClickthroughLink:R,makeDetailsArgs:E}=ef(C),{creatorId:Z,showCreatorCard:M}=E(!!i),{sideBySideFullWidthCTAEnabled:N}=(0,eS.Z)(),z=R(n),B=(0,ev.Z)({pinKey:C,pinId:C.entityId,viewParameter:t,trafficSource:r}),{closeupUnifiedDescription:O,closeupUserNote:U,commentsDisabled:V,pinAdditionalNote:H}=C,$=O?.trim(),X=C.storyPinData?.metadata?.basics?.keyValueBlocks?.map(({categoryType:e,value:l})=>({categoryType:e,value:l}))??[],q=X.length>0,Q=(0,ex.Z)(U)||!!C.richMetadata,J=C.richMetadata?.recipe?.name&&C.richMetadata.recipe.categorizedIngredients&&C.richMetadata.recipe.categorizedIngredients.length>0,{closeupWithinMasonryEnabled:ee,peekCloseupEnabled:el}=(0,W.x4)(),ea=(0,eR.q6)(o,C.pinner?.entityId,c),[en,ei]=(0,_.useState)(!1),et=(0,f.TH)(),{isAuthenticated:eo,userAgent:{isMobile:eu}}=(0,eC.B)(),ep=a&&!V,em=(0,I.jsx)(eL.q,{children:({hovered:e,onMouseEnter:a,onMouseLeave:n})=>(0,I.jsx)(eF.Z,{clientTrackingParams:l,hovered:e,pinKey:C,trafficSource:r,viewType:3,children:(0,I.jsx)(v.xu,{onMouseEnter:a,onMouseLeave:n,children:(0,I.jsx)(eD.Z,{carouselInfo:T,isLink:z,onClick:B,onTitleCheck:ei,pinKey:C})})})}),ey=()=>M&&(0,I.jsx)(es.Z,{"data-testid":"closeup-metadata-creator",marginTop:ee?(p??eE.ER)/2:0,paddingBottom:ee?(p??eE.ER)/2:0,paddingRight:8*!ee,children:(0,I.jsx)(ed,{creatorId:Z,children:e=>!!e&&(0,I.jsx)(eZ,{children:(0,I.jsx)(eb.default,{clientTrackingParams:l,componentType:126,impressionType:"User",input:C,isORBACProfileManager:ea,loggingId:Z,officialUser:e,slotIndex:0,viewParameter:t,viewType:3})})})}),e_=P("dweb_closeup_links").anyEnabled,eh=C.isInstagramApi&&C.nativeCreator?.websiteUrl&&C.nativeCreator?.isPrimaryWebsiteVerified&&C.nativeCreator?.isDirectToSiteAllowed,{link:eM,trackedLink:eU,utmLink:eV}=C||{};if(T&&T.carouselData&&T.carouselData.id){let{carousel_slots:e=[],index:l=0}=T.carouselData;S=e[l]&&e[l].link}let eH=S||(0,ec.Zt)({trackedLink:eU,link:eM,utmLink:eV})||"",eW=(0,ec.vj)(eH),eG=eH;eh&&e_?eG=C.nativeCreator.websiteUrl:eW||(eG=(0,eA.Z)(eH)??eH);let e$=!eo&&(0,eI.am)(et),eX=!!(C.promoter&&!C.isDownstreamPromotion)&&C.promoter?.entityId===C.nativeCreator?.entityId,{sponsorship:eY,storyPinData:eq,affiliateLink:eQ}=C,eJ=!!eQ,e0=!!eq?.hasAffiliateProducts,e1=(!!eY?.sponsor||e0||eJ)&&(eG||x)&&!eX&&!e$,e2=o.isAuth&&C.originPin?.originPinner?.entityId===o.id,e3=z&&eG&&(e2||!C.isGoLinkless),e6=el&&!ee?p??eE.ER:0,e4=eW?b._('See recipe', 'closeup.defaultMetadata.visitButton', 'Button to visit recipe link on Pin'):b._('Visit site', 'closeup.defaultMetadata.visitButton', 'Button to visit link on Pin'),e7=()=>e3&&(0,I.jsx)(es.Z,{marginTop:el?p??eE.ER:void 0,paddingBottom:el?(p??eE.ER)/2:void 0,paddingRight:e6,children:(0,I.jsx)(v.xu,{"data-test-id":"visit-site-button",children:(0,I.jsx)(eP.Z,{clientTrackingParams:l,color:"gray",fullWidth:N,link:eG,onClickThrough:()=>{e_&&F({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:eh}}),d()},pinKey:C,text:e4})})});return(0,I.jsxs)(v.xu,{marginTop:ee?4:void 0,children:[m&&(n||ee)&&(0,I.jsx)(es.Z,{paddingRight:(p??eE.ER)/2,children:(0,I.jsx)(v.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,I.jsx)(eT.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,I.jsx)(ej.Z,{children:(0,I.jsx)(eB,{borderStyle:ek.te,isStoryPin:n,pinKey:C,showPinStats:k,trendsData:h?y?.data?.results:null,viewportSize:g})})})})}),(0,I.jsxs)(v.xu,{alignItems:ee?"start":void 0,display:ee?"flex":void 0,justifyContent:ee?"between":void 0,children:[(0,I.jsxs)(v.kC.Item,{flexBasis:ee&&e3?"77%":"100%",children:[!en&&(0,I.jsx)(es.Z,{paddingRight:ee?void 0:p,children:(0,I.jsx)(v.xu,{color:"light","data-test-id":"closeup-title",display:"inlineBlock",children:em})}),el&&ey(),(0,I.jsx)(v.xu,{direction:el?"column":void 0,display:el?"flex":void 0,height:el?"100%":void 0,children:(0,I.jsxs)(es.Z,{paddingRight:p,children:[q&&(0,I.jsx)(v.xu,{marginTop:ee?eE.O5:4,children:(0,I.jsx)(j.Z,{hasMetadataTemplateType:!!C.storyPinData?.metadata?.templateType,keyValueBlocks:X})}),!q&&!!J&&(0,I.jsx)(v.xu,{marginTop:ee?eE.O5:void 0,tabIndex:0,children:(0,I.jsx)(eN,{boldText:!1,fallback:(0,I.jsx)(v.xH,{accessibilityLabel:b._('Loading Pin recipe rating', 'closeupDefaultMetadata.PinRecipeRating.loading.label', 'Spinner indicates pin recipe rating is loading'),show:!0}),pinKey:C,textSize:"300"})}),(0,I.jsxs)(_.Fragment,{children:[!!(n&&$&&Q)&&(0,I.jsx)(v.xu,{marginTop:ee?eE.O5:8,width:ee?"100%":void 0,children:(0,I.jsx)(A.Z,{descriptionDir:(0,Y.j)($),children:(0,I.jsx)(K.Z,{description:$||"",pinKey:C})})}),!n&&(C.attribution||$||H)&&ee&&(0,I.jsx)(v.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,I.jsx)(v.xu,{marginBottom:ee&&!J?eE.O5:void 0,marginTop:ee?eE.O5:void 0,width:"100%",children:(0,I.jsx)(er,{instagramPostLink:(0,I.jsx)(eK.Z,{closeupLinkEnabled:e_,nativeCreatorCloseupLinkEligible:!!eh,peekCloseupEnabled:el,uriComponent:eH}),isStoryPin:n,onUpdate:u,pinKey:C})})}),e1&&(eu||ee)&&(0,I.jsx)(v.xu,{marginTop:2,children:(0,I.jsx)(G.Z,{hasAffiliateLink:eJ,hasAffiliateProducts:e0})})]})]})}),ee&&ey()]}),ee&&(0,I.jsx)(v.xu,{alignItems:"stretch",display:N?"block":"flex",flex:"grow",justifyContent:"end",children:e7()})]}),el&&e7(),ep&&(0,I.jsx)(ez,{inCommentsPopoverExp:a,pinKey:C,viewParameter:t}),(0,I.jsx)(_.Fragment,{children:s})]})});function eV(e){return(0,I.jsx)(eU,{...e})}var eH=a(295483),eW=a(546345),eG=a(439122),e$=a(502447),eX=a(73579),eY=a(492841);let eq=(0,_.lazy)(()=>a.e("99339").then(a.bind(a,157720))),eQ=(0,_.memo)(function({inCommentsImprovedDropdownExp:e,inCommentsPopoverExp:l,isCommentSectionOpen:a,isStoryPin:n,isVideoPin:i,isDeletedStoryPin:t,orbacActingAs:r,orbacSubjectId:s,onCommentSectionClick:o,onCloseupBodyUpdate:d,outerPaddingSize:u=eE.g9,pin:c,viewer:p,shouldShowStlCarouselForOwnPin:g,storyPinTaggedProducts:m=[],taggedProducts:y,closeupContext:h,isLoadingNewlyCreatedComment:k,viewParameter:x,detailsScrollContainerRef:S}){let{makeDetailsArgs:b}=ef({type:"deprecated",data:c}),{checkExperiment:P}=(0,eg.ru)(),{isShopTheLook:w,showCanonicalComments:F}=b(!!t),T=(0,D.ZP)(),C=(0,f.TH)(),{isAuthenticated:j}=(0,eC.B)(),K=P("dweb_closeup_links").anyEnabled,A=c.is_instagram_api&&c.native_creator?.website_url&&c.native_creator?.is_primary_website_verified,{link:L,utm_link:R,tracked_link:E}=c,Z=(0,ec.Zt)({utmLink:R,link:L,trackedLink:E}),O=M((0,N.Z)((0,z.Z)((0,B.Z)({pin:c})))),U=(y||[]).filter(e=>(function(e){if("pin_tag"===e.type){let{x_percent:l,y_percent:a}=e;if(l>0&&l<=100&&a>0&&a<=100)return!0}return!1})(e)),V=(0,eR.q6)(p,c.pinner?.id,r),{closeupWithinMasonryEnabled:H,peekCloseupEnabled:W}=h,$=!j&&(0,eI.am)(C),X=!!(c.promoter&&!c.is_downstream_promotion)&&c.promoter?.id===c.native_creator?.id,{sponsorship:Y,story_pin_data:q,affiliate_link:Q}=c,J=!!Q,ee=!!q?.has_affiliate_products,el=(!!Y||ee||J)&&!X&&!$,ea=(c.aggregated_pin_data?.comment_count??0)+(c.aggregated_pin_data?.did_it_data?.images_count??0),en=!t&&F&&(e?!c.comments_disabled:!l),ei=(e?!!ea:!W)||(c.aggregated_pin_data?.comment_count??0)>0,et=!n&&(!((c.rich_summary?.products??[]).length||(c.rich_metadata?.products??[]).length)&&w&&U.length>0||g)&&!i,eo=n&&m&&m.length>0,ed=(0,e$.Z)({pinKey:{type:"deprecated",data:c},orbacActingAs:r,viewer:p}),{isEligibleForStaticImageIdeaPin:eu}=(0,eX.Z)(c.story_pin_data_id),ep=eu&&m&&m.length>0,{paddingLeft:em,paddingRight:ey,marginTop:e_,marginBottom:eh}=H?{paddingLeft:0,paddingRight:0,marginTop:0,marginBottom:e&&en?0:2}:W?{paddingLeft:0,paddingRight:u/2,marginTop:2,marginBottom:2}:{paddingLeft:u/2,paddingRight:u,marginTop:10,marginBottom:6},ek=c.favorited_by_me?T._('Remove from favorites', 'closeup.metadataDetails.removeFromFavorites', 'Text for button allowing users to unfavorite a saved Pin'):T._('Add to favorites', 'closeup.metadataDetails.addToFavorites', 'Text for button allowing users to favorite a saved Pin'),ex=[...et||eo||ep?[(0,I.jsx)(es.Z,{paddingLeft:H?void 0:u/2,paddingRight:H?void 0:u,children:(0,I.jsx)(eT.Z,{name:"SafeSuspense_CloseupBody_StlCloseupModule",children:(0,I.jsx)(ej.Z,{children:(0,I.jsx)(eq,{closeupImageSignature:c.image_signature??"",isOwnCreatedPin:g,pin:c,pinId:c.id,taggedObjects:eo||ep?m:U,type:et?"stl":"story",viewParameter:x})})})},"closeupStlModuleMetadataPadding")]:[],...O?[(0,I.jsx)(es.Z,{paddingLeft:0,paddingRight:H?void 0:u/2,children:(0,I.jsx)(eY.Z,{recipeProps:O})},"closeupRecipeMetadataPadding")]:[],...!t&&ed?[(0,I.jsx)(es.Z,{paddingRight:H?void 0:u/2,children:(0,I.jsxs)(v.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2*!H,marginTop:2*!H,children:[H?(0,I.jsx)(v.xv,{size:"300",weight:"bold",children:ek}):(0,I.jsx)(v.xv,{weight:"bold",children:ek}),(0,I.jsx)(eW.Z,{pinKey:{type:"deprecated",data:c}})]})},"closeupFavoriteBarMetadataPadding")]:[]];return(0,I.jsx)(_.Fragment,{children:(0,I.jsxs)(v.kC,{alignItems:"stretch","data-testid":"closeup-metadata-details-flex",direction:"column",flex:"grow",height:W?"100%":void 0,justifyContent:"start",children:[H?null:(0,I.jsxs)(es.Z,{"data-testid":"closeup-metadata-details",paddingLeft:H?void 0:W?0:u/2,paddingRight:H?void 0:u/2,children:[(0,I.jsx)(v.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,I.jsx)(v.xu,{marginTop:W?void 0:2,width:"100%",children:(0,I.jsx)(er,{instagramPostLink:(0,I.jsx)(eK.Z,{closeupLinkEnabled:K,nativeCreatorCloseupLinkEligible:!!A,peekCloseupEnabled:W,uriComponent:Z}),isStoryPin:n,onUpdate:d,pinKey:{type:"deprecated",data:c}})})}),el&&!H&&(0,I.jsx)(G.Z,{hasAffiliateLink:J,hasAffiliateProducts:ee})]}),(0,I.jsx)(_.Fragment,{children:ex.map((e,l)=>(0,I.jsxs)(_.Fragment,{children:[e,H&&(0,I.jsx)(v.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,I.jsx)(eG.Z,{show:!!(en&&ei||l<ex.length-1),surface:"closeup-metadata-details"})})]},`detailFragment-${e.key}`))}),!ex.length&&!l&&(0,I.jsx)(v.xu,{marginBottom:2,marginTop:en&&ei?2:0,width:"100%",children:(0,I.jsx)(eG.Z,{show:H&&en&&ei,surface:"closeup-metadata-details"})}),en&&(0,I.jsx)(eT.Z,{name:"CanonicalCard",children:(0,I.jsx)(es.Z,{paddingLeft:em,paddingRight:ey,children:(0,I.jsx)(v.xu,{marginBottom:eh,marginTop:e_,children:(0,I.jsx)(eH.Z,{aggregatedPinId:c.aggregated_pin_data?.id,closeupAttributionId:c.closeup_attribution?.id,closeupAttributionUsername:c.closeup_attribution?.username,commentCount:c.aggregated_pin_data?.comment_count??0,commentsDisabled:c.comments_disabled,inCommentsImprovedDropdownExp:e,isCommentSectionOpen:a,isLoadingNewCreatedComment:k,isORBACProfileManager:V,isShopTheLook:w,isVideo:!!c.videos?.video_list,onCommentSectionClick:o,orbacSubjectId:s,photoCount:c.aggregated_pin_data?.did_it_data?.images_count??0,pinId:c.id,pinKey:{type:"deprecated",data:c},pinnerId:c.pinner?.id,scrollContainerRef:S,shouldShowHeading:ei,storyPinDataId:c.story_pin_data?.id,viewParameter:x})})})})]})})});function eJ(e){return(0,I.jsx)(eQ,{...e})}var e0=a(974446);function e1({maxHeight:e,pin:l,showShoppingModule:a,trafficSource:n,viewParameter:i}){let t={height:"48px",padding:"80px 4px 16px 4px",pointerEvents:"none",transition:"opacity 0.1s ease-in-out",width:"100%",zIndex:1},[r,s]=(0,_.useState)(!1),[o,d]=(0,_.useState)(!0),u=(0,_.useRef)(null),c=()=>{let e=u.current;if(!e)return;let{scrollTop:l,scrollHeight:a,clientHeight:n}=e;s(0!==l),d(l+n!==a)};return(0,_.useEffect)(()=>{let e=u.current;if(e)return e.addEventListener("scroll",c),()=>{e.removeEventListener("scroll",c)}},[]),a&&(0,I.jsxs)(v.xu,{ref:u,dangerouslySetInlineStyle:{__style:{borderLeft:ek.tc}},"data-test-id":"peek-variant-shopping-module-container",height:"auto",maxHeight:e,overflow:"scrollY",children:[(0,I.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{...t,background:"linear-gradient(0deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:+!!r}},"data-test-id":"peek-variant-top-gradient",position:"absolute",top:!0}),(0,I.jsx)(e0.Z,{moduleWidth:ek.LV,pinKey:{type:"deprecated",data:l},trafficSource:n,viewParameter:i}),(0,I.jsx)(v.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...t,background:"linear-gradient(180deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:+!!o}},position:"absolute"})]})}var e2=a(341742),e3=a(25837);let e6=e3.cI+16,e4=`calc(100vh - ${e6}px)`;function e7(e=100){let[l,a]=(0,_.useState)(e4),n=(0,_.useRef)(null),i=`calc(${e??"100"}vh - ${e6}px)`;return(0,e2.Z)(()=>{if(!window)return;let l=window.innerHeight-e6,t=n.current?.clientHeight||0;t>l*(e??100)/100&&(i=t.toString()),a(l>t?i:t)}),{descriptionContentMaxHeight:l,visualContentContainerRef:n}}function e5(){let[e,l]=(0,_.useState)(""),a=(0,_.useRef)(null),n=(0,_.useRef)(null),i=(0,_.useRef)(null),t=(0,_.useRef)(null);return(0,_.useEffect)(()=>{let l=()=>{e&&a.current&&a.current.handleEgSurveyClick(e)};return window.addEventListener("focus",l),()=>window.removeEventListener("focus",l)},[e]),{clickthroughComponentForSurvey:e,setClickthroughComponentForSurvey:l,webLinkSurveyRef:a,imageContainerRef:n,legoLinkClickthroughAnchorRef:i,maybeLinkRef:t}}var e8=a(96413),e9=a(841298),le=a(979904),ll=a(629178),la=a(555242),ln=a(521009),li=a(839626),lt=a(821342),lr=a(390843),ls=a(906498),lo=a(123317),ld=a(448505),lu=a(790427);let lc=(0,_.lazy)(()=>a.e("18364").then(a.bind(a,206837))),lp=(0,_.lazy)(()=>a.e("71002").then(a.bind(a,154709)));function lg({handleImageClickThrough:e,imageContainerRef:l,isStoryPin:a,isWideVideo:n,onSaveButtonClick:i,pin:t,setClickthroughComponentForSurvey:r,showRepinOnInitialRender:s,trafficSource:o,viewParameter:d,viewParameterType:u,visualContentContainerRef:c={current:null}}){let[p,g]=(0,_.useState)(!1),{previous:m}=(0,lr.ou)(),y=(0,W.x4)(),h=(0,ld.Z)(),f=(0,L.G)(),k=(0,lt.Z)(),{getViewParameter:x}=ef({type:"deprecated",data:t}),S=(0,ln.Z)(),b=0===m.length,{imgSrc:w,video:F}=f,{isCloseupMediaViewerEnabled:T}=(0,ll.Z)({isShufflePin:!!t?.shuffle}),{executeWithViewTransition:C}=(0,la.Z)({_enableViewTransitions:T}),j=(0,P.Z)({showProductDetailPage:!!t.is_eligible_for_pdp}),{anyEnabled:K}=(0,ls.Z)(),A=()=>{g(e=>!e)},R=()=>{g(!1)},E=e=>({gridDescription:t.description,imageSrc:e,isFlyoutOpen:p,onFlyoutDismiss:R,onToggleFlyout:A,pinId:t.id}),{clientTrackingParams:D,paneWidth:Z,closeupWithinMasonryEnabled:M,peekCloseupEnabled:N,setIsCloseupMediaViewerOpen:z}=y,{fiftyPercentWidth:B}=(0,ek.Re)(),{maxHeight:O}=(0,le.Z)({pinKey:{type:"deprecated",data:t}}),U=(0,_.useCallback)(()=>{e&&e(),r("imageContainer")},[e,r]);if(a)return null;let{domain:V,music_attributions:H,pinner:G,should_mute:$}=t,X=!!V&&!!t.link&&!t.link.startsWith("https://i.pinimg.com"),Y=()=>{S({aux_data:{image_signature:t.image_signature},component:128,event_type:101,element:T?15864:15865,view_type:3}),C(()=>{z(!0)})},q=(0,eR.q6)(k,G?.id,h);return(0,I.jsxs)(v.xu,{ref:c,dangerouslySetInlineStyle:{__style:{containerType:K?"inline-size":"normal",display:N||j?"flex":"block",height:N||j?"100%":void 0}},"data-test-id":"visual-content-container",children:[(0,I.jsx)(eL.q,{children:({hovered:e,onMouseEnter:a,onMouseLeave:i})=>(0,I.jsxs)(v.xu,{alignSelf:N||j?"center":void 0,direction:M?"column":void 0,display:"flex",justifyContent:"center",maxHeight:j?void 0:O,maxWidth:B,onMouseEnter:a,onMouseLeave:i,position:"relative",width:"100%",children:[F&&H?.length!==0&&(0,I.jsx)(v.xu,{alignItems:"center","data-test-id":"music-attribution",display:"flex",justifyContent:"center",marginTop:6,overflow:"hidden",paddingY:8,position:"absolute",top:!0,width:Z,zIndex:lo.Ls,children:(0,I.jsx)(e8.Z,{musicAttributions:H,shouldMute:!!$})}),(0,I.jsx)(e9.Z,{clientTrackingParams:D,closeupIsFirstPageInHistoryStack:b,flyoutShareProps:E(w),handleMediaButtonClick:Y,imageContainerRef:l,isHovered:e,isORBACProfileManager:q,isWideVideo:n,onImageClick:U,pin:t,shouldPadImage:!1,showDomainLink:X,trafficSource:o,viewParameter:x(u)}),t&&t.showFeedback&&(0,I.jsx)(ej.Z,{children:(0,I.jsx)(lc,{pin:t})})]})}),(0,I.jsx)(v.mh,{zIndex:lu.lI,children:(0,I.jsx)(li.Qp,{anchor:c.current,experienceIds:[506204],flyoutSize:"md",forceDirection:!M,idealDirection:M?"right":"down",placementId:12,showCaret:!0,textWeight:"normal"})}),T&&(0,I.jsx)(eT.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewer",children:(0,I.jsx)(ej.Z,{children:(0,I.jsx)(lp,{flyoutShareProps:E(w),onClose:({isExitButton:e,isClick:l})=>{S({aux_data:{image_signature:t.image_signature},component:128,event_type:l?101:97,element:e?15867:15866,view_type:3}),C(()=>{z(!1)})},onImageClick:()=>{e&&e()},onSaveButtonClick:i,pin:t,rounding:24,showRepinOnInitialRender:s,trafficSource:o,viewParameter:d})})})]})}var lm=a(890479),ly=a(289032),l_=a(218831);let lh={__style:{marginBottom:"0",marginTop:"0",maxWidth:eE.KP,minWidth:eE.Gg}},lf=(0,_.memo)(function({children:e,isWideVideo:l}){let{showCloseupContentRight:a,maxWidth:n,paneWidth:i,peekCloseupEnabled:t,closeupWithinMasonryEnabled:r,viewportSize:s}=(0,W.x4)(),{maxHeight:o}=(0,ek.Re)(),{mainImage:d}=(0,L.G)(),{peekRedesignFastFollowsEnabled:u}=(0,eS.Z)(d),c=a||l?n:i;return c=r&&"sm"!==s||t?void 0:c,r?(0,I.jsx)(v.xu,{"data-test-id":"closeup-lego-container",height:"100%",children:e}):(0,I.jsx)(v.xu,{"data-test-id":"closeup-lego-container",display:"flex",height:"100%",maxHeight:u?void 0:o,maxWidth:c,position:"relative",rounding:8,width:"100%",children:(0,I.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{display:"flex"},children:(0,I.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},display:"flex",children:(0,I.jsx)(v.xu,{dangerouslySetInlineStyle:l?lh:{},display:"flex",children:e})})})})});function lk(e){return(0,I.jsx)(lf,{...e})}var lx=a(327387),lS=a(477464),lv=a(44344),lb=a(603316);let lP=(0,eM.Z)(()=>Promise.all([a.e("74466"),a.e("71929"),a.e("9767")]).then(a.bind(a,347353)),{ssr:!1},e=>347353,"ChangeBoardModalCommon"),lw=(0,eM.Z)(()=>Promise.all([a.e("44880"),a.e("55759")]).then(a.bind(a,523226)),void 0,e=>523226,"CloseupActionBarCommon"),lF=(0,eM.Z)(()=>a.e("62220").then(a.bind(a,941798)),void 0,e=>941798,"app-common-react-components-closeup-LeadGen-LeadGenCloseupBodyContent"),lT=(0,eM.Z)(()=>a.e("30644").then(a.bind(a,596423)),void 0,e=>596423,"app-common-react-components-closeup-CloseupBody-CloseupInlineCommentComposer"),lI=(0,_.lazy)(()=>a.e("90657").then(a.bind(a,156020))),lC=({children:e,metadataContainerRef:l,closeupWithinMasonryEnabled:a})=>a?(0,I.jsx)(v.xu,{ref:l,width:"100%",children:e}):(0,I.jsx)(_.Fragment,{children:e}),lj=(0,_.memo)(({children:e,clientTrackingParams:l,pinKey:a,pinImageUrl:n,closeupNavigationType:i})=>{let t=(0,w.Z)(C,a),r=(0,P.Z)({showProductDetailPage:!!t.isEligibleForPdp}),s=(0,_.useMemo)(()=>t,[t]),o=(0,T.Z)(s),{entityId:d}=t,u=(0,_.useMemo)(()=>o(),[o]),c=(0,_.useMemo)(()=>t.isEligibleForPdp?u:{},[u,t.isEligibleForPdp]),p=(0,_.useMemo)(()=>({imageURL:n,clientTrackingParams:l}),[l,n]),g=(0,_.useMemo)(()=>({pin_id:d}),[d]);return(0,I.jsx)(F.Fw,{clientTrackingParams:l,closeupImpressionType:13,closeupNavigationType:i,componentType:85,contextLogData:c,impressionAuxFields:p,impressionType:"Pin",loggingId:d,slotIndex:-1,viewData:g,viewType:3,children:({impressionTrackerRef:l})=>(0,I.jsx)(v.xu,{ref:l,"data-test-id":"closeup-visual-container",width:r?"100%":void 0,children:e})})}),lK=(0,_.memo)(lg);function lA({isWideVideo:e,didShortClickThrough:l,webLinkSurveyState:{webLinkSurveyRef:a,imageContainerRef:n,legoLinkClickthroughAnchorRef:i,maybeLinkRef:t},pin:r,outerBodyStyle:s,inCommentsImprovedDropdownExp:o,inCommentsPopoverExp:d,isEligibleForPinReactions:u,isStoryPin:c,trafficSource:p,visualContentContainer:g,isCloseupMaximized:m,outerPaddingSize:y,isInStream:k,metadataContainerRef:x,onClickThrough:S,viewParameter:b,metadata:w,viewer:F,orbacSubjectId:T,setIsLoadingNewlyCreatedComment:C=()=>{},descriptionContentMaxHeight:j,marginBottom:K=0,isDeletedStoryPin:A,onSaveButtonClick:L,showRepinOnInitialRender:R,goBack:E,onUpdate:Z,routePush:M,closeupActionBarMaxWidth:N,visualContentContainerRef:z,showPDPComments:B,actionBarContainerRef:O}){let{descriptionPaneWidth:U,viewportSize:V,clientTrackingParams:H,closeupWithinMasonryEnabled:G,peekCloseupEnabled:$,showCloseupContentRight:X}=(0,W.x4)(),Y=(0,h.v9)(({changeBoardFromToast:e})=>e)||{},q=(0,e0.F)(r.id),{makeDetailsArgs:Q}=ef({type:"deprecated",data:r}),{showCanonicalComments:J}=Q(!!A),ee=q&&0!==q.length,el=(0,D.ZP)(),ea=(0,f.k6)(),en=(0,_.useRef)(null),{setCloseupBodyWidth:ei}=(0,l_.K)(),et=(0,_.useCallback)(()=>{let e=x.current;e&&ei(l=>{let a=e.offsetWidth;return l!==a?a:l})},[x,ei]);(0,lv.Z)(et,x);let er=(0,ld.Z)(),{is_eligible_for_aggregated_comments:es,pinner:eo}=r,ed=(0,eR.q6)(F,eo?.id,er),eu=r.comments_disabled?0:(r.aggregated_pin_data?.comment_count??0)+(r.aggregated_pin_data?.did_it_data?.images_count??0),ec=!(ed&&!T)&&(!r.is_eligible_for_pdp||!!B)&&!r.comments_disabled&&!!es&&!(o||d),ep=!!r.promoted_is_lead_ad,eg=0!==Object.keys(r).length,em=z?.current?.clientHeight||0,[ey,e_]=(0,_.useState)(!0);(0,_.useEffect)(()=>{let e=(0,ly.Z)(()=>{G&&e_(0===window.scrollY)},50);return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[G]),(0,e2.Z)(()=>{r.closeup_attribution?.id&&(0,lb.nP)("web.closeup.has_attribution.yes"),(0,lb.nP)("web.closeup.has_attribution.no")});let eh=(0,_.useMemo)(()=>(0,lS.Z)(ea,p),[ea,p]),ex=(0,_.useMemo)(()=>(r.images&&r.images["236x"]?.url)??"",[r.images]),eS=(0,_.useMemo)(()=>({type:"deprecated",data:r}),[r]),ev=(0,I.jsx)(lm.Z,{id:"CloseupMainPinImpressionAuthDesktop",children:(0,I.jsx)(lj,{clientTrackingParams:H,closeupNavigationType:eh,pinImageUrl:ex,pinKey:eS,children:g})}),{fiftyPercentWidth:eb,fiftyPercentHeight:eP}=(0,ek.Re)(),ew=e&&!G?eE.KP:void 0;ew=$?eb:ew;let eF=(c||G)&&!$?void 0:j;$&&(eF="sm"===V?eP:Math.max(ek.ql,z?.current?.clientHeight??0));let eI={...s,boxShadow:"unset",border:ek.tc,overflow:"clip"},eC=o?J&&!r.comments_disabled:!d,eK=G&&y&&!eC?y:0,eA=(0,P.Z)({showProductDetailPage:!!r.is_eligible_for_pdp}),eL=(0,_.useMemo)(()=>(0,I.jsx)(lT,{aggregatedPinDataId:r.aggregated_pin_data?.id,closeupAttributionId:r.closeup_attribution?.id,commentCount:eu,disablePhotoCommentSelection:!!r.done_by_me,inCommentsImprovedDropdownExp:o,isEligibleForPinReactions:u,isPDP:r.is_eligible_for_pdp,orbacSubjectId:T,pinId:r.id,privatePin:"secret"===r.privacy,reactionByMe:r.reaction_by_me||0,reactionCounts:r.reaction_counts,setIsLoadingNewlyCreatedComment:C,showCommentComposer:ec,showReactBackground:!G,storyPinDataId:r.story_pin_data_id,viewParameter:b}),[r.aggregated_pin_data?.id,r.closeup_attribution?.id,eu,r.done_by_me,o,u,r.is_eligible_for_pdp,T,r.id,r.privacy,r.reaction_by_me,r.reaction_counts,C,ec,G,r.story_pin_data_id,b]),eD=(0,_.useMemo)(()=>(!G||eA)&&ec?X?(0,I.jsx)(v.Le,{bottom:0,children:eL}):eL:null,[G,eA,ec,X,eL]);return(0,I.jsx)(_.Fragment,{children:(0,I.jsxs)(v.xu,{height:"100%",marginBottom:K,position:"relative",width:"100%",children:[(0,I.jsx)(lk,{isWideVideo:e,children:(0,I.jsxs)(v.xu,{display:G?void 0:"flex",position:"relative",children:[!l&&(0,I.jsx)(ej.Z,{children:(0,I.jsx)(lI,{ref:a,imageContainerRef:n,legoLinkClickthroughAnchorRef:i,maybeLinkRef:t,pin:{aggregatedPinData:r.aggregated_pin_data&&{isShopTheLook:r.aggregated_pin_data.is_shop_the_look},board:r.board&&{entityId:r.board.id,owner:r.board.owner&&{entityId:r.board.owner.id??""}},entityId:r.id,imageSignature:r.image_signature,isDownstreamPromotion:r.is_downstream_promotion,isPromoted:r.is_promoted,link:r.link,recommendationReason:r.recommendation_reason&&{reason:r.recommendation_reason.reason}}})}),(0,I.jsx)(v.xu,{color:eg?"default":"transparent",dangerouslySetInlineStyle:{__style:{...eI}},"data-test-id":"closeup-body-style",display:"flex",paddingX:G&&!eA?4:void 0,position:"relative",children:(0,I.jsx)(lC,{closeupWithinMasonryEnabled:G,metadataContainerRef:x,children:(0,I.jsx)(v.kC,{alignItems:"stretch",height:G?"100%":void 0,justifyContent:"start",children:(0,I.jsx)(lx.Z,{children:eg?(0,I.jsx)(_.Fragment,{children:r.promoted_is_lead_ad?(0,I.jsx)(lF,{clientTrackingParams:H,pin:r,data:!!r,goBack:E,onUpdate:Z,viewParameter:b,onSaveButtonClick:L,showRepinOnInitialRender:R,actionBarContainerRef:O,trafficSource:p,onClickThrough:S,isStoryPin:c,descriptionPaneWidth:U,metadataContainerRef:x,visualContentContainer:g,visualContentContainerHeight:em,showLeadPinStdBeta:ep}):(0,I.jsxs)(_.Fragment,{children:[(0,I.jsxs)(v.kC,{alignContent:"center",alignItems:"stretch",alignSelf:"center",direction:"column",justifyContent:"start",width:"100%",children:[!eA&&G&&(0,I.jsx)(v.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...!ey?eE.fF:{},borderTop:ey?void 0:ek.tc,position:"sticky",top:"80px"}},"data-test-id":"closeup-action-bar",display:"flex",justifyContent:"center",marginEnd:-4,marginStart:-4,overflow:"visible",paddingX:4,zIndex:lu.$8,children:(0,I.jsx)(lw,{actionBarContainerRef:O,goBack:E,gridDescription:r.description??"",inCommentsImprovedDropdownExp:o,inCommentsPopoverExp:d,isDeletedStoryPin:!!A,isEligibleForAggregatedComments:!!es,isEligibleForPinReactions:u,isOnSecretBoard:!1,isStoryPin:c,onEditSubmit:Z,onSaveButtonClick:L,outerPaddingSize:y,pin:r,routePush:M,showRepinOnInitialRender:R,viewParameter:b})}),ev]}),(0,I.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{containerType:eA&&X?"size":void 0,overflow:$&&"sm"===V?"scroll":void 0,flexBasis:eA?"70%":void 0}},"data-test-id":"description-content-container",direction:"column",display:"flex",flex:"grow",height:m?0:"100%",maxHeight:eF,maxWidth:ew,minHeight:eA?"55vh":void 0,paddingX:eA?4:void 0,width:e||G?void 0:U,children:r?(0,I.jsxs)(_.Fragment,{children:[(!k&&!G||eA)&&(0,I.jsx)(eT.Z,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,I.jsx)(lw,{actionBarContainerRef:en,goBack:E,gridDescription:r.description??"",inCommentsImprovedDropdownExp:o,inCommentsPopoverExp:d,isDeletedStoryPin:!!A,isEligibleForAggregatedComments:!!es,isEligibleForPinReactions:u,isOnSecretBoard:!1,isStoryPin:c,maxWidth:N,onEditSubmit:Z,onSaveButtonClick:L,outerPaddingSize:y,pin:r,routePush:M,showRepinOnInitialRender:R,viewParameter:b})}),(0,I.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:G?void 0:$?ek.Gd:eE.g9,paddingBottom:G?eK:void 0}},direction:"column",display:"flex",flex:"grow",children:(0,I.jsxs)(v.xu,{ref:G?void 0:x,alignItems:"stretch",direction:"column",display:"flex",flex:"grow",justifyContent:"start",overflow:G||eA?void 0:"auto",children:[(0,I.jsx)(v.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{rowGap:G?4*eE.O5:void 0}},direction:"column",display:"flex",height:$||eA?"100%":void 0,justifyContent:"start",width:$?"100%":void 0,children:w}),G&&!eA&&ec&&eL]})}),eD]}):(0,I.jsx)(v.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,I.jsx)(v.xH,{accessibilityLabel:el._('Pin details loading', ' - ', ' -- '),show:!0})})}),$&&"lg"===V&&(0,I.jsx)(e1,{maxHeight:z?.current?.clientHeight,pin:r,showShoppingModule:ee,trafficSource:p,viewParameter:b})]})}):(0,I.jsx)(v.kC,{alignItems:"center",height:300,justifyContent:"center",width:"100%",children:(0,I.jsx)(v.xH,{accessibilityLabel:el._('Pin loading', ' - ', ' -- '),show:!0})})})})})})]})}),Y.shouldOpenModal&&Y.newPin&&Y.originalPinId===r.id&&(0,I.jsx)(eT.Z,{name:"SafeSuspense_CloseupBody_ChangeBoardModal",children:(0,I.jsx)(lP,{experience:Y.experience,pinKey:{type:"deprecated",data:Y.newPin}})})]})})}let lL=(0,_.memo)(lA),lR=(0,_.memo)(function({isStoryPin:e,isVideoPin:l,isWideVideo:a,pin:n,taggedProducts:i,trafficSource:t,viewParameterType:r,onClickThrough:s,didShortClickThrough:o,goBack:d,isCloseupMaximized:u=!1,isInStream:c=!1,isDeletedStoryPin:p,onSaveButtonClick:g,onUpdate:m,outerBodyStyle:y,outerPaddingSize:h,routePush:f,showRepinOnInitialRender:k,viewType:x,isCommentSectionOpen:S,onCommentSectionClick:P,onCloseupBodyUpdate:w,shouldShowStlCarouselForOwnPin:F,storyPinTaggedProducts:T,clientTrackingParams:C,viewportSize:j,shouldShowPartnerModule:K,trendsData:A,showTrendsOnPinCloseup:L,showPinStats:R}){let{checkExperiment:E}=(0,eg.ru)(),[D,Z]=(0,_.useState)(!1),M=(0,_.useRef)(null),N=(0,_.useRef)(null),z=(0,W.x4)(),{closeupWithinMasonryEnabled:B}=z,O=(0,lt.Z)(),U=B&&!!n.is_eligible_for_aggregated_comments&&"enabled_popover"===E("ce_dweb_new_closeup_comment_module").group,V=B&&!!n.is_eligible_for_aggregated_comments&&"enabled_dropdown"===E("ce_dweb_new_closeup_comment_module").group,H=!n.is_promoted&&!n.is_downstream_promotion&&!p,G=(0,ld.Z)(),$=(0,eR.lJ)(O,G),X=e5(),Y=(0,_.useCallback)(()=>{s&&s({componentType:129}),X.setClickthroughComponentForSurvey("legoMaybeLink")},[s,X]),q=e7(),{getViewParameter:Q}=ef({type:"deprecated",data:n}),J=Q(r),{setClickthroughComponentForSurvey:ee,imageContainerRef:el}=X,{group:ea}=E("webpack_react_profiler");if("enabled_slow_closeupbody"===ea){let e=performance.now(),l=e;for(;l-e<30;)l=performance.now()}let en=(0,_.useCallback)(()=>{s({wasImageClicked:!0})},[s]),ei=(0,_.useMemo)(()=>n,[n]),et=(0,_.useMemo)(()=>t,[t]),er=(0,_.useMemo)(()=>J,[J]),es=(0,_.useMemo)(()=>r,[r]),eo=(0,I.jsx)(lK,{handleImageClickThrough:en,imageContainerRef:el,isStoryPin:e,isWideVideo:a,onSaveButtonClick:g,pin:ei,setClickthroughComponentForSurvey:ee,showRepinOnInitialRender:k,trafficSource:et,viewParameter:er,viewParameterType:es,visualContentContainerRef:q.visualContentContainerRef}),ed=(0,I.jsx)(eJ,{closeupContext:z,detailsScrollContainerRef:N.current,inCommentsImprovedDropdownExp:V,inCommentsPopoverExp:U,isCommentSectionOpen:S,isDeletedStoryPin:p,isLoadingNewlyCreatedComment:D,isStoryPin:e,isVideoPin:l,onCloseupBodyUpdate:w,onCommentSectionClick:P,orbacActingAs:G,orbacSubjectId:$,outerPaddingSize:h,pin:n,shouldShowStlCarouselForOwnPin:F,storyPinTaggedProducts:T,taggedProducts:i,viewer:O,viewParameter:J}),eu=(0,_.useMemo)(()=>({type:"deprecated",data:n}),[n]),ec=(0,I.jsx)(eV,{clientTrackingParams:C,details:ed,inCommentsPopoverExp:U,isDeletedStoryPin:p,isStoryPin:e,onClickThrough:s,onCloseupBodyUpdate:w,orbacActingAs:G,outerPaddingSize:h,pinKey:eu,shouldShowPartnerModule:K,showPinStats:R,showTrendsOnPinCloseup:L,trafficSource:t,trendsData:A,viewer:O,viewParameter:J,viewportSize:j}),ep=(0,I.jsx)(lL,{actionBarContainerRef:M,descriptionContentMaxHeight:q.descriptionContentMaxHeight,didShortClickThrough:o,goBack:d,inCommentsImprovedDropdownExp:V,inCommentsPopoverExp:U,isCloseupMaximized:u,isEligibleForPinReactions:H,isInStream:c,isStoryPin:e,isWideVideo:a,metadata:ec,metadataContainerRef:N,onClickThrough:Y,onSaveButtonClick:g,onUpdate:m,orbacSubjectId:$,outerBodyStyle:y,outerPaddingSize:h,pin:n,routePush:f,setIsLoadingNewlyCreatedComment:Z,showRepinOnInitialRender:k,trafficSource:t,viewer:O,viewParameter:J,viewType:x,visualContentContainer:eo,visualContentContainerRef:q.visualContentContainerRef,webLinkSurveyState:X}),em=(0,I.jsx)(b.z8,{pin:n,children:ep}),ey=(0,_.useMemo)(()=>({web_gestalt_calico:{anyEnabled:!0,group:"enabled"}}),[]);return n?.ad_data?.exclude_from_grid_rep_tests&&E("web_exclude_from_grid_rep_tests").anyEnabled?(0,I.jsx)("div",{className:"excludeFromGridRepTests",children:(0,I.jsx)(v.II,{value:ey,children:em})}):em});function lE(e){return(0,I.jsx)(lR,{...e})}var lD=a(86295);let lZ=[lD.gO.ADMIN,lD.gO.CAMPAIGN_MANAGER];var lM=a(753261),lN=a(774721),lz=a(222555),lB=a(389965),lO=a(462585);let lU=(0,eM.Z)(()=>a.e("96615").then(a.bind(a,174753)),{ssr:!1},e=>174753,"CloseupPartnerModule"),lV=(0,eM.Z)(()=>a.e("54347").then(a.bind(a,15863)),{ssr:!1},e=>15863,"SponsorshipApprovalModule"),lH=(0,_.memo)(function({permissions:e,pinId:l,sponsorshipStatus:a,creatorUsername:n}){return(0,I.jsx)(v.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,I.jsx)(eT.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,I.jsx)(lV,{business_role:e,creatorUsername:n??"",pinId:l,sponsorshipStatus:a})})})}),lW=(0,_.memo)(function({borderStyle:e,isStoryPin:l,closeupWidth:a,isWideVideo:n,viewportSize:i,pinKey:t,showPinStats:r,trendsData:s}){return(0,I.jsx)(v.xu,{"data-test-id":"PartnerModule",width:"lg"===i&&n?a:"100%",children:(0,I.jsx)(eT.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,I.jsx)(lU,{borderStyle:e,isStoryPin:l,pinKey:t,showPinStats:r,trendsData:s,viewportSize:i})})})}),lG=(0,_.memo)(function({clientTrackingParams:e,closeupWithinMasonryEnabled:l,didShortClickThrough:a,executeClickthrough:n,handleBackButtonClick:i,handleCarouselSwipe:t,handleCloseupBodyContainerRef:r,handleIdeaCloseupCommentIconClick:s,handleSaveClicked:o,isCloseupMaximized:d,isCommentThreadExpanded:u,isEligibleForStaticImageIdeaPin:c,isLimitedLogin:p,maxWidth:g,onToggleIdeaPinCloseupPanel:m,peekCloseupEnabled:y,pin:h,pinDerivedData:f,pinResource:k,relatedPinsContainerRef:S,routePush:b,shopping:P,showRepinOnInitialRender:w,storyPinTaggedProducts:F,trafficSource:T,trendsData:C,updateViewportSize:j,userBusinessRoleResource:K,viewportSize:A}){let L,R=(0,eC.B)(),E=(0,lt.Z)(),{checkExperiment:D}=(0,eg.ru)(),Z=(0,ld.Z)(),{id:M,sponsorship:N,story_pin_data_id:z,story_pin_data:O}=h,U=!!z&&!c,V=!!O?.is_deleted,{creator:H,sponsor:W,status:G}=N||{},{username:$}=H||{},{username:X}=W||{},{refresh:Y}=k,q=(0,eR.lJ)(E,Z),{data:Q}=K||{},J=!h.is_repin&&!!X,ee=X===(E.isAuth?E.username:void 0)?[lD.V3.OWNER]:Q?.permissions,el=(0,_.useMemo)(()=>X===(E.isAuth?E.username:void 0)?[lD.V3.OWNER]:Q?.permissions,[Q?.permissions,X,E]),ea=X===(E.isAuth?E.username:void 0)||!!ee?.find(e=>lZ.includes(e)),en=X===(E.isAuth?E.username:void 0)||!!ee?.find(e=>lZ.includes(e)),{isWideVideo:ei}=(0,lz.Z)((0,B.Z)({pin:h}))||{},et=(0,lN.Z)({type:"deprecated",data:h},E,q),er=(0,x.CA)(C?.data),es=J&&E.isAuth&&D("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(ea&&0===G||en&&1===G),eo=h.link_domain?.official_user?.username||h.native_creator?.username,ed=(0,eR.Ms)(E,Z)===eo&&(0,eR.nl)(E,Z)&&R.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,eu=U&&(O?.pages?.length??0)>0,ec=(0,lM.WE)(E,A,et,er,C,es);L=U?{boxShadow:void 0,borderRadius:void 0}:l?ek.ko:ek.te;let ep=es&&"number"==typeof G,em=ec&&!U&&!l,ey=(0,_.useMemo)(()=>er?C?.data?.results:null,[er,C]),e_=(0,_.useMemo)(()=>({type:"deprecated",data:h}),[h]);return(0,I.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:U?{...ek.BI.storyPinGradientStyle}:{}},"data-test-id":"gradient",display:"flex",flex:y?void 0:"grow",id:"gradient",justifyContent:"center",marginBottom:4*!l,width:y?void 0:"100%",children:(0,I.jsxs)(_.Fragment,{children:[eu&&O&&(0,I.jsx)(lB.Z,{appConfig:{type:"authDesktop",onClickThrough:n,onNavigateBack:i},clientTrackingParams:e,onIdeaPinCloseupCommentClick:()=>{s(!0)},onTogglePanel:m,pin:h,storyPinData:O,variant:"closeup",viewParameterType:157,viewType:3}),(0,I.jsx)(lO.Z,{isStoryPin:U,isWideVideo:ei,children:(0,I.jsx)(eT.Z,{name:"CloseupBody",children:(0,I.jsxs)(v.xu,{ref:r,color:"default",direction:"column",display:"flex",height:"100%",width:"100%",children:[(0,I.jsxs)(v.xu,{alignItems:ei?"center":void 0,direction:ei?"column":void 0,display:ei?"flex":void 0,children:[ep&&(0,I.jsx)(lH,{creatorUsername:$,permissions:el,pinId:M,sponsorshipStatus:G}),em&&(0,I.jsx)(lW,{borderStyle:L,closeupWidth:g,isStoryPin:U,isWideVideo:ei,pinKey:e_,showPinStats:et,trendsData:ey,viewportSize:A})]}),(0,I.jsx)(v.xu,{"data-test-id":"closeup-body",flex:"grow",children:(0,I.jsx)(lm.Z,{id:"CloseupBody",children:(0,I.jsx)(lE,{clientTrackingParams:e,data:k.data,didShortClickThrough:a,goBack:i,handleCarouselSwipe:t,isCloseupMaximized:d,isCommentSectionOpen:u,isDeletedStoryPin:!!V,isStoryPin:U,isVideoPin:f.isVideoPin,isWideVideo:ei,onClickThrough:n,onCloseupBodyUpdate:j,onCommentSectionClick:s,onSaveButtonClick:o,onUpdate:Y,outerBodyStyle:L,outerPaddingSize:eE.ER,pin:h,relatedPinsContainerRef:S,routePush:b,shopping:P,shouldShowPartnerModule:ec,shouldShowStlCarouselForOwnPin:ed,showPinStats:et,showRepinOnInitialRender:!p&&w,showTrendsOnPinCloseup:er,storyPinTaggedProducts:F,trafficSource:T,trendsData:C,viewParameterType:eu?157:void 0,viewportSize:A,viewType:3})})})]})})})]})})});function l$(e){return(0,I.jsx)(lG,{...e})}var lX=a(501392);let lY=e=>"enabled_onclick_compare_copy"===e||"enabled_onclick_explore_copy"===e,lq=e=>"enabled_onhover_compare_copy"===e||"enabled_onhover_explore_copy"===e||"employees"===e;function lQ({url:e,images:l,id:a,label:n,onPinClick:i,position:t=0}){let[r,s]=(0,_.useState)(!1),{logContextEvent:o}=(0,ew.u)();return(0,I.jsx)(v.xu,{"aria-selected":r?"true":"false","data-test-id":"recent-pin",id:a,role:"option",children:(0,I.jsx)(v.Tg,{href:e,onMouseEnter:()=>{s(!0),o({event_type:105,component:15421,element:18070,aux_data:{position:t.toString()}})},onMouseLeave:()=>{s(!1)},onTap:()=>{o({event_type:101,component:15421,element:18070,aux_data:{position:t.toString()}}),i&&i()},rounding:3,tabIndex:-1,tapStyle:"compress",children:(0,I.jsx)(v.zd,{height:137,rounding:3,wash:r,width:103,children:l["236x"]?.url&&(0,I.jsx)(v.Ee,{alt:n,fit:"cover",naturalHeight:l["236x"]?.height??1,naturalWidth:l["236x"]?.width??1,src:l["236x"].url})})})})}let lJ={backdropFilter:"blur(4px)",backgroundColor:"rgba(255, 255, 255, 0.90)"},l0={...lJ,transitionDuration:"0.3s",transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)",transitionProperty:"transform, opacity",transformOrigin:"bottom left"},l1={...lJ};function l2({toggle:e,recentPins:l,experimentGroup:a,onPinClick:n,l2Interest:i,isAnimatingOut:t,splitByVertical:r,handleMouseLeave:s}){var o;let d=(0,D.ZP)(),u=(0,_.useRef)(null),c=(0,v.JZ)(),[p,g]=(0,_.useState)(!1),{logContextEvent:m}=(0,ew.u)();(0,e2.Z)(()=>{g(!0)});let y=(0,_.useMemo)(()=>{let e=c?l1:l0;if(c){let l=0;return t?l=0:p&&(l=1),{...e,opacity:l,transform:"scale(1)"}}let l=0,a=.9;return t?(l=0,a=.9):p&&(l=1,a=1),{...e,opacity:l,transform:`scale(${a})`}},[c,p,t]);o=()=>{lY(a)&&e()},(0,_.useEffect)(()=>{let e=e=>{!u.current||u.current.contains(e.target)||o(e)},l=e=>{"Escape"===e.key&&o(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),document.addEventListener("keydown",l),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",l)}},[u,o]);let h=(0,_.useMemo)(()=>"enabled_onclick_explore_copy"===a||"enabled_onhover_explore_copy"===a?d._('Previously explored', 'breadcrumbs.expanded.previouslyExplored', 'Title shown when users can view previously explored pins in the breadcrumbs'):d._('Compare ideas', 'breadcrumbs.expanded.compareIdeas', 'Title shown when users can view recently viewed pins in the breadcrumbs'),[a,d]),f="enabled_onclick_compare_copy"===a||"enabled_onhover_compare_copy"===a||"employees"===a,k=lY(a);return(0,I.jsxs)(v.xu,{ref:u,alignItems:"start",borderStyle:"shadow",dangerouslySetInlineStyle:{__style:y},"data-test-id":"breadcrumbs-expanded",direction:"column",display:"flex",justifyContent:"center",onMouseLeave:s,padding:4,rounding:5,children:[(0,I.jsxs)(v.kC,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,I.jsx)(v.xv,{weight:"bold",children:h}),k&&(0,I.jsx)(v.hU,{accessibilityLabel:d._('Close breadcrumbs', 'breadcrumbs.expanded.closeBreadcrumbs', 'Label for the button that closes the expanded breadcrumbs view'),icon:"minimize",iconColor:"darkGray",onClick:()=>{m({event_type:101,component:15421,element:18071}),e()},size:"sm"})]}),f&&(0,I.jsx)(v.xv,{color:"subtle",size:"100",children:r&&i?(0,Z.nk)(d._('Recently viewed {{ interestName }} ideas', 'breadcrumbs.expanded.recentlyViewedInterestIdeas', 'Subtitle shown above the list of recently viewed ideas for a specific interest in the breadcrumbs, interestName: the name of the interest category'),{interestName:i.toLowerCase()}).join(""):d._('Recently viewed Pins', 'breadcrumbs.expanded.recentlyViewedPins', 'Subtitle shown above the list of recently viewed pins in the breadcrumbs')}),(0,I.jsx)(v.xu,{marginTop:2,children:(0,I.jsx)(v.kC,{gap:2,children:l.map((e,l)=>(0,I.jsx)(lQ,{...e,onPinClick:n,position:l},e.id))})})]})}var l3=a(573631);let l6={backdropFilter:"blur(4px)",backgroundColor:"rgba(255, 255, 255, 0.90)",animationDelay:"100ms",transitionDelay:"100ms",transitionDuration:".85s",transitionTimingFunction:"cubic-bezier(.19, 1.32, .48, 1)",transitionProperty:"transform, opacity",filter:"drop-shadow( 0px 0px 8px rgba(0,0,0,0.1))",shrink:0},l4={backdropFilter:"blur(4px)",backgroundColor:"rgba(255, 255, 255, 0.90)",transitionProperty:"opacity",transitionDuration:".85s",transitionTimingFunction:"ease-out",filter:"drop-shadow( 0px 0px 8px rgba(0,0,0,0.1))"},l7={...l6,transform:"translateY(200px)",opacity:0},l5={...l6,transform:"translateY(0)",opacity:1},l8={...l4,transform:"translateY(200px)",opacity:0},l9={...l4,transform:"translateY(0)",opacity:1},ae={...l6,transform:"translateY(0)",opacity:1},al={...l4,transform:"translateY(0)",opacity:1},aa={border:"1px solid white",transform:"rotate(-3deg)",borderRadius:"9px",transition:"transform 0.2s ease-out",marginBottom:"1px"},an={border:"1px solid white",transform:"rotate(-3deg)",borderRadius:"9px"};function ai({toggle:e,recentPins:l,shouldShow:a,experimentGroup:n,showFirstTimeUI:i,isHovered:t=!1,isAnimatingOut:r,handleMouseEnter:s,handleMouseLeave:o}){let d=(0,_.useMemo)(()=>l.slice(0,3),[l]),[u,c]=(0,_.useState)(!1),p=(0,v.JZ)(),g=(0,l3.b)(),m=(0,D.ZP)(),{logContextEvent:y}=(0,ew.u)();(0,_.useEffect)(()=>{c(!0)},[]);let h=(0,_.useMemo)(()=>71,[]),f=(0,_.useMemo)(()=>r?{...p?al:ae,opacity:1}:g?p?{...a?l9:l8,opacity:u&&a?1:0}:{...a?l5:l7,opacity:u&&a?1:0}:{...p?al:ae,opacity:+!!u},[a,p,g,u,r]),k=(0,_.useCallback)(()=>{lY(n)&&(y({event_type:101,component:15421,element:18069}),e())},[e,n,y]),x=(0,_.useCallback)(e=>{let l=`${-(14*e)}px`;if(p)return{...an,transform:`rotate(-3deg) translateX(${l})`};if(!(i||t&&!lq(n)))return{...aa,transform:`rotate(-3deg) translateX(${l})`};switch(e){case 0:return{...aa,transform:`rotate(-5deg) translateX(${-(14*e)-2}px) translateY(0px)`};case 1:return{...aa,transform:`rotate(-3deg) translateX(${-(14*e)}px) translateY(-2px)`};case 2:return{...aa,transform:`rotate(1deg) translateX(${-(14*e)+2}px) translateY(1px)`};default:return{...aa,translate:l}}},[t,p,n,i]);return(0,I.jsx)(v.iP,{accessibilityLabel:m._('Recently viewed Pins', 'breadcrumbs.minified.recentlyViewedPins', 'Accessibility label for the breadcrumbs minified component'),onMouseEnter:s,onMouseLeave:lY(n)?o:void 0,onTap:k,rounding:5,children:(0,I.jsx)(v.xu,{borderStyle:"shadow",dangerouslySetInlineStyle:{__style:f},"data-test-id":"breadcrumbs-minified",direction:"column",display:"flex",justifyContent:"center",paddingX:3,paddingY:2,role:"button",rounding:5,children:(0,I.jsxs)(v.kC,{alignItems:"center",direction:"row",gap:2,children:[(0,I.jsx)(v.kC,{gap:0,justifyContent:"between",width:h,children:d.map(({images:e,id:l,label:a},n)=>{let i=e["236x"],t=i?.url;return(0,I.jsx)(v.xu,{borderStyle:"raisedBottomShadow",dangerouslySetInlineStyle:{__style:x(n)},height:44,width:33,zIndex:new v.Ry(3-n),children:(0,I.jsx)(v.zd,{height:42,rounding:2,width:31,children:t?(0,I.jsx)(v.Ee,{alt:a||`Pin ${n+1}`,fit:"cover",naturalHeight:i.height??1,naturalWidth:i.width??1,src:i.url}):(0,I.jsx)(v.xu,{height:"100%",width:"100%"})})},l)})}),i&&(0,I.jsx)(v.xv,{overflow:"noWrap",size:"300",weight:"bold",children:m._('Compare ideas', 'breadcrumbs.expanded.compareIdeas', 'Title shown when users can view recently viewed pins in the breadcrumbs')})]})})})}var at=a(111330),ar=a(366291),as=a(753143),ao=a(77836);function ad({l2Interest:e,pinId:l}){let a,[n,i]=(0,_.useState)(!1),[t,r]=(0,_.useState)(!1),[s,o]=(0,_.useState)(!1),[d,u]=(0,_.useState)(!1),[c,p]=(0,_.useState)(!1),{checkExperiment:g}=(0,eg.ru)(),m=(0,_.useRef)(null),{logContextEvent:y}=(0,ew.u)(),h=g("closeup_dweb_breadcrumbs"),f=g("closeup_dweb_breadcrumbs_by_vertical"),{experience:k}=(0,li.Ow)(12),x=!1;h.anyEnabled?a=h.group:f.anyEnabled&&(a=f.group,x=!0),(0,e2.Z)(()=>{let e=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(e)}),(0,e2.Z)(()=>{y({event_type:120,component:15421}),k?.experience_id===507740&&u(!0)}),(0,_.useEffect)(()=>{if(lY(a))try{let e=(0,as.M0)().getItem(at.GT);"true"===e&&(i(!0),(0,as.M0)().removeItem(at.GT))}catch{(0,lb.nP)("web.closeup.breadcrumbs.localStorage_errors",{tags:{operation:"getItem"}})}},[a]);let{data:S,refresh:b,isFetching:P,isLoaded:w}=(0,ar.Z)({url:"/v3/users/me/recent/engaged/pin/stories/",params:{pin_preview_count:6,l2_interest:x&&e?e:void 0,fields:"pin.description,pin.id,pin.images[236x]"},enabledRouteRefresh:!0,noCache:!0});(0,_.useEffect)(()=>{b()},[l,b]);let F=(0,_.useMemo)(()=>{if(!S||!Array.isArray(S))return[];let e=S?.find(e=>"user_recently_viewed_pins"===e.story_type)?.objects?.map(({id:e,images:l,description:a})=>({images:l,id:e,label:a,url:`/pin/${e}`}))||[],a=S?.find(e=>"user_recently_saved_pins"===e.story_type)?.objects?.map(({id:e,images:l,description:a})=>({images:l,id:e,label:a,url:`/pin/${e}`}))?.filter(l=>!e.some(e=>e.id===l.id))||[],n=[...e,...a].filter(e=>e.id!==l).slice(0,5);return(0,lb.nP)(`web.closeup.breadcrumbs.displayed_pins.${n.length}`),n},[S,l]),T=(0,_.useCallback)(()=>{lY(a)&&(u(!1),n?(o(!0),p(!1),setTimeout(()=>{i(!1),o(!1)},300)):i(!0))},[n,a]),C=(0,_.useCallback)(()=>{p(!0),lq(a)&&(d&&(m?.current?.click(),u(!1)),y({event_type:105,element:18069,component:15421}),i(!0))},[a,d,y]),j=(0,_.useCallback)(()=>{p(!1),lq(a)&&(o(!0),setTimeout(()=>{i(!1),o(!1)},300))},[a]),K=(0,_.useCallback)(()=>{if(lY(a)&&(n||s))try{(0,as.M0)().setItem(at.GT,"true")}catch{(0,lb.nP)("web.closeup.breadcrumbs.localStorage_errors",{tags:{operation:"setItem"}})}},[a,n,s]),A=(0,_.useMemo)(()=>({toggle:T,recentPins:F,shouldShow:t,experimentGroup:a,l2Interest:e,onPinClick:K,isAnimatingOut:s,isHovered:c,splitByVertical:x,showFirstTimeUI:d,handleMouseEnter:C,handleMouseLeave:j}),[T,F,t,a,e,K,s,c,x,d,C,j]);return!a||x&&!e||F.length<3||P||!w?null:(0,I.jsx)(eT.Z,{name:"BreadCrumbs",children:(0,I.jsxs)(ej.Z,{children:[(0,I.jsxs)(v.xu,{position:"relative",children:[(0,I.jsx)(v.xu,{ref:m,bottom:!0,left:!0,position:"absolute",children:(0,I.jsx)(ai,{...A})}),(n||s)&&(0,I.jsx)(v.xu,{bottom:!0,left:!0,position:"absolute",zIndex:new v.Ry(1),children:(0,I.jsx)(l2,{...A})})]}),(0,I.jsx)(v.mh,{zIndex:ao.pS,children:(0,I.jsx)(li.N,{anchors:{3022:m.current},idealDirection:"up",onAnchorTouch:"complete",placementId:12,scrollToDismiss:!0})})]})})}var au=a(93966),ac=a(67831),ap=a(159527),ag=a(368974),am=a(230543),ay=a(74459);function a_({pin:e,pinResource:l,topLevelTrafficSource:a,firstLoadComplete:n,relatedModulesContent:i,onWrapperClick:t,beforeBodyContent:r,afterBodyContent:s,isVideoPin:o,bodyContent:d,backButton:u}){let c=(0,ac.A)(),{closeupWithinMasonryEnabled:p,peekCloseupEnabled:g,viewportSize:m}=(0,W.x4)(),{mainImage:y}=(0,L.G)(),{sideBySideRedesignFastFollowsEnabled:h}=(0,eS.Z)(),f=(0,am.t)(),k=(0,ay.Z)(),{isAuth:x}=(0,lt.Z)(),{checkExperiment:S}=(0,eg.ru)(),[b,w]=(0,_.useState)(!1),F=S("closeup_dweb_breadcrumbs").anyEnabled||S("closeup_dweb_breadcrumbs_by_vertical").anyEnabled&&e.l2_dominant_interest,T=(0,P.Z)({showProductDetailPage:!!e.is_eligible_for_pdp});(0,_.useEffect)(()=>{let e;return F&&(e=setTimeout(()=>{w(!0)},1e3)),()=>clearTimeout(e)},[F]),(0,e2.Z)(()=>{e.l2_dominant_interest?(0,lb.nP)("web.closeup.breadcrumbs.has_vertical.yes"):(0,lb.nP)("web.closeup.breadcrumbs.has_vertical.no")});let{error:C}=l,{story_pin_data_id:j}=e||{},[K,A]=(0,_.useState)(p||!o);(0,_.useEffect)(()=>{let e=K?void 0:setTimeout(()=>A(!0),1e3*!p);return()=>clearTimeout(e)},[p,K]);let{isEligibleForStaticImageIdeaPin:R}=(0,eX.Z)(e.story_pin_data_id),E=(0,_.useRef)(null),D=(0,_.useRef)(null),[Z,M]=(0,_.useState)(void 0),N=au.yF+au.oX,z=Math.floor((Z??1)/N),B=N*z-au.oX,O=(0,_.useCallback)(()=>{E.current&&D.current&&M(window.innerWidth)},[]);(0,lv.Z)(()=>{window&&(0,lb.nP)("web.closeup.closeup_redesign.handleResize",{sampleRate:.1,tags:{sideBySideEnabled:h,isStoryPin:!!j,isVideoPin:o,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}),g&&O()},E),(0,e2.Z)(()=>{window&&(0,lb.nP)("web.closeup.closeup_redesign.initialRender",{sampleRate:.1,tags:{sideBySideEnabled:h,isStoryPin:!!j,isVideoPin:o,windowHeight:window.innerHeight,windowWidth:window.innerWidth}})}),(0,_.useEffect)(()=>{g&&O()},[O,g]);let[U,V]=(0,_.useState)(!1);(0,_.useEffect)(()=>{let e=(0,ap.Z)(function(){y&&window&&(window.scrollY>y.height?V(!0):V(!1))},150);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[y]);let{maxWidth:H}=(0,ek.Re)();if(0===Object.keys(e).length&&C)return(0,I.jsx)(ag.Z,{});let G=!!j&&!R,$=K&&i,X=(0,ep.Z)({hasPin:!!e,hasPinRichMetadata:!!e?.rich_metadata,hasPinRichMetadataProducts:!!e?.rich_metadata?.products,hasPinRichMetadataArticle:!!e?.rich_metadata?.article,hasPinRichMetadataRecipe:!!e?.rich_metadata?.recipe,hasPinStoryPinData:!!e?.story_pin_data}),Y=(0,I.jsx)("div",{ref:D,className:"Closeup Module","data-test-id":n?"closeup-data-loaded":"",onClick:e=>{!x&&(G||t(e),c&&c?.abort("closefakemodal"))},role:"presentation",style:{cursor:x?void 0:"zoom-out",display:"flex",width:"100%",maxWidth:H,margin:g?"0 auto":void 0},children:(0,I.jsxs)(v.kC,{alignItems:"stretch",direction:"row",flex:"grow",justifyContent:"center",children:[g?(0,I.jsxs)(v.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:"column"}},display:"flex",marginTop:5,children:[u,r]}):(0,I.jsx)(_.Fragment,{children:r}),d,s]})},"closeup-content");return(0,I.jsxs)(v.xu,{ref:E,width:"100%",children:[(0,I.jsxs)(v.kC,{direction:p?"row":"column",justifyContent:"center",children:[!p&&Y,p&&!T&&(u||r)&&(0,I.jsx)(v.xu,{alignItems:"center","data-test-id":n?"closeup-data-loaded":"",direction:"column",display:"flex",marginStart:4,children:(0,I.jsxs)(v.Le,{top:f+2,children:[u,(0,I.jsx)(v.xu,{"aria-hidden":U,dangerouslySetInlineStyle:{__style:{transition:"opacity 300ms ease-in-out"}},opacity:+!U,children:r})]})}),(0,I.jsx)(v.kC.Item,{flex:"grow",children:(0,I.jsxs)(v.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{paddingRight:p&&!T?"80px":void 0}},direction:"column",display:"flex",justifyContent:"center",paddingX:4*!p,width:"100%",children:[g&&B&&"lg"!==m&&(0,I.jsx)(v.kC.Item,{alignSelf:"center",children:(0,I.jsx)(e0.Z,{moduleWidth:B,pinKey:{type:"deprecated",data:e},trafficSource:a,viewParameter:X})}),T&&(0,I.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:`${k+24}px`,marginTop:`${f+8}px`}},left:!0,position:"fixed",top:!0,zIndex:new v.Ry(1),children:u}),$]})})]}),b&&(0,I.jsx)(v.Le,{bottom:0,children:(0,I.jsx)(v.xu,{bottom:!0,left:!0,padding:4,position:"absolute",children:(0,I.jsx)(ad,{l2Interest:e.l2_dominant_interest?.label,pinId:e.id})})})]})}var ah=a(762802),af=a(704088),ak=a(123998);let ax=(0,eM.Z)(()=>Promise.resolve().then(a.bind(a,437320)),{ssr:!1},e=>437320,"ExperienceHeroCommon"),aS=function({abortNoActionPlacementTimeout:e,classProps:l,classState:a,commerceData:n,showCloseupContentRight:i,showProductDetailPage:t,paneWidth:r,maxWidth:s,descriptionPaneWidth:o,handleCarouselSwipe:d,handleFocus:u,setIsCommentAttachmentSelectorOpen:c,setIsCommentComposerFocused:p,setIsCommentPopoverInteractionActive:g,setIsCommentThreadExpanded:m,setIsCloseupMediaViewerOpen:y,setIsMediaViewerOpen:h,setIsProductDetailsExpanded:f,setIsShoppingModuleExpanded:k,handleBackButtonClick:x,closeupContent:S,isCommentAttachmentSelectorOpen:v,isCommentComposerFocused:b,isCommentPopoverInteractionActive:P,isCommentThreadExpanded:w,isCloseupMediaViewerOpen:F,isMediaViewerOpen:T,isProductDetailsExpanded:C,isShoppingModuleExpanded:j,closeupWithinMasonryEnabled:K,peekCloseupEnabled:A,setAbortNoActionPlacementTimeout:R,clientTrackingParams:E,calculatedImageHeight:D,setCalculatedImageHeight:Z}){let{pin:M,pinId:N}=l,{visualState:{carouselData:z,mainImage:O,previewImage:U},viewportSize:V}=a,H=!T&&!F&&!v&&!K,G=(0,_.useMemo)(()=>({showCloseupContentRight:i,showProductDetailPage:t,viewportSize:V,paneWidth:r,maxWidth:s,descriptionPaneWidth:o,isCommentAttachmentSelectorOpen:v,isCommentComposerFocused:b,isCommentPopoverInteractionActive:P,isCommentThreadExpanded:w,isCloseupMediaViewerOpen:F,isMediaViewerOpen:T,isProductDetailsExpanded:C,isShoppingModuleExpanded:j,setIsCommentAttachmentSelectorOpen:c,setIsCommentComposerFocused:p,setIsCommentPopoverInteractionActive:g,setIsCommentThreadExpanded:m,setIsCloseupMediaViewerOpen:y,setIsMediaViewerOpen:h,setIsProductDetailsExpanded:f,setIsShoppingModuleExpanded:k,closeupWithinMasonryEnabled:K,peekCloseupEnabled:A,setAbortNoActionPlacementTimeout:R,clientTrackingParams:E,calculatedImageHeight:D,setCalculatedImageHeight:Z}),[D,E,K,o,F,v,b,P,w,T,C,j,s,r,A,R,Z,y,c,p,g,m,h,f,k,i,t,V]),$=(0,_.useMemo)(()=>({mainImage:O,previewImage:U,carouselInfo:z&&{carouselData:z,handleCarouselSwipe:d,viewType:F?675:3,componentType:M.is_eligible_for_pdp?14186:85,viewParameter:(0,ep.Z)({hasPin:!0,hasPinRichMetadata:!!M.rich_metadata,hasPinRichMetadataProducts:!!M.rich_metadata?.products,hasPinRichMetadataArticle:!!M.rich_metadata?.article,hasPinRichMetadataRecipe:!!M.rich_metadata?.recipe,hasPinStoryPinData:!!M.story_pin_data})}}),[z,d,F,O,M.is_eligible_for_pdp,M.rich_metadata,M.story_pin_data,U]);return(0,I.jsx)(W.bq,{value:G,children:(0,I.jsxs)(L.A,{overrideValue:$,pinKey:{type:"deprecated",data:M},children:[(0,I.jsx)(li.k6,{placementId:1000141}),(0,I.jsx)(li.k6,{placementId:1000499}),(0,I.jsx)(li.H6,{placementId:1000140}),(0,I.jsx)(li.OR,{abortNoActionPlacementTimeout:e,extraContext:{pin_id:N,is_promoted:M.is_promoted},placementId:1000564}),(0,I.jsx)(li.iH,{placementId:12}),(0,I.jsx)(li.b9,{placementId:12}),(0,I.jsx)(li.nj,{placementId:12}),(0,I.jsx)(li._f,{placementId:12}),(0,I.jsx)(af.Z,{placementId:12}),(0,I.jsx)(ak.Z,{auxData:n,clientTrackingParams:E,objectId:N,view:3,viewParameter:(0,B.Z)(l)?(0,ep.Z)({hasPin:!!M,hasPinRichMetadata:!!M.rich_metadata,hasPinRichMetadataProducts:!!M.rich_metadata?.products,hasPinRichMetadataArticle:!!M.rich_metadata?.article,hasPinRichMetadataRecipe:!!M.rich_metadata?.recipe,hasPinStoryPinData:!!M.story_pin_data}):void 0,children:(0,I.jsxs)("div",{className:"reactCloseupScrollContainer","data-test-id":"closeup-layout",onFocus:u,children:[(0,I.jsx)(eT.Z,{name:"SafeSuspense_Closeup_ExperienceHero",children:(0,I.jsx)(ax,{placementId:12})}),(0,I.jsx)(li.O9,{placementId:12}),S,H&&(0,I.jsx)(ah.Z,{onClose:x}),(0,I.jsx)(li.RK,{placementId:12})]})})]})})};var av=a(127753);let ab=(0,eM.Z)(()=>Promise.resolve().then(a.bind(a,589183)),void 0,e=>589183,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),aP=(0,eM.Z)(()=>a.e("82713").then(a.bind(a,204204)),void 0,e=>204204,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModuleOneTapConfiguration"),aw=(0,eM.Z)(()=>a.e("99743").then(a.bind(a,412098)),void 0,e=>412098,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),aF=void 0!==d?d:d=a(718611),aT=(0,_.forwardRef)(({clientTrackingParams:e,pinKey:l,searchQuery:a,setRelatedPinsHeaderRef:n,slotIndex:i,story:t,trafficSource:r,viewParameter:s,viewportSize:o},d)=>{let u=(0,w.Z)(aF,l),{closeupWithinMasonryEnabled:c}=(0,W.x4)();if(!t)return null;let{story_type:p}=t;return"related_products_collage"===p?(0,I.jsx)(v.xu,{alignSelf:"center","data-test-id":"related-modules-one-tap-configuration",children:(0,I.jsx)(aP,{pinKey:u,searchQuery:a,slotIndex:i,storyKey:{type:"deprecated",data:t},trafficSource:r,viewParameter:s,viewportSize:o})}):(0,av.HM)(p)?!c&&(0,I.jsx)(v.xu,{alignSelf:"center",children:(0,I.jsx)(ab,{filter:(0,av.oV)(p),story:t,viewParameter:s})}):"related_modules_header"===p?(0,I.jsx)(v.xu,{ref:n,"data-test-id":"related-modules-header",children:(0,I.jsx)(aw,{ref:d,clientTrackingParams:e,slotIndex:i,storyId:t.id,storyType:p,title:t.title?.format,viewParameter:s})}):null});var aI=a(181993);function aC(){let e=(0,D.ZP)();return(0,I.jsxs)(v.xu,{paddingY:16,children:[(0,I.jsxs)(v.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,I.jsx)(v.xv,{align:"center",size:"500",weight:"bold",children:e._('You\'ve reached the end', 'closeup.filteredFeed.enfOfFeed.title', 'message to let users know they have reached the end of the filtered feed in closeup')}),(0,I.jsx)(v.xv,{align:"center",children:e._('Try removing a few filters to help us show more results.', 'closeup.filteredFeed.enfOfFeed.actionOne', 'message to let users know they can remove filters to see more results')})]}),(0,I.jsx)(aI.Z,{})]})}function aj(){let e=(0,D.ZP)();return(0,I.jsx)(v.xu,{paddingY:16,children:(0,I.jsxs)(v.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,I.jsx)(v.xv,{align:"center",size:"500",weight:"bold",children:e._('No results found', 'closeup.filteredFeed.noResultsFound.title', 'message to let users know there are no results found for the selected filters in closeup')}),(0,I.jsx)(v.xv,{align:"center",children:e._('Try removing a few filters to help us show more results.', 'closeup.filteredFeed.noResultsFound.actionOne', 'message to let users know they can remove filters to see more results')}),(0,I.jsx)(aI.Z,{})]})})}var aK=a(589183);let aA={cursor:"auto"},aL=e=>{e.stopPropagation()};function aR({className:e,children:l}){return(0,I.jsx)("div",{className:e,onClick:aL,role:"presentation",style:aA,children:l})}function aE(e){if(!e)return"";let[l,a]=e.split(":");return l&&a?l.includes("skin_color")?JSON.stringify({10:{tab_option_selections:[a]}}):l.includes("hair_pattern")?JSON.stringify({11:{tab_option_selections:[a]}}):"":""}var aD=a(449930),aZ=a(142689),aM=a(748065),aN=a(940280);function az({isFromBackButton:e,referringSource:l,relatedModulesRef:a}){!e&&a?.current&&l===aN.i.SHOPPING_FILTER&&setTimeout(()=>{a.current?.scrollIntoView(),window.scrollBy(0,-100)},10)}var aB=a(184857),aO=a(744862),aU=a(47426),aV=a(661037);function aH({coverImages:e,height:l,isHovered:a,onClick:n,onMouseEnter:i,onMouseLeave:t,textType:r,text:s,url:o,width:d,dataTestId:u}){let c=e&&(e["236x"]||e["280x280"]);return(0,I.jsx)(aV.Z,{backgroundColor:"gray",coverImage:c,height:l,isHovered:a,onClick:n,onMouseEnter:i,onMouseLeave:t,url:o,width:d,children:(0,I.jsx)(v.xu,{alignItems:"center","data-test-id":u,display:"flex",height:l,justifyContent:"center",padding:3,position:"absolute",top:!0,width:d||"100%",children:"text"===r?(0,I.jsx)(v.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,I.jsx)(v.X6,{align:"center",color:"light",size:"600",children:s})}):(0,I.jsx)(v.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,I.jsx)(v.xv,{align:"center",weight:"bold",children:s})})})})}let aW=[81];function aG({data:e}){let{action:l,container_type:a,objects:n,title:i}=e||{},{format:t}=i??{},{text:r,url:s,user:o={}}=l??{},{image_large_url:d,full_name:u,avatar_color_index:c}=o,{images:p}=n?.find(e=>"pin"===e.type)||{},g=null,m=(0,aU.Z)({url:s})?"nofollow":"none";return 81===a&&(g=(0,I.jsxs)(v.kC,{direction:"column",gap:{row:0,column:2},children:[(0,I.jsxs)(v.xu,{position:"relative",children:[(0,I.jsx)(aH,{coverImages:p??void 0,height:au.yF,text:t??"",textType:"text",url:s??""}),o.imageUrl&&(0,I.jsx)(v.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,I.jsx)(aO.qE,{color:c||void 0,name:u||"",outline:!0,size:"md",src:d??""})})]}),(0,I.jsx)(v.ZP,{fullWidth:!0,href:s??"",rel:m,size:"lg",text:r??""})]})),g}var a$=a(624076),aX=a(673616),aY=a(469167),aq=a(115247),aQ=a(806438),aJ=a(355363),a0=a(849233),a1=a(517250),a2=a(955421),a3=a(378888),a6=a(725191),a4=a(845421);let a7=(0,eM.Z)(()=>a.e("75139").then(a.bind(a,793760)),void 0,e=>793760,"app-packages-StructuredFeed-ModuleReps-utils-StructuredFeedStoryModule");function a5(e){return e.columnSpan??e.display_options?.content_display?.grid_layout?.cols??1}let a8=void 0!==u?u:u=a(327060),a9=({closeupBody:e,surface:l="RelatedPinGrid",clientTrackingParams:a,isFilteredFeed:n,lfvExperiences:i,relatedPinsResource:t,setHasRelatedPins:r,i18n:s,closeupWithinMasonryEnabled:o,logContextEvent:d,relatedPinsInRow:u,pin:c,relatedPinsContainerRef:p,topLevelTrafficSource:g,viewParameter:m,relatedModulesStopwatch:y})=>{let h,[k,x]=(0,_.useState)(t.auxData?.grid_layout?.w_h_ratio),[S,b]=(0,_.useState)(!0),P=(0,_.useRef)(null),w=(0,_.useRef)(null),F=(0,aM.Z)(),T=(0,_.useMemo)(()=>(t.data||[]).filter(e=>["SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"].includes(e?.story_type)).find(e=>(0,av.HM)(e?.story_type??"")),[t]),{closeupMasonryModules:C,hasShoppingModule:j,inclusiveFilters:K}=(0,aD.ZP)({pinId:c.entityId,inclusiveModuleToCache:T,showProductDetailPage:!1}),A=K?(0,av.oV)(K.story_type??""):"",{inInclusiveEfficientRefinements:L}=(0,aZ.Z)(A),{search:R}=(0,f.TH)(),E=aE(new URLSearchParams(R).get("f")??""),D=o&&L&&E,Z=(0,eo.Z)(D?{name:"ApiResource",options:{url:`/v3/pins/${c.entityId}/related/pins/filter/`,data:{fields:aB.Z,related_pins_tabs_selections:E}}}:null),M=D?Z:t,{isAtEnd:N,fetchMore:z,data:B,isFetching:O,nextBookmark:U}=M;(0,e2.Z)(()=>{d({event_type:13,view_parameter:m,view_type:3,component:86,clientTrackingParams:a})}),(0,_.useEffect)(()=>{!k&&M.auxData?.grid_layout?.w_h_ratio&&(x(M.auxData.grid_layout.w_h_ratio),P.current=window)},[o,k,M]);let V=`relatedPins:${c.entityId}`,H=(0,_.useMemo)(()=>["related_products_button_footer","related_domain_carousel","related_products_feed_header"],[]),W=(B&&B?.findIndex(e=>"pin"===e.type))??0,G=(B||[]).slice(W).filter(e=>!H.includes(e?.story_type)),$=(0,_.useMemo)(()=>[...o?C:[],...G||[]],[o,C,G]),X=(0,_.useMemo)(()=>(B||[]).slice(W).filter(e=>!H.includes(e?.story_type)),[B,W,H]),Y=(0,_.useMemo)(()=>{let e=[];return o&&e.push(...C),e.push(...X),e},[C,o,X]),q=F?Y:$,Q=L&&j&&!!K,J=(0,_.useMemo)(()=>({pin_id:c.entityId}),[c.entityId]),ee=({data:a,itemIdx:n})=>{let t,r=(0,ep.Z)({hasPin:!!c,hasPinRichMetadata:!!c.richMetadata,hasPinRichMetadataProducts:!!c.richMetadata?.products,hasPinRichMetadataArticle:!!c.richMetadata?.article,hasPinRichMetadataRecipe:!!c.richMetadata?.recipe,hasPinStoryPinData:!!c.storyPinData});if(Q&&("shopping_module"===a.type||"inclusive_filters_module"===a.type))"shopping_module"===a.type&&(t=(0,I.jsxs)(v.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,I.jsx)(e0.Z,{moduleWidth:"100%",pinKey:c,trafficSource:g,viewParameter:r}),K?.story_type&&(0,I.jsx)(v.xu,{marginTop:2,children:(0,I.jsx)(aK.default,{filter:A,story:K,viewParameter:r})})]}));else switch(a.type){case"closeup_module":t=e;break;case"shopping_module":t=(0,I.jsx)(e0.Z,{moduleWidth:"100%",pinKey:c,trafficSource:g,viewParameter:r});break;case"inclusive_filters_module":t=(0,I.jsx)(aK.default,{filter:A,story:K,viewParameter:r});break;case"story":switch((0,lb.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:a.story_type||"unknown",surface:"closeup"}}),a.story_type){case"BUBBLE_ONE_COL":t=(0,I.jsx)(a6.default,{bubbles:a.objects,id:a.id,referringSource:a.referring_source,slotIndex:n,storyType:a.story_type,title:a.title,viewParameter:r,viewType:3});break;case"related_query_shop_upsell_closeup":t=(0,I.jsx)(a$.default,{itemIdx:n,story:a,viewParameter:r,viewType:3});break;default:t=null}a.container_type&&(aW.includes(a.container_type)?t=(0,I.jsx)(aG,{data:a}):(0,a2.Z)(a.container_type)&&(t=(0,I.jsx)(a7,{initialSlotIndex:n,story:a,storyKey:{type:"deprecated",data:a},styleOverrides:{showModuleBorder:a5(a)>1},view:3,viewParameter:r})));break;default:let s=(0,aQ.Z)(i);t=(0,I.jsx)(a4.ZP,{componentType:13007,duploQueryRef:null,imageOnlyOption:s?"image-only":"default",pinId:a.id,pinImageCrop:k?{height:a1.zX*k,width:a1.zX}:null,slotIndex:n,surface:l,trackingParams:a?.tracking_params,viewData:F?J:{pin_id:c.entityId},viewParameter:r,viewType:3})}return(0,I.jsx)(aR,{children:t})},el=M.data?M.data.length:0;(0,_.useEffect)(()=>{r(0!==el)},[el,r]);let ea=(0,_.useRef)(!0),en=(0,_.useRef)(0),ei=()=>{en.current=performance.now()};(0,_.useEffect)(()=>{ea.current&&(S||(y?.abort(),ea.current=!1),0!==el&&(N&&(y?.stop(),ea.current=!1),en.current>0&&(y?.stop(en.current),ea.current=!1)))},[S,N,y,y?.isTiming,el]);let et=(n||!!D)&&U===a0.qx,er=(0,aX.Z)({isHiddenPin:c?.isHidden,isUnsafePin:c?.isUnsafe}),es=!!(o&&(1===q.length||j&&2===q.length)),ed=(0,_.useMemo)(()=>o?(0,aD.fz)(L):void 0,[o,L]);return F?h=ed:o&&(h=(0,aD.fz)(!!L)),(0,I.jsx)(aq.Z,{onVisibilityChange:e=>{b(e.some(e=>e.isIntersecting))},options:{threshold:[0]},children:e=>(0,I.jsx)(v.xu,{ref:e,children:(0,I.jsx)(v.xu,{ref:p,children:(0,I.jsx)(ak.Z,{clientTrackingParams:a,component:86,viewParameter:(0,ep.Z)({hasPin:!!c,hasPinRichMetadata:!!c.richMetadata,hasPinRichMetadataProducts:!!c.richMetadata?.products,hasPinRichMetadataArticle:!!c.richMetadata?.article,hasPinRichMetadataRecipe:!!c.richMetadata?.recipe,hasPinStoryPinData:!!c.storyPinData}),children:(0,I.jsxs)(_.Fragment,{children:[(0,I.jsx)(aJ.Z,{isAtEndOfFeed:N,isPlaceholderGrid:O&&(!q.length||es),itemCount:q.length,stopwatchContext:y,stopwatchSetVisuallyCompleteResult:ei,children:(0,I.jsx)(aY.default,{_getResponsiveModuleConfigForSecondItem:h,align:o?"center":void 0,cacheKey:V,getColumnSpanConfig:o?a5:void 0,isFetching:O,isGridCentered:u,isLoadedAccessibilityLabel:q.length>0?s._('Loaded more related product results', 'closeup.relatedProducts.results', 'Accessibility label for loaded more related product results'):s._('Loaded related products result', 'closeup.relatedProducts.results', 'Accessibility label for loaded related products result'),isLoadingAccessibilityLabel:q.length>0?s._('Loading more related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading more related products results'):s._('Loading related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading related products results'),isLoadingStateEnabled:er,items:q,layout:"basic",loadItems:z,masonryRef:w,minCols:o?2:void 0,renderItem:ee,scrollContainerRef:P,serverRender:!0,virtualize:aD.o1})}),et&&el>0&&(0,I.jsx)(aC,{}),et&&0===el&&(0,I.jsx)(aj,{})]})})})})})};function ne({pinKey:e,relatedModulesRef:l,...a}){let n=(0,D.ZP)(),i=(0,ln.Z)(),{clientTrackingParams:t,closeupWithinMasonryEnabled:r}=(0,W.x4)(),s=(0,f.TH)(),o=(0,f.k6)(),d=(0,w.Z)(a8,e),u=(0,a3.mB)(s.search).rs,c=o?.action==="POP";return(0,_.useEffect)(()=>{az({isFromBackButton:c,referringSource:u,relatedModulesRef:l})},[c,s,u,l]),(0,I.jsx)(a9,{...a,clientTrackingParams:t,closeupWithinMasonryEnabled:r,i18n:n,logContextEvent:i,pin:d,relatedPinsInRow:r})}var nl=a(231760),na=a(458963),nn=a(756334);let ni=new Set([...ek.aW,"related_domain_carousel","related_products_collage","SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"]),nt=void 0!==c?c:c=a(824065);function nr({clientTrackingParams:e,closeupBody:l,isVideoPin:a,isYoutubePin:n,pinKey:i,relatedResourceOptions:t,searchQuery:r,relatedPinsContainerRef:s,setRelatedPinsHeaderRef:o,topLevelTrafficSource:d,trafficSource:u,viewParameter:c,viewportSize:p,relatedModulesStopwatch:g}){let{closeupWithinMasonryEnabled:m}=(0,W.x4)(),[y,h]=(0,_.useState)(!a),{checkExperiment:k}=(0,eg.ru)(),{search:x}=(0,f.TH)(),S=new URLSearchParams(x).get("utm_source"),b=(0,eo.Z)(y&&"ads_manager"!==S?t:null),P=(0,na.Z)(),F=(0,_.useRef)(null),T=(0,_.useCallback)(e=>{e&&(F.current=e)},[]),[C,j]=(0,_.useState)(!0);(0,_.useEffect)(()=>{let e=y?void 0:setTimeout(()=>h(!0),m&&(a||n&&"enabled_delay"===k("web_closeup_youtube_player").group)?1e3:0);return()=>clearTimeout(e)},[m,a,y,k,n]);let K=(0,w.Z)(nt,i);return(0,I.jsx)(nn.Z,{metricName:"RelatedModulesFeed",children:(0,I.jsxs)(v.xu,{ref:T,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[C&&(b.data||[]).filter(e=>ni.has(e.story_type)).map((l,a)=>(0,I.jsx)(v.xu,{"data-test-id":`related-module-${l.id}`,direction:"column",display:"flex",children:(0,I.jsx)(aT,{ref:F,clientTrackingParams:e,pinKey:K,searchQuery:r,setRelatedPinsHeaderRef:o,slotIndex:a,story:l,trafficSource:u,viewParameter:c,viewportSize:p})},`related-module-${l.id}`)),(0,I.jsx)(ne,{closeupBody:l,lfvExperiences:P,pinKey:K,relatedModulesRef:F,relatedModulesStopwatch:g,relatedPinsContainerRef:s,relatedPinsResource:b,setHasRelatedPins:j,topLevelTrafficSource:d,viewParameter:c})]})})}function ns(e){let l=(0,l3.b)(),a=(0,nl.B6)(l?"related_feed_pageload":"related_feed");return(0,e2.Z)(()=>{a?.start()}),(0,I.jsx)(nr,{...e,relatedModulesStopwatch:a})}let no=["236x","474x","564x","736x"];function nd({carouselData:e,images:l,product:a,shouldUnifyImageSizes:n}){return e?.carousel_slots?.length?e:a?.additional_images?.length?function(e,l,a,n,i){let t=[...e?[{images:e}]:[],...(l??[]).map(({canonical_images:e,image_signature:l})=>({images:e||void 0,image_signature:l||void 0}))];return{carousel_slots:n?function(e){function l(e,{imageKey:l,height:a,width:n}){return e.images&&e.images[l]&&(e={...e,images:{...e.images,[l]:{...e.images[l],height:a,width:n}}}),e}let a=no.map(function(l){let a=Math.min(...e.map(e=>e.images&&e.images[l]&&e.images[l].height||1/0)),n=Math.min(...e.map(e=>e.images&&e.images[l]&&e.images[l].width||1/0));return{imageKey:l,height:a,width:n}});return e.map(e=>a.reduce(l,e))}(t):t,index:a||0,id:i}}(l,a.additional_images,e?.index,n,a.id):e||void 0}var nu=a(607652);let nc=e=>{let{url:l,width:a,height:n}=e||{};return l&&a&&n?{url:l,width:a,height:n}:void 0};function np(e){let{pin:l,pinId:a,pinResource:n}=e,i=(0,_.useMemo)(()=>l,[l]),t=(0,_.useMemo)(()=>({pinKey:{type:"deprecated",data:i}}),[i]),{mainPinImage:r}=(0,nu.Z)(t);return(0,_.useMemo)(()=>(e=>{let l={...e.pin,...e.pinResource.data},a=nd({carouselData:l.carousel_data,images:l.images,product:(l.rich_metadata||l.rich_summary)?.products?.[0]});return{availableWidthForContentOnRight:!1,backButtonLabelFitInScreen:null,closeupBodyContainerHeight:0,closeupContainerHeight:0,firstLoadComplete:!1,didLongClickThrough:!1,didPinClickThrough:!1,didShortClickThrough:!1,didMountAfterSavePlacement:!1,isCloseupMaximized:!1,isCommentSectionOpen:!0,isOverRelatedPins:null,isRelatedInterestsBannerDismissed:!1,intervalId:null,landOnCurrentPage:!1,loginModalOptions:null,modalOpen:!1,myTry:e.pin?{isDoneByMe:!!e.pin.done_by_me}:null,newshubCloseupCapBackButtonCount:0,passScrollThreshold:!1,pin:l,pinId:e.pinId,campaignCreationTriggered:!1,relatedPinsUpsellShown:!1,showBackButton:!0,showProductDetailPage:!!l.is_eligible_for_pdp,shopping:{catalogId:-1,variantId:void 0},viewportSize:"lg",visualState:{carouselData:a&&{...a,index:e.pin.carousel_data?.index||0},mainImage:e.mainImage,previewImage:nc(l.images?.["236x"])},v1DeprecationModalDismissed:!1}})({pin:i,pinId:a,pinResource:n,mainImage:r}),[r,i,a,n])}let ng=(0,li.RL)(12,(e,l)=>({pin_id:e.pinId,email_id:e.emailId,did_long_clickthrough:l.didLongClickThrough||!1,did_pin_clickthrough:l.didPinClickThrough||!1,did_repin:l.didRepin||!1,is_own_or_group_pin:l.is_own_or_group_pin||!1,login_page_type:l.loginPageType||"unknown",scroll_to_threshold:l.scrollToThreshold,pin_image_signature:l.pin_image_signature,is_creator_card_shown:!!e_({domain:e.pin.domain??"",hasLinkDomainOfficialUser:!!e.pin.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!e.pin.link_user_website?.official_user,hasNativeCreator:!!e.pin.native_creator,hasThirdPartyPinOwner:!!e.pin.third_party_pin_owner,isPromoted:!!e.pin.is_promoted,pinnerDomainUrl:e.pin.pinner?.domain_url??"",pinnerDomainVerified:!!e.pin.pinner?.domain_verified}),creator_username:e.pin?.closeup_attribution?.full_name}));var nm=a(518285),ny=a(782881),n_=a(974297),nh=a(30216),nf=a(686319),nk=a(278533),nx=a(761256),nS=a(503863),nv=a(817309),nb=a(887946),nP=a(956077),nw=a(572227),nF=a(91479),nT=a(87853),nI=a(973940),nC=a(322888);let nj=void 0!==p?p:p=a(208540);function nK({logCommerceAuxData:e,deepLinkBackGoesToBoard:l,element:a,goBack:n,pinKey:i,routePush:t,trafficSource:r,viewer:s,requestContext:o,viewType:d,viewParameterType:u,componentType:c},p,g){let m=(0,w.Z)(nj,i),y=(0,T.Z)(m),h=s.isAuth&&s.partner;return{onHandleBackButtonClick:(0,_.useCallback)(()=>{let i=m.promotedLeadForm?.leadId,s=e?y():null;m.promotedIsLeadAd?(p({event_type:4100,view_type:175,view_parameter:null,component:null,object_id_str:m.entityId,aux_data:{...s,lead_form_id:i,is_lead_ad:1}}),p({event_type:10369,view_type:175,view_parameter:null,component:14307,duration_ns:13606e6,object_id_str:m.entityId,aux_data:{lead_form_id:i,is_lead_ad:1}})):p({aux_data:s,event_type:101,view_type:d||3,view_parameter:u||(0,ep.Z)({hasPin:!0,hasPinRichMetadata:!!m.richMetadata,hasPinRichMetadataProducts:!!m.richMetadata?.products,hasPinRichMetadataArticle:!!m.richMetadata?.article,hasPinRichMetadataRecipe:!!m.richMetadata?.recipe,hasPinStoryPinData:!!m.storyPinData}),...c?{component:c}:void 0,element:a||34});let _="deep_linking"===r&&!l,{utm_source:f,news_hub_id:k}=function(e){let l=e.searchParams;return{utm_source:l.get("utm_source")??"",utm_medium:l.get("utm_medium")??"",utm_campaign:l.get("utm_campaign")??"",news_hub_id:l.get("news_hub_id")??""}}(new URL(o.fullPath,o.origin));return!g&&"31"==`${f}`&&k?t(`/news_hub/${k}`):_?t(h?"/homefeed/":"/"):n()},[c,l,a,y,n,e,p,m.entityId,m.promotedIsLeadAd,m.promotedLeadForm?.leadId,m.richMetadata,m.storyPinData,o.fullPath,o.origin,t,r,u,d,h,g])}}var nA=a(199593),nL=a(314011);function nR({conversation_id:e,senderId:l,pinId:a}){(0,nf.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:l,pin:a}})}function nE(e){let{clientTrackingParams:l,closeupWithinMasonryEnabled:a=!1,conversation_id:n,conversationOpen:i,didRepin:t,getStringifiedCommerceAuxData:r,isEligibleForStaticImageIdeaPin:s,isLandingPage:o,logContextEvent:d,onHandleBackButtonClick:u,openInbox:c,orbacActingAs:p,peekCloseupEnabled:g=!1,pin:m,pinDerivedData:y,pinId:h,pinResource:f,relatedPinsContainerRef:k,senderId:x,setAbortNoActionPlacementTimeout:S,setIsCommentThreadExpanded:v,setMostRecentPinId:b,setMostRecentPinImage:P,setPlacementExtraContext:w,shouldShowInbox:F,storyPinTaggedProductsResource:T,verticalNavWidth:C,viewer:j}=e,{pin:K,shopping:A,visualState:L,isCloseupMaximized:R=!1,isCommentSectionOpen:E=!1,didShortClickThrough:D=!1,didPinClickThrough:Z=!1,firstLoadComplete:M=!1,intervalId:N,viewportSize:z="lg",isOverRelatedPins:O=!1}=e.initialState||{},[U,V]=(0,_.useState)(K),[H,W]=(0,_.useState)(L),[G,$]=(0,_.useState)(R),[X,Y]=(0,_.useState)(E),[q,Q]=(0,_.useState)(D),[J,ee]=(0,_.useState)(Z),[el,ea]=(0,_.useState)(M),[en,ei]=(0,_.useState)(N),[et,er]=(0,_.useState)(z),[es,eo]=(0,_.useState)(O),ed=(0,_.useRef)(!1),eu=(0,_.useRef)(!1),eg=(0,_.useRef)(0),em=(0,_.useRef)(null),ey=(0,_.useRef)(null),e_=(0,nI.Z)(h),eh=(0,nI.Z)(t),ef=(0,nI.Z)(o),ex=(0,_.useCallback)(e=>{em.current=e},[]),eS=(0,_.useCallback)(e=>{ey.current=e},[]),ev=(0,_.useCallback)(()=>{if(!eu.current)return;let{BREAKPOINT:e,EXP_SM_BREAKPOINT:l,SM_BREAKPOINT:n}=(0,ek.le)({verticalNavWidth:C}),i=a?l:n,t="lg";"undefined"!=typeof window&&window.innerWidth<e&&(t=window.innerWidth<i?"sm":"md"),er(t)},[a,C]),eb=(0,_.useMemo)(()=>(0,ap.Z)(ev,50),[ev]),eP=(0,_.useCallback)(()=>{clearInterval(en),w&&w({didLongClickThrough:!0})},[en,w]),{pinFormattedLink:ew,trafficSource:eF,isCloseupMediaViewerOpen:eT}=e,eI=(0,_.useCallback)(e=>{let a=!!m?.story_pin_data_id&&s,{wasImageClicked:n,auxData:i,componentType:t=a?228:4,elementType:o=n?35:a?11157:361,viewType:u=eT?675:3}=e||{},c=(0,ep.Z)({hasPin:!!m,hasPinRichMetadata:!!m?.rich_metadata,hasPinRichMetadataProducts:!!m?.rich_metadata?.products,hasPinRichMetadataArticle:!!m?.rich_metadata?.article,hasPinRichMetadataRecipe:!!m?.rich_metadata?.recipe,hasPinStoryPinData:!!m?.story_pin_data}),p={...r?.(),...i||{},is_promoted:m?.is_promoted};j?.isAuth&&!J&&w&&(w({didPinClickThrough:!0}),ee(!0)),a&&d?.({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:m?.id,url:ew}}),d?.({event_type:101,object_id_str:h,component:t,element:o,clientTrackingParams:l,aux_data:{...r?.(),...i||{}}}),d?.({event_type:12,object_id_str:h,view_type:u,view_parameter:c,component:t,element:o,aux_data:{...p,...(0,nv.Z)(m.link_utm_applicable_and_replaced)},clientTrackingParams:l}),d?.({event_type:8948,view_type:u,view_parameter:c,component:t,element:o,object_id_str:h,clientTrackingParams:l,aux_data:{click_type:"clickthrough",closeup_navigation_type:eF&&(0,ec.sV)(eF)?"deeplink":"click",...r?.(),...i||{}}}),n&&ei(window.setInterval(eP,12e4)),eg.current=Date.now(),q&&Q(!1),S(!0)},[ew,j,eF,d,r,s,eT,m,J,w,h,l,q,S,eP]),eC=(0,_.useCallback)(()=>{clearInterval(en),w&&w({didLongClickThrough:!1})},[en,w]),ej=(0,_.useCallback)(()=>{eg.current>0&&(Q(Date.now()-eg.current<5e3),eg.current=0)},[]),eK=(0,_.useCallback)(()=>{d?.({event_type:101,object_id_str:U?.id,component:4,element:0,clientTrackingParams:l,aux_data:{...r?.()}}),S(!0)},[d,U?.id,l,r,S]),eA=(0,_.useCallback)(()=>{u()},[u]),{isEnabled:eL}=(0,lX.Z)({dangerouslySkipActivation:!0}),eD=(0,_.useCallback)(e=>{el&&((0,lb.nP)(`closeup.dweb.css_carousel.${eL?"enabled":"control"}.global_carousel_index_update`,{sampleRate:1,tags:{index:e}}),W(l=>({...l,carouselData:{...l.carouselData||{},index:e}})))},[el,eL]),eZ=(0,_.useMemo)(()=>(0,ap.Z)(()=>{if(!ey.current)return;let e=e3.hu,l=(ey.current?.getBoundingClientRect().top??0)<=e;eo(e=>!!l||e&&l),!l&&es&&eo(!1)},10),[es]),eM=(0,_.useCallback)(e=>{$(!e),em&&(em.ariaHidden=!e)},[$]),eN=(0,_.useCallback)(e=>{e.stopPropagation(),eA()},[eA]),ez=(0,_.useCallback)(e=>{Y(!!e),v?.(!!e),e&&d?.({component:13464,element:11981,event_type:10554,view_type:3})},[d,v]),eB=(0,_.useCallback)(()=>{let l=m?.board||{},a=e.viewer,n=l.is_collaborative&&(0,ny.Z)(l?.collaborated_by_me,l?.owner?.id,a);return!!(a.isAuth&&m?.pinner?.id===a.id||n)},[m?.board,m?.pinner?.id,e.viewer]),eO=(0,_.useCallback)(()=>{let l,{mainImage:a}=e;if(!el)return;let n=nd({carouselData:m?.carousel_data,images:m?.images,product:m?.rich_metadata?.products?.[0]||m?.rich_summary?.products?.[0]}),i=(n?.carousel_slots||[])[0]||{},t=(0,n_.Z)(i.images),r=H.carouselData,s=H.mainImage||{url:""},o=r?.index||0;l=n&&(n.carousel_slots?.length||0)>1?{mainImage:a,carouselData:{...n,index:o},previewImage:nc(m?.images?.["236x"])}:t?.url?{mainImage:{url:t.url,height:t.height||1,width:t.width||1}}:{mainImage:a,previewImage:nc(m?.images?.["236x"])};let d=l.carouselData?.id,u=r?.id,c=l.carouselData?.carousel_slots,p=r?.carousel_slots,g=l.mainImage?.url??"",y=s.url??"";(u!==d||JSON.stringify(p)!==JSON.stringify(c)||y!==g)&&W(l)},[m,e,el,H]);(0,_.useEffect)(()=>{let{didRepin:l,isLandingPage:a,pinResource:{data:i},pwtSurfaceContext:t}=e;eO(),el&&!ed.current&&(t?.removeConstraint?.("thumbnailsLoaded"),(0,nP.l7)("thumbnailsLoaded"),ed.current=!0),i&&!el&&(i.carousel_data&&(i.carousel_data.index=H.carouselData?.index||0),V(i),ea(!0)),n&&x&&h&&e_!==h&&nR({conversation_id:n,senderId:x,pinId:h});let r={};((0,as.M0)().getItem(at.W3)||"").includes(`/pin/${h}`)&&a&&(r.loginPageType="pin"),l&&(r.didRepin=!0),m?.image_signature&&(r.pin_image_signature=m.image_signature),r.is_own_or_group_pin=eB();let s=eh!==l||e.isLandingPage!==ef||e_!==h;!(0,nx.Z)(r)&&s&&w&&w({...r})},[h,x,n,e,el,ed,H.carouselData,w,e_,eO,m.image_signature,eB,eh,ef]),(0,e2.Z)(()=>(eu.current=!0,n&&x&&h&&nR({conversation_id:n,senderId:x,pinId:h}),n&&(i?.(n),F&&c?.()),m?.image_signature&&P?.(m.image_signature),h&&b?.(h),w&&w({is_own_or_group_pin:eB()}),ev(),window.addEventListener("resize",eb),window.addEventListener("focus",ej),window?.location?.search?.includes("invite_code=")&&(0,nk.Z)(),()=>{window.removeEventListener("resize",eb),window.removeEventListener("focus",ej),eu.current=!1}));let eU=eE.u6,eV=e.isCommentThreadExpanded||!1,{recommendation_reason:eH}=m,{contextPinIds:eW,experimentsClient:{checkExperiment:eG},landingContext:e$,searchQuery:eX,topLevelTrafficSource:eY,topLevelTrafficSourceDepth:eq}=e,eQ={name:"RelatedModulesResource",options:{additional_fields:(0,_.useCallback)(()=>{let e=[],l=eG("hfp_gen_ai_topics_opt_out_dweb",{dangerouslySkipActivation:!0}).group;return l&&(["control_pwt","enabled_pwt"].includes(l)&&eG("hfp_gen_ai_topics_opt_out_dweb"),"control_pwt"!==l&&e&&!e.includes("pin.gen_ai_topics")&&(e=[...e,"pin.gen_ai_topics"])),e},[eG])(),pin_id:m.id||h,context_pin_ids:eW,homefeed_source_sig:eH&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(eH.reason||"")&&eH.reason_id,page_size:12,search_query:eX,source:eF,top_level_source:eY,top_level_source_depth:eq,is_pdp:!1,landing_context:e$}},eJ=(0,eR.q6)(j,m.pinner?.id,p),e0=(!!m.id||!!h)&&!eJ||a,{data:e1}=T||{},{isLimitedLogin:e6,routePush:e4,showRepinOnInitialRender:e7,trendsData:e5,userBusinessRoleResource:e8}=e,e9=(0,I.jsx)(l$,{clientTrackingParams:l,closeupWithinMasonryEnabled:a,didShortClickThrough:q,executeClickthrough:eI,handleBackButtonClick:eA,handleCarouselSwipe:eD,handleCloseupBodyContainerRef:ex,handleIdeaCloseupCommentIconClick:ez,handleSaveClicked:eK,isCloseupMaximized:G,isCommentThreadExpanded:eV,isEligibleForStaticImageIdeaPin:s,isLimitedLogin:e6,maxWidth:eU,onToggleIdeaPinCloseupPanel:eM,peekCloseupEnabled:g,pin:m,pinDerivedData:y,pinResource:f,relatedPinsContainerRef:k,routePush:e4,shopping:A,showRepinOnInitialRender:e7,storyPinTaggedProducts:e1,trafficSource:eF,trendsData:e5,updateViewportSize:ev,userBusinessRoleResource:e8,viewportSize:et}),le=(0,I.jsx)(nF.Z,{handleScroll:eZ,onClick:eA,showShadow:es}),ll=(0,I.jsx)(a_,{backButton:le,bodyContent:e9,firstLoadComplete:el,isVideoPin:y.isVideoPin,onWrapperClick:eN,pin:m,pinResource:f,relatedModulesContent:e0?(0,I.jsx)(nl._m,{children:(0,I.jsx)(nl.IQ,{children:(0,I.jsx)(ns,{clientTrackingParams:l,closeupBody:e9,isVideoPin:y.isVideoPin,isYoutubePin:y.isYoutubePin,pinKey:{type:"deprecated",data:m},relatedPinsContainerRef:k,relatedResourceOptions:eQ,searchQuery:eX,setRelatedPinsHeaderRef:eS,topLevelTrafficSource:eY,trafficSource:eF,viewParameter:(0,ep.Z)({hasPin:!!m,hasPinRichMetadata:!!m?.rich_metadata,hasPinRichMetadataProducts:!!m?.rich_metadata?.products,hasPinRichMetadataArticle:!!m?.rich_metadata?.article,hasPinRichMetadataRecipe:!!m?.rich_metadata?.recipe,hasPinStoryPinData:!!m?.story_pin_data}),viewportSize:et})})}):(0,I.jsx)(_.Fragment,{})}),{abortNoActionPlacementTimeout:la,calculatedImageHeight:ln,isCommentAttachmentSelectorOpen:li,isCommentComposerFocused:lt,isCommentPopoverInteractionActive:lr,isMediaViewerOpen:ls,isShoppingModuleExpanded:lo,setCalculatedImageHeight:ld,setIsCloseupMediaViewerOpen:lu,setIsCommentAttachmentSelectorOpen:lc,setIsCommentComposerFocused:lp,setIsCommentPopoverInteractionActive:lg,setIsMediaViewerOpen:lm,setIsShoppingModuleExpanded:ly}=e;return(0,I.jsx)(aS,{abortNoActionPlacementTimeout:la,calculatedImageHeight:ln,classProps:e,classState:{...e.initialState,pin:U,shopping:A,visualState:H,isCloseupMaximized:G,isCommentSectionOpen:X,didShortClickThrough:q,didPinClickThrough:J,firstLoadComplete:el,intervalId:en,viewportSize:et,isOverRelatedPins:es},clientTrackingParams:l,closeupContent:ll,closeupWithinMasonryEnabled:a,descriptionPaneWidth:eU-eE.Gg-4*!!a,handleBackButtonClick:eA,handleCarouselSwipe:eD,handleFocus:eC,isCloseupMediaViewerOpen:eT,isCommentAttachmentSelectorOpen:li,isCommentComposerFocused:lt,isCommentPopoverInteractionActive:lr,isCommentThreadExpanded:eV,isMediaViewerOpen:ls,isShoppingModuleExpanded:lo,maxWidth:eU,paneWidth:eE.Gg,peekCloseupEnabled:g,setAbortNoActionPlacementTimeout:S,setCalculatedImageHeight:ld,setIsCloseupMediaViewerOpen:lu,setIsCommentAttachmentSelectorOpen:lc,setIsCommentComposerFocused:lp,setIsCommentPopoverInteractionActive:lg,setIsCommentThreadExpanded:v,setIsMediaViewerOpen:lm,setIsShoppingModuleExpanded:ly,showCloseupContentRight:!a&&(({isWideVideo:e,viewportSize:l,peekCloseupEnabled:a})=>!["md","sm"].includes(l)&&!e||a&&"sm"!==l)({isWideVideo:(0,lz.Z)((0,B.Z)({pin:m}))?.isWideVideo,viewportSize:et,peekCloseupEnabled:g}),showProductDetailPage:!1})}let nD=ng(function(e){var l;let{logContextEvent:a}=(0,ew.u)(),{pin:n,viewer:i,pinResource:t,pinId:r,goToCampaignCreation:s,deepLinkBackGoesToBoard:o,goBack:d,routePush:u,trafficSource:c}=e,p=(0,D.ZP)(),g=(0,eg.ru)(),m=(0,nw.Z)(),y=(0,eC.B)(),[h,k]=(0,_.useState)(!1),[v,b]=(0,_.useState)(!1),[P,w]=(0,_.useState)(!1),[F,C]=(0,_.useState)(!1),[j,K]=(0,_.useState)(!1),[A,L]=(0,_.useState)(!1),[R,E]=(0,_.useState)(!1),[Z,M]=(0,_.useState)(0),[N,z]=(0,_.useState)(!1),B=(0,ay.Z)(),O=(0,_.useRef)(null),{isRelatedPins10PercentVisible:U,setIsRelatedPins10PercentVisible:V}=(0,l_.K)();(0,_.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{V(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),l=O?.current;return O?.current&&e.observe(O?.current),()=>{l&&e.unobserve(l)}},[O,V]);let{setMostRecentPinId:H,setMostRecentPinImage:W}=(0,nL.R)(),G=(0,T.Z)({type:"deprecated",data:n}),$=(0,ec.sY)(n.embed?.type)&&"gif"||n.is_eligible_for_pdp&&"productPin"||n.rich_summary?.type_name==="recipe"&&"recipePin"||!!n.story_pin_data_id&&"storyPin"||!!n.videos?.video_list&&"video"||"image",{conversationOpen:X}=(0,nA.Z)(),Y=(0,ld.Z)(),q=(0,nm.Z)(),Q=(0,ac.A)(),J=(0,f.TH)(),ee=(0,nT.dI)(),[el,ea]=(0,_.useState)(!1),{advertiser:en}=y,ei=(0,nC.F0)(en,r),et=(0,nb.Z)({type:"deprecated",data:n}),{landingContext:er}=(0,nS.Z)(),es=(0,eR.lJ)(i,Y),ed=(0,nh.Z)({pinKey:{type:"deprecated",data:n}}),eu=g.checkExperiment("web_news_hub_landing_back_to_hf")?.anyEnabled,{onHandleBackButtonClick:ep}=nK({logCommerceAuxData:n.promoted_is_lead_ad,deepLinkBackGoesToBoard:o,goBack:d,routePush:u,trafficSource:c,viewer:i,requestContext:y,pinKey:{type:"deprecated",data:n}},a,eu);(0,_.useEffect)(()=>{t.data&&!el&&s&&ea(!0)},[t.data,el,s]);let em=!!n,ey=(0,_.useRef)(!1);em&&Q&&!ey.current&&(Q.addBinaryAnnotation("pinType",$,"STRING"),(0,nP.rt)("pinType",$,"STRING"),ey.current=!0);let e_=n.sponsorship?.sponsor?.id,eh=!n.is_repin&&!!e_,ef=(0,eo.Z)(e_&&eh&&i.isAuth&&"storyPin"===$?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${e_}/me/ad_accounts_permissions/`}}:null),ek=i.isAuth&&(l=i.country,!S.includes(l))&&(0,x.Gv)({orbacSubjectId:es,pinIsRepin:n.is_repin,pinPinnerId:n.pinner?.id,viewerId:i.id,viewerIsPartner:i.isPartner}),{data:ex,isLoaded:ev}=(0,eo.Z)(ek?{name:"ApiResource",options:{url:`/v3/trends/partner/${i.id||""}/trends_for_pin/${n.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:eb}=(0,eS.Z)(),eP=(0,_.useMemo)(()=>({data:ex,isLoaded:!ek||ev}),[ex,ev,ek]),eF=!!n.story_pin_data_id,eT=np({pin:n,pinId:r,pinResource:t}),{mainPinImage:eI}=(0,nu.Z)({pinKey:{type:"deprecated",data:n}});return el?(window.location.assign(ei),(0,I.jsx)(_.Fragment,{})):(0,I.jsx)(nE,{...e,abortNoActionPlacementTimeout:N,calculatedImageHeight:Z,clientTrackingParams:ed,closeupWithinMasonryEnabled:eb,conversationOpen:X,experimentsClient:g,getSterlingURL:q,getStringifiedCommerceAuxData:G,i18n:p,initialState:eT,isCloseupMediaViewerOpen:j,isCommentAttachmentSelectorOpen:h,isCommentComposerFocused:v,isCommentPopoverInteractionActive:P,isCommentThreadExpanded:F,isEligibleForStaticImageIdeaPin:eF,isMediaViewerOpen:A,isRelatedPins10PercentVisible:U,isShoppingModuleExpanded:R,landingContext:er,location:J,logContextEvent:a,mainImage:eI,onHandleBackButtonClick:ep,orbacActingAs:Y,peekCloseupEnabled:!eb,pinFormattedLink:et,pwtSurfaceContext:Q,relatedPinsContainerRef:O,requestContext:y,setAbortNoActionPlacementTimeout:z,setCalculatedImageHeight:M,setIsCloseupMediaViewerOpen:K,setIsCommentAttachmentSelectorOpen:k,setIsCommentComposerFocused:b,setIsCommentPopoverInteractionActive:w,setIsCommentThreadExpanded:C,setIsMediaViewerOpen:L,setIsShoppingModuleExpanded:E,setMostRecentPinId:H,setMostRecentPinImage:W,toastManager:ee,trackInteraction:m,trendsData:eP,userBusinessRoleResource:ef,verticalNavWidth:B})});function nZ(e){let l=(0,eo.Z)({name:"StoryPinTaggedProductsResource",options:{noCache:!0,id:e.pin.id}});return(0,I.jsx)(nD,{...e,storyPinTaggedProductsResource:l})}var nM=a(877956),nN=a(169053);function nz(e){let{previous:l}=(0,lr.ou)(),a=0===l.length,{children:n}=e,i=(0,f.TH)(),t=(0,lt.Z)(),r=(0,h.I0)(),{isBot:s}=(0,eC.B)(),{dropdownOpen:o}=(0,nA.Z)(),d=(0,nN.JC)(),u=!!d[e.pinId]&&(d[e.pinId].saved||!!d[e.pinId].savedInfo),c=d[e.pinId]||e.pinResource.data||{},p=e.pinResource.data?.story_pin_data?.pages?.[0]?.blocks?.[0]?.video,g=c?.story_pin_data?.pages?.[0]?.blocks?.[0];p&&g&&!g?.video&&((c?.story_pin_data?.pages?.[0]?.blocks?.[0]).video=p);let m="inbox"===(0,a3.mB)(i.search).tab;return n({isLandingPage:a,isLimitedLogin:!!t.isAuth&&t.isLimitedLogin,didRepin:u,openInbox:o,pin:c,shouldShowInbox:m,updateExperienceForPlacement:e=>{r((0,nM.pz)([e],s))}})}var nB=a(115939),nO=a(399656),nU=a(369416);let nV=`
      ::view-transition-group(image),
      ::view-transition-group(video) {
        animation-timing-function: cubic-bezier(0.55, 0, 0, 1);
      }
      ::view-transition-old([view-transition-name="video"]) {
        display: none;
      }
      ::view-transition-new([view-transition-name="video"]) {
        animation: none;
      }
    `,nH=function({children:e}){return(0,I.jsxs)(_.Fragment,{children:[(0,I.jsx)(nU.Z,{unsafeCSS:nV}),e]})};var nW=a(67484),nG=a(780879);let n$={display:"block",position:"relative",cursor:"auto"};var nX=a(371941),nY=a(734871);function nq(e){let{disabled:l,height:a,top:n=0,zIndex:i}=e,t=(0,_.useRef)(null),r=(0,nY.Z)();if(l)return e.children;let s=t.current?.getBoundingClientRect().top||0;return(0,I.jsx)(v.xu,{ref:t,"data-test-id":"product-sticky-container",id:"product-sticky-container ",children:(0,I.jsx)(v.Le,{height:a,top:r+n+s,zIndex:i,children:e.children})})}function nQ({isStoryPin:e,isWideVideo:l,pin:a,trafficSource:n,viewParameterType:i,onClickThrough:t,showStructuredDescription:r,didShortClickThrough:s,goBack:o,isInStream:d=!1,isDeletedStoryPin:u,onSaveButtonClick:c,onUpdate:p,outerBodyStyle:g,routePush:m,showPartnerModule:y,showPinStats:h,showTrendsOnPinCloseup:f,showRepinOnInitialRender:k,trendsData:x,viewType:S}){let v=(0,_.useRef)(null),b=(0,_.useRef)(null),P=(0,lt.Z)(),{closeupWithinMasonryEnabled:w,clientTrackingParams:F}=(0,W.x4)(),{checkExperiment:T}=(0,eg.ru)(),C=(0,ld.Z)(),j=(0,eR.lJ)(P,C),K=e7(90),A=e5(),{isCloseupMediaViewerEnabled:L}=(0,ll.Z)({isShufflePin:!!a?.shuffle}),R=(0,_.useCallback)(()=>{t&&t({componentType:129}),A.setClickthroughComponentForSurvey("legoMaybeLink")},[t,A]),[E,D]=(0,_.useState)(!1),Z=!!a.is_eligible_for_aggregated_comments,M=w&&Z&&"enabled_dropdown"===T("ce_dweb_new_closeup_comment_module").group,N=w&&Z&&"enabled_popover"===T("ce_dweb_new_closeup_comment_module").group,{setClickthroughComponentForSurvey:z,imageContainerRef:B}=A,{getViewParameter:O}=ef({type:"deprecated",data:a}),U=O(i),V=(0,_.useCallback)(()=>{t({wasImageClicked:!0})},[t]),H=eE.ER,G=(0,I.jsx)(lg,{handleImageClickThrough:V,imageContainerRef:B,isStoryPin:e,isWideVideo:l,onSaveButtonClick:c,pin:a,setClickthroughComponentForSurvey:z,trafficSource:n,viewParameter:U,viewParameterType:i,visualContentContainerRef:Z?K.visualContentContainerRef:void 0}),$=(0,I.jsx)(nq,{disabled:!1,top:-16,zIndex:lu.mS,children:G}),X=r&&!L?$:G,Y=(0,e$.Z)({pinKey:{type:"deprecated",data:a},orbacActingAs:C,viewer:P}),q=(0,I.jsx)(_.Fragment,{children:(0,I.jsx)(nX.Z,{clientTrackingParams:F,detailsScrollContainerRef:v.current,inCommentsImprovedDropdownExp:M,inCommentsPopoverExp:N,isBoardOwnerOrCollaborator:Y,isLoadingNewlyCreatedComment:E,onClickThrough:t,outerPaddingSize:H,pinKey:{type:"deprecated",data:a},showPartnerModule:y,showPDPComments:Z,showPinStats:h,showStructuredDescription:r,showTrendsOnPinCloseup:f,trendsData:x,viewParameter:U})});return(0,I.jsx)(lA,{actionBarContainerRef:b,closeupActionBarMaxWidth:w?void 0:eE.CI,descriptionContentMaxHeight:Z?K.descriptionContentMaxHeight:void 0,didShortClickThrough:s,disableLeadPin:!0,goBack:o,inCommentsImprovedDropdownExp:M,inCommentsPopoverExp:N,isCloseupMaximized:!1,isDeletedStoryPin:u,isEligibleForPinReactions:!a.is_promoted&&!a.is_downstream_promotion&&!u,isInStream:d,isStoryPin:e,isWideVideo:l,marginBottom:8*!w,metadata:q,metadataContainerRef:v,onClickThrough:R,onSaveButtonClick:c,onUpdate:p,orbacSubjectId:j,outerBodyStyle:g,outerPaddingSize:H,pin:a,routePush:m,setIsLoadingNewlyCreatedComment:D,showPDPComments:Z,showRepinOnInitialRender:k,trafficSource:n,viewer:P,viewParameter:U,viewType:S,visualContentContainer:X,visualContentContainerRef:Z?K.visualContentContainerRef:void 0,webLinkSurveyState:A})}let nJ=(0,eM.Z)(()=>a.e("96615").then(a.bind(a,174753)),{ssr:!1},e=>174753,"CloseupPartnerModule"),n0=(0,eM.Z)(()=>a.e("54347").then(a.bind(a,15863)),{ssr:!1},e=>15863,"SponsorshipApprovalModule"),n1={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},n2={boxShadow:void 0,borderRadius:16},n3=({closeupWithinMasonryEnabled:e,didShortClickThrough:l,executeClickthrough:a,handleBackButtonClick:n,handleSaveButtonClick:i,isEligibleForStlFlyout:t,isLimitedLogin:r,isRelatedPins10PercentVisible:s,maxWidth:o,orbacActingAs:d,pin:u,pinResource:c,routePush:p,showRepinOnInitialRender:g,showStructuredDescription:m,trendsData:y,userBusinessRoleResource:h,relatedResourceOptions:f,storyPinTaggedProducts:k,trafficSource:S,viewer:b,viewportSize:P})=>{let{checkExperiment:w}=(0,eg.ru)(),{id:F,sponsorship:T,story_pin_data_id:C,story_pin_data:j}=u,K=!!C,A=!!j?.is_deleted,{creator:L,sponsor:R,status:E}=T||{},{username:D}=L||{},{username:Z}=R||{},{refresh:M}=c,N=(0,eR.lJ)(b,d),{data:z}=h||{},O=!u.is_repin&&!!Z,U=Z===b.username?[lD.V3.OWNER]:z?.permissions,V=Z===b.username||!!U?.find(e=>lZ.includes(e)),H=Z===b.username||!!U?.find(e=>lZ.includes(e)),{isWideVideo:W}=(0,lz.Z)((0,B.Z)({pin:u}))||{},G=(0,lN.Z)({type:"deprecated",data:u},b,N),$=(0,x.CA)(y?.data),X=O&&b.isAuth&&w("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(V&&0===E||H&&1===E),Y=K&&(j?.pages?.length??0)>0,q=(0,lM.WE)(b,P,G,$,y,X),Q=e?n2:n1;return(0,I.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:K?{...n$,width:"100%"}:{}},"data-test-id":"gradient",display:"flex",id:"gradient",justifyContent:"center",children:(0,I.jsx)(_.Fragment,{children:(0,I.jsx)(lO.Z,{isStoryPin:K,isWideVideo:W,children:(0,I.jsx)(eT.Z,{name:"CloseupBody",children:(0,I.jsxs)(v.xu,{children:[(0,I.jsxs)(v.xu,{alignItems:W?"center":void 0,direction:W?"column":void 0,display:W?"flex":void 0,children:[X&&"number"==typeof E&&(0,I.jsx)(v.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,I.jsx)(eT.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,I.jsx)(ej.Z,{children:(0,I.jsx)(n0,{business_role:U,creatorUsername:D??"",pinId:F,sponsorshipStatus:E})})})}),q&&!e&&(0,I.jsx)(v.xu,{"data-test-id":"PartnerModule",width:"lg"===P&&W?o:"100%",children:(0,I.jsx)(eT.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,I.jsx)(ej.Z,{children:(0,I.jsx)(nJ,{borderStyle:Q,isStoryPin:K,pinKey:{type:"deprecated",data:u},showPinStats:G,trendsData:$?y?.data?.results:null,viewportSize:P})})})})]}),(0,I.jsx)(nQ,{data:c.data,didShortClickThrough:l,goBack:n,isDeletedStoryPin:!!A,isEligibleForStlFlyout:t,isRelatedPins10PercentVisible:s,isStoryPin:K,isWideVideo:W,onClickThrough:a,onSaveButtonClick:i,onUpdate:M,outerBodyStyle:K?null:Q,pin:u,relatedResourceOptions:f,routePush:p,showPartnerModule:q,showPinStats:G,showRepinOnInitialRender:!r&&g,showStructuredDescription:m,showTrendsOnPinCloseup:$,storyPinTaggedProducts:k,trafficSource:S,trendsData:y,viewParameterType:Y?157:void 0,viewType:3})]})})})})})},n6=(0,eM.Z)(()=>a.e("75139").then(a.bind(a,793760)),void 0,e=>793760,"StructuredFeedStoryModule"),n4=(0,eM.Z)(()=>a.e("65346").then(a.bind(a,667980)),void 0,e=>667980,"app-common-react-components-closeup-CloseupRelatedModules-DomainModule"),n7=(0,eM.Z)(()=>Promise.resolve().then(a.bind(a,589183)),void 0,e=>589183,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),n5=(0,eM.Z)(()=>a.e("99743").then(a.bind(a,412098)),void 0,e=>412098,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),n8=void 0!==g?g:g=a(149627),n9=(0,_.forwardRef)(({clientTrackingParams:e,pinKey:l,setRelatedPinsHeaderRef:a,slotIndex:n,story:i,topLevelTrafficSource:t,viewParameter:r,viewportSize:s},o)=>{let d=(0,w.Z)(n8,l),{closeupWithinMasonryEnabled:u}=(0,W.x4)();if(!i)return null;let{container_type:c,story_type:p}=i;if((0,a2.Z)(c)){let e=88===c,l=90===c;return(0,I.jsx)(v.xu,{marginBottom:e||l?0:12,paddingX:12*!!l,children:(0,I.jsx)(n6,{componentFallback:13176,initialSlotIndex:n,story:i,storyKey:{type:"deprecated",data:i},surface:"ShoppingDynamicHeightGrid",view:3,viewParameter:r})})}return(0,av.HM)(p)?!u&&(0,I.jsx)(v.xu,{alignSelf:"center",children:(0,I.jsx)(n7,{filter:(0,av.oV)(p),story:i,viewParameter:r})}):["related_products_feed_header","related_modules_header"].includes(p)?(0,I.jsx)(v.xu,{ref:a,"data-test-id":"related-modules-header",children:(0,I.jsx)(n5,{ref:o,clientTrackingParams:e,slotIndex:n,storyId:i.id,storyType:p,title:i.title?.format,viewParameter:r})}):"related_domain_carousel"===p?(0,I.jsx)(v.xu,{display:"flex",justifyContent:"center",marginBottom:12,children:(0,I.jsx)(n4,{closeupImageSignature:d.imageSignature||"",data:i,slotIndex:n,storyId:i.id,storyType:p,topLevelTrafficSource:t,viewParameter:r,viewportSize:s})}):null});var ie=a(713705),il=a(619256);let ia=(0,eM.Z)(()=>a.e("75139").then(a.bind(a,793760)),void 0,e=>793760,"app-packages-StructuredFeed-ModuleReps-utils-StructuredFeedStoryModule"),ii=()=>(0,I.jsx)(_.Fragment,{children:Array(12).fill(void 0).map((e,l)=>(0,I.jsx)(v.xu,{marginEnd:4,width:ie.j},`empty-pin-${l}`))}),it=void 0!==m?m:m=a(502396);function ir(e){return 154===e.container_type?2:e.columnSpan??e.display_options?.content_display?.grid_layout?.cols??1}function is({surface:e="PdpRelatedPinGrid",closeupBody:l,closeupInclusiveFilters:a,initialSlotIndex:n,isFetching:i=!1,pinKey:t,relatedPins:r,showResponsiveInclusiveFilters:s,topLevelTrafficSource:o}){let d=(0,D.ZP)(),{closeupWithinMasonryEnabled:u}=(0,W.x4)(),c=(0,w.Z)(it,t),p=(0,na.Z)(),g=(0,_.useRef)(null),m=(0,ep.Z)({hasPin:!!c,hasPinRichMetadata:!!c.richMetadata,hasPinRichMetadataProducts:!!c.richMetadata?.products,hasPinRichMetadataArticle:!!c.richMetadata?.article,hasPinRichMetadataRecipe:!!c.richMetadata?.recipe,hasPinStoryPinData:!!c.storyPinData}),y=({data:i,itemIdx:t})=>{let r=(0,aQ.Z)(p),s=n+t,d=null;switch(i.type){case"closeup_module":d=l;break;case"shopping_module":d=(0,I.jsx)(e0.Z,{moduleWidth:"100%",pinKey:c,trafficSource:o,viewParameter:m});break;case"inclusive_filters_module":d=a;break;case"story":switch(154===i.container_type&&(d=(0,I.jsx)(il.Z,{slotIndex:s,story:i,viewParameter:m,viewType:3})),i.story_type){case"BUBBLE_ONE_COL":d=(0,I.jsx)(a6.default,{bubbles:i.objects,id:i.id,referringSource:i.referring_source,slotIndex:s,storyType:i.story_type,title:i.title,viewParameter:m,viewType:3});break;case"related_query_shop_upsell_closeup":d=(0,I.jsx)(a$.default,{itemIdx:s,story:i,viewParameter:m,viewType:3})}(0,a2.Z)(i.container_type)&&(d=(0,I.jsx)(ia,{initialSlotIndex:t,story:i,storyKey:{type:"deprecated",data:i},styleOverrides:{showModuleBorder:ir(i)>1},view:3,viewParameter:m}));break;default:d=(0,I.jsx)(a4.rX,{componentType:13176,imageOnlyOption:r?"image-only":"default",pinId:i.id,pinKey:{type:"deprecated",data:i},slotIndex:s,surface:e,trackingParams:i.tracking_params,viewData:{pin_id:c.entityId},viewParameter:m,viewType:3})}return(0,I.jsx)(aR,{children:d})},h={isLoadedAccessibilityLabel:r.length>0?d._('Loaded more related product results', 'closeup.relatedProducts.results', 'Accessibility label for loaded more related product results'):d._('Loaded related products result', 'closeup.relatedProducts.results', 'Accessibility label for loaded related products result'),isLoadingAccessibilityLabel:r.length>0?d._('Loading more related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading more related products results'):d._('Loading related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading related products results')},f=u?(0,I.jsx)(aY.default,{_getResponsiveModuleConfigForSecondItem:(0,aD.fz)(!!s),align:"center",getColumnSpanConfig:ir,isFetching:i,isLoadingStateEnabled:!0,items:r,layout:"basic",masonryRef:g,minCols:2,renderItem:y,serverRender:!0,virtualize:aD.o1,...h}):(0,I.jsxs)(v.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"5px"}},children:[(0,I.jsx)(aY.default,{getColumnSpanConfig:ir,isFetching:i,isLoadingStateEnabled:!0,items:r,renderItem:y,...h}),(0,I.jsx)(ii,{})]});return(0,I.jsx)(nn.Z,{metricName:"RelatedModulesFeed",children:(0,I.jsx)(ak.Z,{component:86,viewParameter:m,children:f})})}var io=a(598579),id=a(730647);let iu=void 0!==y?y:y=a(937046),ic=(0,_.forwardRef)(({clientTrackingParams:e,closeupBody:l,excludeStories:a,initialSlotIndex:n=0,isFilteredFeed:i,pinKey:t,relatedModulesFeedResource:r,setRelatedPinsHeaderRef:s,topLevelTrafficSource:o,viewParameter:d,viewportSize:u},c)=>{let p=(0,w.Z)(iu,t),{search:g}=(0,f.TH)(),{closeupWithinMasonryEnabled:m}=(0,W.x4)(),y=aE(new URLSearchParams(g).get("f")??""),h=(0,_.useMemo)(()=>(r.data||[]).filter(e=>["SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"].includes(e?.story_type??"")).find(e=>(0,av.HM)(e?.story_type??"")),[r]),{closeupMasonryModules:k,inclusiveFilters:x}=(0,aD.ZP)({pinId:p.entityId,inclusiveModuleToCache:h,showProductDetailPage:!0}),S=x?(0,av.oV)(x.story_type??""):"",{inInclusiveEfficientRefinements:b}=(0,aZ.Z)(S),P=m&&b&&y,F=(0,eo.Z)(P?{name:"ApiResource",options:{url:`/v3/pins/${p.entityId}/related/pins/filter/`,data:{fields:aB.Z,related_pins_tabs_selections:y}}}:null),{data:T,isAtEnd:C,isFetching:j,fetchMore:K,nextBookmark:A}=P?F:r,L=(0,_.useMemo)(()=>(T||[]).filter(e=>!(a&&"story"===e.type&&e.story_type&&a.includes(e.story_type))),[T,a]),R=i&&A===a0.qx,E=T?T.length:0,D=(0,_.useMemo)(()=>(0,id.Z)(L),[L]),Z=(0,_.useCallback)(e=>!!("pin"===e.type||"story"===e.type&&(io.v8.has(e.story_type)||io.AW.has(e.story_type)||154===e.container_type)),[]),M=(0,f.k6)(),N=(0,_.useRef)(n),z=(0,a3.mB)(g).rs,B=M?.action==="POP";(0,_.useEffect)(()=>{az({isFromBackButton:B,referringSource:z,relatedModulesRef:c})},[B,g,z,c]);let O=(0,_.useMemo)(()=>x?(0,I.jsx)(aK.default,{filter:S,story:x,viewParameter:d}):null,[x,S,d]),{storyModules:U,allPins:V}=(0,_.useMemo)(()=>{let l=[],a=[...k],n=0;return D.length>0&&D.forEach((i,t)=>{0===t&&(N.current=0,n=0);let r=0;Array.isArray(i)?(r+=i.length,a.push(...i.filter(Z))):"story"===i.type&&(r+="objects"in i&&Array.isArray(i.objects)?i.objects.length:1,l.push((0,I.jsx)(v.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,I.jsx)(n9,{ref:c,clientTrackingParams:e,pinKey:p,setRelatedPinsHeaderRef:s,slotIndex:n,story:i,topLevelTrafficSource:o,viewParameter:d,viewportSize:u})},Array.isArray(i)?i[0]?.id:i.id))),N.current=n+=r}),{storyModules:l,allPins:a}},[k,D,Z,e,p,s,o,d,u,c]);return(0,I.jsxs)(_.Fragment,{children:[U,(0,I.jsx)(is,{closeupBody:l,closeupInclusiveFilters:O,initialSlotIndex:N.current,isFetching:j,pinKey:p,relatedPins:V,showResponsiveInclusiveFilters:b,surface:i?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:o}),(0,I.jsx)(v.gr,{fetchMore:K,isAtEnd:C,isFetching:j}),R&&E>0&&(0,I.jsx)(aC,{}),R&&0===E&&(0,I.jsx)(aj,{})]})});function ip({relatedPinsContainerRef:e,relatedResourceOptions:l,viewParameter:a,...n}){let{search:i}=(0,f.TH)(),t=new URLSearchParams(i).get("utm_source"),r=(0,eo.Z)("ads_manager"===t?null:l);return(0,I.jsx)(v.xu,{ref:e,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:(0,I.jsx)(ic,{...n,ref:e,excludeStories:[],initialSlotIndex:0,isFilteredFeed:!1,relatedModulesFeedResource:r,relatedResourceOptions:l,viewParameter:a})})}var ig=a(374114),im=a(884620),iy=a(300540),i_=a(97781),ih=a(966838);function ik({conversation_id:e,senderId:l,pinId:a}){(0,nf.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:l,pin:a}})}function ix(e){let{clientTrackingParams:l,closeupWithinMasonryEnabled:a,conversation_id:n,conversationOpen:i,didRepin:t,dispatch:r,goToCampaignCreation:s,i18n:o,initialState:d,isLandingPage:u,isLimitedLogin:c,logContextEvent:p,mainImage:g,onHandleBackButtonClick:m,openInbox:y,orbacActingAs:h,peekCloseupEnabled:f,pin:k,pinFormattedLink:x,pinId:S,pinResource:b,pwtSurfaceContext:w,requestContext:F,routePush:C,senderId:j,setAbortNoActionPlacementTimeout:K,setMostRecentPinId:A,setMostRecentPinImage:L,setPlacementExtraContext:R,shouldShowInbox:E,showRepinOnInitialRender:D,showStructuredDescription:Z,toastManager:M,trackInteraction:N,trafficSource:z,trendsData:O,userBusinessRoleResource:U,verticalNavWidth:V,viewer:H}=e,{visualState:W,didShortClickThrough:G=!1,isOverRelatedPins:$=!1,viewportSize:X="lg",firstLoadComplete:Y=!1,campaignCreationTriggered:q=!1,intervalId:Q}=d||{},J=d?.didPinClickThrough||!1,[ee,el]=(0,_.useState)(W),[ea,en]=(0,_.useState)(G),[ei,et]=(0,_.useState)(X),[er,es]=(0,_.useState)($),[eo,ed]=(0,_.useState)(Y),[eu,eg]=(0,_.useState)(q),[em,ey]=(0,_.useState)(Q),[e_,eh]=(0,_.useState)(J),ef=(0,_.useCallback)(()=>{el(e=>{let l=nd({carouselData:k.carousel_data,images:k.images,product:(k.rich_metadata||k.rich_summary)?.products?.[0]});return{...e,carouselData:l}})},[k]);(0,e2.Z)(()=>{let e=function({richPinData:e={}}){return e?.products?.[0]}({richPinData:k.rich_summary});!ee.carouselData&&(e?.has_multi_images||e?.videos?.length)&&ef()});let[ek,ex]=(0,_.useState)(!1),eS=(0,_.useRef)(!1),ev=(0,_.useRef)(null),eb=(0,_.useRef)(0),eP=(0,_.useMemo)(()=>{let e=(k||{}).board||{},l=e.is_collaborative&&(0,ny.Z)(e.collaborated_by_me,e.owner?.id,H);return!!(H.isAuth&&k.pinner?.id===H.id||l)},[k,H]),ew=(0,_.useCallback)(()=>{let{isWideVideo:e}=(0,lz.Z)((0,B.Z)({pin:k}))||{};eS.current&&et(function({isWideVideo:e,hasCarouselData:l,closeupWithinMasonryEnabled:a,verticalNavWidth:n}){let{BREAKPOINT:i,WIDE_VIDEO_BREAKPOINT:t,WIDE_PDP_BREAKPOINT:r,SM_BREAKPOINT:s,EXP_SM_BREAKPOINT:o,SM_WITH_CAROUSEL_BREAKPOINT:d}=(({verticalNavWidth:e})=>({BREAKPOINT:1056+e,WIDE_VIDEO_BREAKPOINT:998+e,WIDE_PDP_BREAKPOINT:1300+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:860+e,SM_WITH_CAROUSEL_BREAKPOINT:960+e,BACK_BUTTON_WIDE_BREAKPOINT:1135+e,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:1465+e,BACK_BUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,BACK_BUTTON_WITH_LABEL_WIDE_CAROUSEL_BREAKPOINT:1640+e,BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:780+e,BACK_BUTTON_NARROW_BREAKPOINT:630+e}))({verticalNavWidth:n}),u=i,c=a?o:s;return(e&&(u=t),l&&(u=r,c=a?d:c),window?.innerWidth<c)?"sm":window?.innerWidth<u?"md":"lg"}({isWideVideo:!!e,hasCarouselData:!!ee?.carouselData,closeupWithinMasonryEnabled:a,verticalNavWidth:V}))},[a,k,V,ee?.carouselData]),eF=(0,_.useCallback)(()=>{eb.current>0&&(en(Date.now()-eb.current<5e3),eb.current=0)},[]);(0,e2.Z)(()=>{eS.current=!0,n&&j&&S&&ik({conversation_id:n,senderId:j,pinId:S}),n&&(i(n),E&&y()),k.image_signature&&L(k.image_signature),S&&A(S),R&&R({is_own_or_group_pin:eP});let e=(0,as.M0)().getItem(at.M8)||"";return e&&e===S&&((0,as.M0)().removeItem(at.M8),N({action:"trigger",item:"unauth-save-button-quicksave"}),(0,ig.Z)({description:k.description,entityId:k.id,link:k.link,promotedIsRemovable:k.promoted_is_removable,title:k.title},o).then(e=>{let{id:l,url:a,name:n}=e;r((0,ih.d)({boardId:l,url:a,title:n||"",pinId:S,nodeId:k.node_id})),M.showToast(({hideToast:l})=>(0,I.jsx)(i_.Z,{boardName:e.name,boardUrl:e.url,onHide:l,pinImageUrl:k.images?.["236x"]?.url??""}))})),ew(),window.addEventListener("resize",ew),window.addEventListener("focus",eF),window?.location?.search?.includes("invite_code=")&&(0,nk.Z)(),()=>{window.removeEventListener("resize",ew),window.removeEventListener("focus",eF),eS.current=!1}});let eT=(0,_.useCallback)(()=>{let{advertiser:e}=F,l=(0,nC.F0)(e,S);eg(!0),window.location.assign(l)},[S,F]),eI=(0,_.useCallback)((e,l)=>{let a={visualState:ee,didShortClickThrough:ea,didPinClickThrough:e_,isOverRelatedPins:er,firstLoadComplete:eo,campaignCreationTriggered:eu,intervalId:em,viewportSize:ei,backButtonLabelFitInScreen:!1,closeupBodyContainerHeight:0,closeupContainerHeight:0},n=function(e,l){switch(l.type){case"gallerySelect":return{shopping:l.select};case"pinLoaded":{let a=e.myTry?{}:{myTry:{isDoneByMe:l.pin.done_by_me}};return{pin:l.pin,...a,firstLoadComplete:!0}}case"tryChange":return{myTry:{isDoneByMe:l.isDoneByMe}};default:throw"impossible"}}(a,e);n.visualState!==a.visualState&&n.visualState&&el(n.visualState),n.didShortClickThrough!==a.didShortClickThrough&&n.didShortClickThrough&&en(n.didShortClickThrough),n.didPinClickThrough!==a.didPinClickThrough&&n.didPinClickThrough&&eh(n.didPinClickThrough),n.isOverRelatedPins!==a.isOverRelatedPins&&n.isOverRelatedPins&&es(n.isOverRelatedPins),n.firstLoadComplete!==a.firstLoadComplete&&n.firstLoadComplete&&ed(n.firstLoadComplete),n.campaignCreationTriggered!==a.campaignCreationTriggered&&n.campaignCreationTriggered&&eg(n.campaignCreationTriggered),n.intervalId!==a.intervalId&&ey(n.intervalId),n.viewportSize!==a.viewportSize&&n.viewportSize&&et(n.viewportSize),l&&l()},[ee,ea,e_,er,eo,eu,em,ei]),eC=(0,_.useCallback)(()=>{let e;if(!eo)return;let l=nd({carouselData:k.carousel_data,images:k.images,product:(k.rich_metadata||k.rich_summary)?.products?.[0]}),a=(l?.carousel_slots||[])[0]||{},n=(0,n_.Z)(a.images),i=ee.carouselData,t=ee.mainImage||{url:""},r=i?.index||0;e=l&&(l.carousel_slots?.length||0)>1?{mainImage:g,carouselData:{...l,index:r},previewImage:nc(k.images?.["236x"])}:n?.url?{mainImage:{url:n.url,height:n.height||1,width:n.width||1}}:{mainImage:g,previewImage:nc(k.images?.["236x"])},(i?.id!==e.carouselData?.id||JSON.stringify(i?.carousel_slots)!==JSON.stringify(e.carouselData?.carousel_slots)||t.url!==e.mainImage.url)&&(el(e),ew())},[eo,k.carousel_data,k.images,k.rich_metadata,k.rich_summary,ee.carouselData,ee.mainImage,g,ew]),ej=(0,_.useCallback)(()=>{let{carouselData:e}=ee;return function({viewportSize:e,hasCarouselData:l}){return l&&["lg","md"].includes(e)}({viewportSize:ei,hasCarouselData:!!e})},[ei,ee]);(0,_.useEffect)(()=>{eC(),!eo||ej()||ek||(w?.removeConstraint("thumbnailsLoaded"),(0,nP.l7)("thumbnailsLoaded"),ex(!0));let{data:e}=b;e&&!eo&&(e.carousel_data&&(e.carousel_data.index=ee.carouselData?.index||0),eI({type:"pinLoaded",pin:e})),n&&j&&S&&ik({conversation_id:n,senderId:j,pinId:S}),b.data&&!eu&&s&&eT();let l={};((0,as.M0)().getItem(at.W3)||"").includes(`/pin/${S}`)&&u&&(l.loginPageType="pin"),t&&(l.didRepin=!0),k.image_signature&&(l.pin_image_signature=k.image_signature),l.is_own_or_group_pin=eP,!(0,nx.Z)(l)&&R&&R({...l})},[eo,eu,b.data,S,ee.carouselData,k.image_signature,n,j,t,u,ek,s,eC,ej,b,eP,R,w,eI,eT]);let eK=(0,_.useCallback)(e=>{ev.current=e||null},[]),eA=(0,_.useCallback)(()=>{clearInterval(em),R&&R({didLongClickThrough:!0})},[em,R]),eL=(0,T.Z)({type:"deprecated",data:k}),eD=(0,_.useCallback)(e=>{let a=!!k.story_pin_data,{wasImageClicked:n,auxData:i,componentType:t=a?228:4,elementType:r=n?35:a?11157:361,viewType:s=3}=e||{},o=(0,ep.Z)({hasPin:!0,hasPinRichMetadata:!!k.rich_metadata,hasPinRichMetadataProducts:!!k.rich_metadata?.products,hasPinRichMetadataArticle:!!k.rich_metadata?.article,hasPinRichMetadataRecipe:!!k.rich_metadata?.recipe,hasPinStoryPinData:!!k.story_pin_data}),d={...eL(),...i||{}};H&&H.isAuth&&!e_&&R&&(R({didPinClickThrough:!0}),eh(!0)),a&&p({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:k.id,url:x}}),p({event_type:101,object_id_str:S,component:t,element:r,aux_data:d,clientTrackingParams:l}),p({event_type:12,object_id_str:S,view_type:s,view_parameter:o,component:t,element:r,aux_data:d,clientTrackingParams:l}),p({event_type:8948,view_type:s,view_parameter:o,component:t,element:r,object_id_str:S,aux_data:{click_type:"clickthrough",closeup_navigation_type:z&&(0,ec.sV)(z)?"deeplink":"click",...d}}),p({event_type:12,object_id_str:S,view_type:s,view_parameter:o,component:t,element:r,aux_data:{...d,...(0,nv.Z)(k.link_utm_applicable_and_replaced)},clientTrackingParams:l}),n&&ey(window.setInterval(eA,12e4)),eb.current=Date.now(),ea&&en(!1),K(!0)},[k.story_pin_data,k.rich_metadata,k.id,eL,H,e_,R,p,S,l,z,ea,K,x,eA,k.link_utm_applicable_and_replaced]),eZ=(0,_.useCallback)(()=>{clearInterval(em),R&&R({didLongClickThrough:!1})},[em,R]),eM=(0,_.useCallback)(()=>{p({event_type:101,object_id_str:k.id,component:4,element:13306,clientTrackingParams:l,aux_data:{...eL()}}),K(!0)},[k.id,p,l,eL,K]),eN=(0,_.useCallback)(()=>{m()},[m]),ez=(0,_.useCallback)(e=>{eo&&el(l=>({...l,carouselData:{...l.carouselData||{},index:e}}))},[eo]),eB=(0,_.useCallback)(()=>(0,ap.Z)(()=>{if(!ev.current)return;let e=e3.hu,l=ev.current.getBoundingClientRect().top<=e;er!==l&&es(l)},10)(),[er]),eO=(0,_.useCallback)(e=>{e.stopPropagation(),eN()},[eN]),{abortNoActionPlacementTimeout:eU,contextPinIds:eV,getAdditionalFields:eH,pinDerivedData:eW,topLevelTrafficSource:eG,topLevelTrafficSourceDepth:e$,searchQuery:eX,isCommentAttachmentSelectorOpen:eY,isCommentComposerFocused:eq,isCommentPopoverInteractionActive:eQ,isCommentThreadExpanded:eJ,isProductDetailsExpanded:e0,setIsCommentAttachmentSelectorOpen:e1,setIsCommentComposerFocused:e6,setIsCommentPopoverInteractionActive:e4,setIsCommentThreadExpanded:e7,setIsProductDetailsExpanded:e5,isCloseupMediaViewerOpen:e8,setIsCloseupMediaViewerOpen:e9,landingContext:le,isRelatedPins10PercentVisible:ll,relatedPinsContainerRef:la}=e,ln=eL(),{isWideVideo:li}=(0,lz.Z)((0,B.Z)({pin:k}))||{},lt=(0,P.Z)({showProductDetailPage:!0})?"sm"!==ei:!a&&(({isWideVideo:e,viewportSize:l,peekCloseupEnabled:a})=>!["md","sm"].includes(l)&&!e||a&&"sm"!==l)({isWideVideo:!!li,viewportSize:ei,peekCloseupEnabled:f}),{recommendation_reason:lr}=k,ls=(0,_.useMemo)(()=>({name:"RelatedModulesResource",options:{additional_fields:eH(),pin_id:k.id,context_pin_ids:eV,homefeed_source_sig:lr&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(lr.reason??"")&&lr.reason_id,page_size:12,search_query:eX,source:z,top_level_source:eG,top_level_source_depth:e$,is_pdp:k.is_eligible_for_pdp,landing_context:le}}),[eH,k.id,eV,lr,eX,z,eG,e$,k.is_eligible_for_pdp,le]),lo=(0,eR.q6)(H,k.pinner?.id,h),ld=!!k.id&&!lo||a,lu=a?eE.Gg:eE.CI,lc=ej()&&lt?eE.Ch:lu,lp=ej()?eE.Gb:eE.Kn,lg=a||"lg"!==ei?lc:lp-lc,lm=eo&&(ej()||a),ly=lm&&(0,I.jsx)(nq,{disabled:!Z||a,children:(0,I.jsx)(iy.Z,{containerId:"InnerScrollContainer",children:(0,I.jsx)(im.Z,{commerceData:ln,pinId:k.id,size:"sm",surfaceType:"closeup",viewParameter:(0,ep.Z)({hasPin:!!k,hasPinRichMetadata:!!k.rich_metadata,hasPinRichMetadataProducts:!!k.rich_metadata?.products,hasPinRichMetadataArticle:!!k.rich_metadata?.article,hasPinRichMetadataRecipe:!!k.rich_metadata?.recipe,hasPinStoryPinData:!!k.story_pin_data})})})}),l_=lm&&(0,I.jsx)(v.xu,{width:80}),lh=(0,_.useMemo)(()=>(0,I.jsx)(n3,{closeupWithinMasonryEnabled:a,didShortClickThrough:ea,executeClickthrough:eD,handleBackButtonClick:eN,handleSaveButtonClick:eM,isEligibleForStlFlyout:!0,isLimitedLogin:c,isRelatedPins10PercentVisible:ll,maxWidth:lp,orbacActingAs:h,pin:k,pinResource:b,relatedResourceOptions:ls,routePush:C,showRepinOnInitialRender:D,showStructuredDescription:Z,trafficSource:z,trendsData:O,userBusinessRoleResource:U,viewer:H,viewportSize:ei}),[a,ea,eD,eN,eM,c,ll,lp,h,k,b,ls,C,D,Z,z,O,U,H,ei]),lf=(0,I.jsx)(a_,{isVideoPin:eW.isVideoPin,pin:k,pinResource:b,topLevelTrafficSource:eG,didShortClickThrough:ea,firstLoadComplete:eo,viewportSize:ei,relatedModulesContent:ld?(0,I.jsx)(ip,{closeupBody:lh,pinKey:{type:"deprecated",data:k},relatedPinsContainerRef:la,relatedResourceOptions:ls,setRelatedPinsHeaderRef:eK,topLevelTrafficSource:eG,viewParameter:(0,ep.Z)({hasPin:!!k,hasPinRichMetadata:!!k.rich_metadata,hasPinRichMetadataProducts:!!k.rich_metadata?.products,hasPinRichMetadataArticle:!!k.rich_metadata?.article,hasPinRichMetadataRecipe:!!k.rich_metadata?.recipe,hasPinStoryPinData:!!k.story_pin_data}),viewportSize:ei}):(0,I.jsx)(_.Fragment,{}),afterBodyContent:l_,beforeBodyContent:ly,bodyContent:lh,onWrapperClick:eO,backButton:(0,I.jsx)(nF.Z,{onClick:eN}),isProductDetailsExpanded:e0,peekCloseupEnabled:f,setIsCommentAttachmentSelectorOpen:e1,setIsCommentComposerFocused:e6,setIsCommentPopoverInteractionActive:e4,setIsCommentThreadExpanded:e7,setIsCloseupMediaViewerOpen:e9,setIsProductDetailsExpanded:e5,closeupWithinMasonryEnabled:a,setAbortNoActionPlacementTimeout:K});return(0,I.jsx)(aS,{abortNoActionPlacementTimeout:eU,beforeBodyContent:ly,classProps:{...e,location:{pathname:"",search:"",hash:""}},classState:{...e.initialState,pin:k,visualState:ee,didShortClickThrough:ea,didPinClickThrough:e_,firstLoadComplete:eo,intervalId:em,viewportSize:ei,isOverRelatedPins:er},clientTrackingParams:l,commerceData:ln,showCloseupContentRight:lt,showProductDetailPage:!0,paneWidth:lc,maxWidth:lp,descriptionPaneWidth:lg,handleCarouselSwipe:ez,handleFocus:eZ,handleScroll:eB,handleBackButtonClick:eN,closeupContent:lf,isCloseupMediaViewerOpen:e8,isCommentAttachmentSelectorOpen:eY,isCommentComposerFocused:eq,isCommentPopoverInteractionActive:eQ,isCommentThreadExpanded:eJ,isProductDetailsExpanded:e0,peekCloseupEnabled:f,setIsCommentAttachmentSelectorOpen:e1,setIsCommentComposerFocused:e6,setIsCommentPopoverInteractionActive:e4,setIsCommentThreadExpanded:e7,setIsCloseupMediaViewerOpen:e9,setIsProductDetailsExpanded:e5,closeupWithinMasonryEnabled:a,setAbortNoActionPlacementTimeout:K})}let iS=ng(function(e){let{clientTrackingParams:l,pin:a,pinResource:n,pinId:i,viewer:t,deepLinkBackGoesToBoard:r,goBack:s,routePush:o,trafficSource:d}=e,{logContextEvent:u}=(0,ew.u)(),c=(0,nw.Z)(),p=(0,D.ZP)(),g=(0,eC.B)(),m=(0,eg.ru)(),{checkExperiment:y}=m,f=!!(a.is_eligible_for_pdp&&!a.story_pin_data&&a.formatted_description?.components),[k,S]=(0,_.useState)(!1),[v,b]=(0,_.useState)(!1),[P,w]=(0,_.useState)(!1),[F,C]=(0,_.useState)(!1),[j,K]=(0,_.useState)(!1),[A,L]=(0,_.useState)(!1),[R,E]=(0,_.useState)(!1),Z=(0,_.useRef)(null),[M,N]=(0,_.useState)(!1);(0,_.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{N(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),l=Z?.current;return Z?.current&&e.observe(Z?.current),()=>{l&&e.unobserve(l)}},[Z]);let{setMostRecentPinId:z,setMostRecentPinImage:B}=(0,nL.R)(),O=(0,T.Z)({type:"deprecated",data:a}),U=(0,nb.Z)({type:"deprecated",data:a}),V=(0,ec.sY)(a.embed?.type)&&"gif"||!!a.is_eligible_for_pdp&&"productPin"||a.rich_summary?.type_name==="recipe"&&"recipePin"||a.story_pin_data_id&&"storyPin"||!!a.videos?.video_list&&"video"||"image",{conversationOpen:H}=(0,nA.Z)(),W=(0,ay.Z)(),{landingContext:G}=(0,nS.Z)(),$=(0,ld.Z)(),X=(0,eR.lJ)(t,$),Y=a.sponsorship?.sponsor?.id,q=!a.is_repin&&!!Y,Q=(0,eo.Z)(Y&&q&&t.isAuth&&"storyPin"===V?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${Y}/me/ad_accounts_permissions/`}}:null),{onHandleBackButtonClick:J}=nK({logCommerceAuxData:!0,deepLinkBackGoesToBoard:r,element:13310,goBack:s,routePush:o,trafficSource:d,viewer:t,requestContext:g,pinKey:{type:"deprecated",data:a}},u),ee=t.isAuth&&(0,x.Gv)({orbacSubjectId:X,pinIsRepin:a.is_repin,pinPinnerId:a.pinner?.id,viewerId:t.id,viewerIsPartner:t.isPartner}),{data:el,isLoaded:ea}=(0,eo.Z)(ee?{name:"ApiResource",options:{url:`/v3/trends/partner/${t.id||""}/trends_for_pin/${a.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:en}=(0,eS.Z)(),ei=np({pin:a,pinId:i,pinResource:n}),{mainPinImage:et}=(0,nu.Z)({pinKey:{type:"deprecated",data:a}}),er=(0,_.useCallback)(()=>{let e=[],l=y("hfp_gen_ai_topics_opt_out_dweb",{dangerouslySkipActivation:!0}).group;return l&&(["control_pwt","enabled_pwt"].includes(l)&&y("hfp_gen_ai_topics_opt_out_dweb"),"control_pwt"!==l&&e&&!e.includes("pin.gen_ai_topics")&&(e=[...e,"pin.gen_ai_topics"])),e},[y]);return(0,I.jsx)(ix,{...e,abortNoActionPlacementTimeout:k,clientTrackingParams:l,closeupWithinMasonryEnabled:en,conversationOpen:H,dispatch:(0,h.I0)(),experimentsClient:m,getAdditionalFields:er,getSterlingURL:(0,nm.Z)(),getStringifiedCommerceAuxData:O,i18n:p,initialState:ei,isCloseupMediaViewerOpen:R,isCommentAttachmentSelectorOpen:v,isCommentComposerFocused:P,isCommentPopoverInteractionActive:F,isCommentThreadExpanded:j,isProductDetailsExpanded:A,isRelatedPins10PercentVisible:M,landingContext:G,logContextEvent:u,mainImage:et,onHandleBackButtonClick:J,orbacActingAs:$,peekCloseupEnabled:!en,pinFormattedLink:U,pwtSurfaceContext:(0,ac.A)(),relatedPinsContainerRef:Z,requestContext:g,setAbortNoActionPlacementTimeout:S,setIsCloseupMediaViewerOpen:E,setIsCommentAttachmentSelectorOpen:b,setIsCommentComposerFocused:w,setIsCommentPopoverInteractionActive:C,setIsCommentThreadExpanded:K,setIsProductDetailsExpanded:L,setMostRecentPinId:z,setMostRecentPinImage:B,showStructuredDescription:f,toastManager:(0,nT.dI)(),trackInteraction:c,trendsData:{data:el,isLoaded:!ee||ea},userBusinessRoleResource:Q,verticalNavWidth:W})});var iv=a(688170),ib=a(785873),iP=a(669442);function iw(e,l=!1){let a=e||window.location.href;(0,ib.Z)(`/login?next=${l?(0,iP.Z)(a,{type:"signup"}):encodeURIComponent(a)}`)}var iF=a(469978),iT=a(288910),iI=a(990103);let iC=(0,eM.Z)(()=>a.e("8479").then(a.bind(a,702042)),void 0,e=>702042,"app-common-react-components-StatusPin-StatusPinCloseup"),ij=(0,k.Z)(e=>({isVideoPin:!!e&&(0,ec.iR)(e),isYoutubePin:!!e&&(0,ec.oU)({isVideo:e.is_video,link:e.link})}));function iK({checkExperiment:e,clientTrackingParams:l,currentHistoryStack:a,history:n,location:i,params:t,pinResource:r,requestContext:s,searchPinCloseupViewed:o,goToCampaignCreation:d,showRepin:u,closeupComponentToRender:c,...p}){let g=r.data,m=r.isLoaded,y=(0,_.useRef)(null),h=(0,lt.Z)(),f="id"in h?h.id:"",k=m&&g&&g.pinner&&h.isAuth&&h.username===g.pinner.username&&m&&g&&"extension"===g.method,{trafficSource:x,topLevelTrafficSource:S,topLevelTrafficSourceDepth:v,contextPinIds:b}=(0,nB.Z)(a,h.isAuth);v>1&&"pin"!==x&&(0,lb.nP)("p2p.traffic_source.client",{sampleRate:.1,tags:{trafficSource:x,topLevelTrafficSource:S,topLevelTrafficSourceDepth:v}});let P=(0,iv._)(a),w=(0,a3.mB)(i.search);(0,_.useEffect)(()=>{y.current!==g&&function({history:e,isBot:l,location:a,viewerId:n,viewerIsAuth:i}){!l&&n&&"undefined"!=typeof window&&(0,iF.U)(window.location,n,!1,i,l=>e.replace(l,a.state))}({history:n,isBot:s.isBot,location:i,viewerId:f,viewerIsAuth:h.isAuth}),y.current=g},[n,i,y,g,s.isBot,h.isAuth,h,f]),(0,_.useEffect)(()=>()=>{P&&g?.id&&o(g.id,P)},[g?.id,P,o]);let F=(0,_.useMemo)(()=>({viewType:3,viewParameter:(0,ep.Z)({hasPin:!!g,hasPinRichMetadata:!!g?.rich_metadata,hasPinRichMetadataProducts:!!g?.rich_metadata?.products,hasPinRichMetadataArticle:!!g?.rich_metadata?.article,hasPinRichMetadataRecipe:!!g?.rich_metadata?.recipe,hasPinStoryPinData:!!g?.story_pin_data})}),[g]),T=(0,_.useMemo)(()=>({featuredCommentId:t.comment_id||""}),[t.comment_id]),C=(0,_.useMemo)(()=>(function({boardUrl:e,currentHistoryStack:l,history:a,isFromExtension:n=!1,hasViewerPartner:i}){return()=>l.map(e=>{var l;return!!(l=e.location)&&((0,iv.C)(l)||(({pathname:e})=>/^\/pin\/[\w-]+\/activity\/tried\/?$/.test(e))(l))}).find(e=>!0===e)||n?n&&1===l.length?void a.push(e??""):void a.goBack():void(i?a.push("/homefeed/"):a.push("/"))})({boardUrl:g?.board?.url,currentHistoryStack:a,history:n,isFromExtension:!!k,hasViewerPartner:!!("partner"in h&&h.partner)}),[a,n,k,g?.board?.url,h]);return(0,I.jsx)(nW.Q,{value:T,children:(0,I.jsx)(iT.v,{value:F,children:(0,I.jsx)(nG.f,{children:(0,I.jsx)(nH,{children:(0,I.jsx)(li.Ig,{children:(0,I.jsx)(l_.C,{children:(0,I.jsx)(nz,{pinId:t.id||"",pinResource:r,children:({isLandingPage:e,isLimitedLogin:a,didRepin:i,openInbox:s,pin:o,shouldShowInbox:g,updateExperienceForPlacement:m})=>{let y={clientTrackingParams:l,contextPinIds:b,conversation_id:w.conversation_id,deepLinkBackGoesToBoard:k,emailId:w.e_t,forceSendFeedback:w.fsf,goBack:C,goToCampaignCreation:d,messageId:w.message,onLoginClick:iw,pinId:t.id??"",pinResource:r,routePush:n.push,searchQuery:P,senderId:w.sender,showRepinOnInitialRender:u,topLevelTrafficSource:S,topLevelTrafficSourceDepth:v,trafficSource:x,viewer:h,didRepin:i,isLandingPage:e,isLimitedLogin:a,openInbox:s,pin:o,pinDerivedData:ij(o),shouldShowInbox:g,updateExperienceForPlacement:m,...p};switch(c){case"ProductDetailPage":return(0,I.jsx)(iS,{...y});case"CloseupWithStoryPinProducts":return(0,I.jsx)(nZ,{...y});default:return(0,I.jsx)(nD,{...y})}}})})})})})})})}function iA(e){let{pinResource:l}=e,a=l.data,{is_hidden:n,is_unsafe:i}=a||{},t=a?.story_pin_data?.has_product_pins,r=(0,aX.Z)({isHiddenPin:n,isUnsafePin:i});return(0,I.jsx)(iK,{...e,closeupComponentToRender:r&&t?"CloseupWithStoryPinProducts":"CloseupDefault"})}function iL(e){let l=(0,h.I0)(),a=(0,lt.Z)(),n=(0,f.UO)(),i=(0,lr.aX)(),t={...e,history:(0,f.k6)(),location:(0,f.TH)(),params:n,requestContext:(0,eC.B)(),searchPinCloseupViewed:(e,a)=>l((0,iI.Y4)(e,a))},{checkExperiment:r}=(0,eg.ru)(),s=(0,_.useMemo)(()=>{let e=[],l=r("hfp_gen_ai_topics_opt_out_closeup",{dangerouslySkipActivation:!0}).group;return l&&(["control_pwt","enabled_pwt"].includes(l)&&r("hfp_gen_ai_topics_opt_out_closeup"),"control_pwt"===l||e.includes("pin.gen_ai_topics")||(e=[...e,"pin.gen_ai_topics"])),e},[r]);return(0,I.jsx)(nO.Z,{addFields:s,orbacSubjectId:(0,eR.lJ)(a,(0,ld.Z)()),pinId:n.id||"",children:({pinResource:e})=>{let l=e&&e.data;return l&&(0,ec._J)(l.video_status)?(0,I.jsx)(W.bq,{children:(0,I.jsx)(iC,{pinKey:{type:"deprecated",data:l},...t})}):(0,_.createElement)(iA,{...t,key:n.id,checkExperiment:r,currentHistoryStack:i,pinResource:e})}})}},589183:function(e,l,a){a.r(l),a.d(l,{default:()=>p});var n=a(894980),i=a(261458),t=a(980787),r=a(127753),s=a(274320),o=a(341742),d=a(601686),u=a(78187),c=a(785893);function p({filter:e,story:l,viewParameter:a}){let{logContextEvent:p}=(0,t.u)(),{closeupWithinMasonryEnabled:g}=(0,d.x4)(),{checkExperiment:m}=(0,s.ru)(),{custom_properties:y,title:_}=l,{format:h="",args:f=[]}=_||{},{query:k=""}=f[0]||{},x=m("web_skin_tone_filters_closeup_migration",{dangerouslySkipActivation:!0}).anyEnabled,{viewComponentType:S,viewType:v,elementType:b,inInclusiveEfficientRefinements:P,inclusiveFilterParam:w,onClickApplyFilters:F}=(0,i.Z)({filter:e,searchQuery:k,viewParameter:a,closeupSkinToneDataMigration:x});(0,o.Z)(()=>{p({element:b,event_type:13,component:S,view_type:v,view_parameter:a,aux_data:{story_type:S}})});let T=("skin_tone"===e&&x?y?.skin_tone_filter_list:(0,r.ZP)(e,y))||[];if(!T||T.length<1)return null;let I=g?u.P.CLOSEUP_FEED:u.P.CLOSEUP_STACKED,C=P?u.P.CLOSEUP_RESPONSIVE:I,j=g&&!P;return(0,c.jsx)(n.Z,{currentlyAppliedFiltersParamTerm:j?void 0:P?w:void 0,filter:e,filterList:T,headerTitle:h??"",moduleType:j?u.P.CLOSEUP_FEED:C,onClickApplyFilters:F,searchQuery:k,showAuthCloseupWithinMasonry:j,viewParameter:a,viewType:v})}},894980:function(e,l,a){a.d(l,{Z:()=>o});var n=a(20256),i=a(592821),t=a(8258),r=a(78187),s=a(785893);let o=({filter:e,filterList:l,headerTitle:a,searchQuery:o,viewParameter:d,showAuthCloseupWithinMasonry:u=!1,moduleType:c=r.P.CLOSEUP_FEED,currentlyAppliedFiltersParamTerm:p,onClickApplyFilters:g,viewType:m})=>{let y="hair_pattern"===e,_=(0,s.jsx)(t.Z,{currentlyAppliedFiltersParamTerm:p,filters:l,headerTitle:a,moduleType:c,onClickApplyFilters:g,query:y?o:void 0,showHairPatternEducationIcon:y,type:e,viewParameter:d,viewType:m});return u?(0,s.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:i.tc,gap:"12px"}},direction:"column",display:"flex",justifyContent:"center",padding:4,rounding:6,children:_}):_}},261458:function(e,l,a){a.d(l,{Z:()=>d});var n=a(616550),i=a(142689),t=a(980787),r=a(662490),s=a(490186),o=a(940280);let d=({filter:e,searchQuery:l,viewParameter:a,unauthCloseupRedesignEnabled:d=!1,closeupSkinToneDataMigration:u=!1})=>{let{logContextEvent:c}=(0,t.u)(),p=(0,n.k6)(),{pathname:g,search:m}=(0,n.TH)(),y=new URLSearchParams(m).get("f"),{inInclusiveEfficientRefinements:_}=(0,i.Z)(e),h="skin_tone"===e?13863:13864,f="skin_tone"===e?13803:14935,k="skin_tone"===e?10418:13358;return{onClickApplyFilters:n=>{let i=u?n:(0,r.Z)(n,e),t=d?o.i.RS:o.i.TYPED;if(l&&c({element:k,view_type:3,view_parameter:a,event_type:101,component:f,aux_data:{entered_query:l,filter_value:i,story_type:h}}),_){let e=i?`?f=${i}`:"";y&&y===i?p.push(g):p.replace(`${g}${e}`)}else{let e=(0,s.Z)({query:l||"",rs:t||"",scope:"pins",filters:i});p.push(e)}},viewComponentType:h,viewType:3,clickComponentType:f,elementType:k,inInclusiveEfficientRefinements:_,inclusiveFilterParam:y}}},728371:function(e,l,a){a.d(l,{Z:()=>m});var n=a(667294),i=a(633301),t=a(20256),r=a(149739),s=a(525839),o=a(369416),d=a(601686),u=a(238187),c=a(937314),p=a(785893);function g({isDarkMode:e,onPress:l,testID:a,label:n,peekCloseupEnabled:i,withShadow:s}){return(0,p.jsxs)(t.xu,{dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":a,display:"inlineBlock",position:"relative",children:[s&&(0,p.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{background:e?"linear-gradient(90deg, rgba(0, 0, 0, 0) 0%, black 100%)":"linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, white 100%)",right:"100%"}},height:"100%",position:"absolute",width:"48px"}),(0,p.jsx)(t.iP,{fullWidth:!1,onTap:l,children:(0,p.jsxs)(t.xv,{size:i?"200":r.n,weight:"bold",children:[" ... ",n]})})]})}function m({children:e,isDarkMode:l,descriptionDir:a}){let m=(0,n.useRef)(null),[y,_]=(0,n.useState)(0),[h,f]=(0,n.useState)(0),[k,x]=(0,n.useState)(!0),[S,v]=(0,n.useState)(!1),[b,P]=(0,n.useState)(!1),[w,F]=(0,n.useState)(!1),T=(0,s.ZP)(),{closeupWithinMasonryEnabled:I,peekCloseupEnabled:C}=(0,d.x4)(),j=I||C,K=j?1:3,A=600*!!j;(0,n.useEffect)(()=>{if(m.current&&k){let e,l=(0,u.xW)(m.current),a=(e=m.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;v(()=>!!a&&(m.current&&(m.current.style.webkitLineClamp="unset",f(m.current?.scrollHeight??0),m.current.style.webkitLineClamp=K.toString()),!0)),x(!1),F(l>=K&&a),_(m.current?.clientHeight)}},[k,x,K,y,h,S]);let L=`${y}px`,R=`${y+h}px`,E=`
    .TruncatedDescription-enter{
      max-height: ${L};
    }
    .TruncatedDescription-enter-active {
      max-height: ${R};
      transition: max-height ${A}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-enter-done {
      max-height: ${R};
    }
    .TruncatedDescription-exit {
      max-height: ${R};
    }
    .TruncatedDescription-exit-active {
      max-height: ${L};
      transition: max-height ${A}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-exit-done {
      max-height: ${L};
    }
    [data-test-id="truncated-description"] div[role=button] {
      outline-offset: -2px;
      outline-width: 2px;
    }
  `,D=e=>{let a=e?T._('more', 'storyPin.previewText.more', 'Story pin preview more text truncation'):T._('less', 'storyPin.previewText.less', 'Story pin preview less text truncation');return(0,p.jsx)(g,{isDarkMode:l,label:a,onPress:()=>P(e),peekCloseupEnabled:C,testID:`${e?"more":"less"}-description-container`,withShadow:e&&j})},Z=(0,n.useRef)(null);return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(o.Z,{unsafeCSS:E}),(0,p.jsx)(i.Z,{classNames:"TruncatedDescription",in:b,nodeRef:Z,onEnter:()=>v(!1),onExited:()=>v(!0),timeout:A,children:(0,p.jsx)(t.xu,{ref:Z,"data-test-id":"truncated-description",flex:"grow",overflow:j?"hidden":"visible",position:"relative",width:I?"100%":void 0,children:(0,p.jsx)(c.Z,{dir:a,children:(0,p.jsxs)(t.xv,{ref:m,align:"ltr"===a?"forceLeft":void 0,lineClamp:k||S?K:0,size:C?"200":r.n,children:[e,w?(0,p.jsxs)(n.Fragment,{children:[b&&D(!1),(0,p.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:j?"opacity 200ms ease-in-out":void 0,visibility:S?"visible":"hidden"}},opacity:+!!S,position:"absolute",right:!0,children:D(!0)})]}):null]})})})})]})}},998951:function(e,l,a){a.d(l,{Z:()=>n});function n(e){return"string"==typeof e&&("function"==typeof e.replaceAll?e.replaceAll(" ",""):e.replace(/ /g,"")).length>0}},399656:function(e,l,a){a.d(l,{Z:()=>m});var n=a(667294),i=a(642411),t=a(980787),r=a(776250),s=a(67831),o=a(956077),d=a(886981),u=a(431338),c=a(821342),p=a(647709),g=a(653621);function m(e){let{logContextEvent:l}=(0,t.u)(),a=(0,s.A)(),m=(()=>{let e=(0,p.HG)(),{isAuth:l}=(0,c.Z)(),a=l&&e,n=(0,s.A)();return n?e=>{"DEFAULT"!==e&&n.setSegment(e),a&&(({segment:e})=>{let l=(({segment:e})=>g.GL.get(e)??new Set)({segment:e});return new Set([...g.hO].filter(e=>!l.has(e)))})({segment:e}).forEach(e=>{n.removeConstraint(e),(0,o.l7)(e)})}:null})(),y=(0,d.Z)({name:"PinResource",options:(0,i.Z)(e.pinId,e.orbacSubjectId,e.addFields)}),_=y.data,h=(0,u.Z)(null!=_?{type:"deprecated",data:_}:null);return(0,n.useEffect)(()=>{if(!_)return;let e=(0,r.Z)({hasPin:!!_,hasPinRichMetadata:!!_.rich_metadata,hasPinRichMetadataProducts:!!_.rich_metadata?.products,hasPinRichMetadataArticle:!!_.rich_metadata?.article,hasPinRichMetadataRecipe:!!_.rich_metadata?.recipe,hasPinStoryPinData:!!_.story_pin_data});l({event_type:7408,view_parameter:e,object_id_str:_.id,view_type:3,view_data:{pin_id:_.id,closeup_rich_types:_.shopping_flags||[]},aux_data:{...h()}}),_.aggregated_pin_data&&(_.aggregated_pin_data.is_shop_the_look||_.aggregated_pin_data.is_stela)&&l({event_type:7579,view_parameter:e,object_id_str:_.id,view_type:3,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:_.aggregated_pin_data.is_shop_the_look,pin_is_stela:_.aggregated_pin_data.is_stela})}}),(0,o.Nx)("resource"),a&&a.markConstraintComplete("resource");let n="DEFAULT";_.is_eligible_for_pdp?n=_.is_eligible_for_pdp_plus?"product_detail_page_plus":"product_detail_page":_.story_pin_data_id&&(n="story_pin"),"DEFAULT"!==n&&(0,o.Yl)(n),m&&m(n)},[_,h]),e.children({pinResource:y})}},974446:function(e,l,a){a.d(l,{F:()=>A,Z:()=>R});var n,i,t,r,s=a(667294);a(167912);var o=a(20256),d=a(592821),u=a(581722),c=a(821342),p=a(848171),g=a(415546),m=a(801082),y=a(351607),_=a(274320),h=a(886981),f=a(647709),k=a(664897),x=a(85363),S=a(766033),v=a(611499),b=a(601686),P=a(883379),w=a(607233),F=a(78762),T=a(785893);let I=(0,F.Z)(()=>Promise.resolve().then(a.bind(a,431870)),void 0,e=>431870,"app-packages-StructuredFeed-ModuleReps-CarouselModule-CarouselModule"),C=void 0!==n?n:n=a(263032),j=void 0!==i?i:i=a(220149),K=void 0!==t?t:t=a(650719);function A(e){let l=(0,c.Z)(),a=l&&l.isAuth,n=(0,f.HG)(),i=(0,S.Z)(),t=function({pinId:e}){return(0,u.v9)(({pinbuilder:l})=>{if(!e)return null;let{pinItems:a,pinTags:n}=l,i=a?.[e];if(!i)return null;let t=i.pinTagIds??[];if(0===t.length)return null;let r=t.map(e=>n?.[e]).filter(Boolean);return r.length>0?r:null})}({pinId:e}),r=(0,m.Z)({strategy:i?"GRAPHQL":"LEGACY",query:K,variables:{pinId:e,isDesktop:n,isAuth:a},options:{fetchPolicy:t?"store-and-network":"network-only"},useGetLegacyData:({pinId:e})=>{let l=a?`/v3/visual_search/stela/pins/${e}/module/`:`/v3/seo/stela/pins/${e}/module/`;return(0,h.Z)({name:"ApiResource",noCache:!!t,options:{url:l,data:{fields:(0,w.Z)()}}})}}),s=r?.v3GetStelaShoppingCarouselQuery?.__typename==="V3GetStelaShoppingCarousel"?r.v3GetStelaShoppingCarouselQuery:null,o=(0,g.Z)(j,s);return o?o.data:null}let L=({children:e,id:l,storyRef:n,viewParameter:i,pinId:t,hasAutoTags:s})=>{let d=void 0!==r?r:r=a(336209),{contentIds:u,displayOptions:c,slot:p,storyId:m,storyType:_,trackingParams:h}=(0,g.Z)(d,n),f=c?.contentDisplay?.componentType,k=(0,y.ZP)({clientTrackingParams:h,componentType:f,contextLogData:{story_id:m,story_type:_,content_ids:u,has_auto_tags:s,root_pin_id:t},impressionType:"Story",loggingId:m,slotIndex:p||0,viewParameter:i,viewType:3});return(0,T.jsx)(o.xu,{ref:k,marginTop:4,children:e},l)};function R({moduleWidth:e,pinKey:l,trafficSource:a,viewParameter:n}){let{checkExperiment:i}=(0,_.ru)(),{isAuth:t}=(0,c.Z)(),r=(0,S.Z)(),{isEnabled:u}={isEnabled:!1},{closeupWithinMasonryEnabled:m,peekCloseupEnabled:y,viewportSize:h}=(0,b.x4)(),f=(0,g.Z)(C,l),w=(0,P.Z)({skipExpActivation:!0}),F=(0,s.useRef)(null),[j,K]=(0,s.useState)(void 0),R=A(f.entityId),E=R?.[0],D=(f?.collectionPin?.itemData||[]).some(e=>e?.source===7);((0,k.Z)()?s.useEffect:s.useLayoutEffect)(()=>{F.current&&m&&K(Math.floor((F.current.offsetWidth+8)/175))},[R,m,175,F.current?.offsetWidth]);let Z=(0,s.useMemo)(()=>r?null:function(e){let l=e?(0,p.G5)(e):null;return l&&"LegacyData"===l.kind?l.singularLegacyData:null}(E),[r,E]),M=(0,x.Z)({checkExperiment:i,cropSource:5,isProductPage:!0,pinId:f.entityId,requestParams:E?.action?.requestParams??"",surfaceType:"stl",trafficSource:a}),N=y&&"lg"===h,z=(0,s.useMemo)(()=>({buttonSizeOverride:"lg",carouselContainerMarginBottom:m?0:void 0,flexDirection:N?"column":"row",gutterWidth:d.Gd,justifyContent:"start",navigationFabSize:32,showPagination:m}),[m,N]),B=(0,s.useMemo)(()=>m?{type:"inline"}:{type:"classic"},[m]),O=(0,s.useMemo)(()=>{if(!m&&!(y&&"lg"===h))return{};let e={paddingLeft:u?void 0:`${d.Gd}px`};return m?{...e,border:d.tc}:e},[m,y,h,u]);return(0,T.jsx)(s.Fragment,{children:(0,T.jsx)(o.kC,{alignItems:"center",dataTestId:"shopping-module",direction:"column",justifyContent:"center",width:w?"100%":e,children:(0,T.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:O},maxWidth:w?e:void 0,rounding:4*!!m,width:w?"100%":e,children:R?.filter(Boolean).map(e=>{if(null==e)return null;let{action:l,containerType:a,storyId:i}=e;if(139!==a)return null;{let a=e.title?.format||"",r=t&&l?.url?l.url:M;return(0,T.jsx)(L,{hasAutoTags:D,id:i,pinId:f.entityId,storyRef:e,viewParameter:n,children:(0,T.jsx)(o.xu,{ref:F,children:(0,T.jsxs)(o.kC,{direction:"column",gap:2,children:[(0,T.jsx)(o.xu,{marginStart:2,children:(0,T.jsx)(o.X6,{accessibilityLevel:2,align:"start",id:"shop-the-look-heading",size:"400",children:a})}),(0,T.jsx)(I,{addContentRight:(0,T.jsx)(o.xu,{width:v.g9}),allowHover:!0,contentVisibleItemCountOverride:j,dangerouslySetActionUrl:r,disableHeader:!0,itemWidth:m?175:void 0,itemWidthHeightRatio:1,pinKey:f,productTagParentPinId:f.entityId,saveButtonOptions:B,story:Z,storyKey:e,styleOverrides:z,surface:"ShoppingGridSmallCarousel",view:3,viewParameter:n})]})})},i)}})})})})}},115939:function(e,l,a){a.d(l,{Z:()=>r});var n=a(378888);let i=/^\/pin\/(.*[^\/])\/$/,t={"/":"feed_home","/homefeed":"feed_home","/pin/:id":"pin","/pin/:id/comments":"pin","/pin/:id/activity/tried":"pin","/pin/:id/activity/comments":"pin","/pin/:id/visual-search":"flashlight","/discover/article/:id":"explore_article","/discover/article/:title/:id":"explore_article","/topics/:interest":"feed_interest","/categories/:interest":"feed_category","/news_hub/:id":"notifications","/explore/:interest":"seo_auth","/interest/:id":"seo_auth","/search/:scope":"search","/following":"feed_following","/:username/pins":"user_pins","/:username/tried":"user_tries","/:username/:slug":"board","/:username/:slug/edit":"board","/:username/:slug/invite":"board","/:username/:slug/:section_slug":"board","/story_feed":"shop_feed"};function r(e,l){let a=["pin"],r=[],s=1,o="unknown",d="unknown",u=!0;for(let l=e.length-1;l>0;l-=1){let i=function(e,l){if(l<=0)return"unknown";let a=e[l-1],i=a?.match?.path||"",r=["stela","stl"].includes((0,n.mB)(a?.location?.search).surfaceType??"");return i&&"/pin/:id/visual-search"===i&&r?"shop_feed":i?t[i]||"unknown":"feed_home"}(e,l);a.splice(0,0,i),u&&("pin"===(o=i)?s+=1:u=!1)}for(let l=e.length-2;l>=0;l-=1){let a=(e[l]?.location?.pathname||"").match(i);if(a&&2===a.length)r.splice(0,0,a[1].split("/")[0]);else break}return 1===a.length?(d="deep_linking",o="deep_linking"):(d=a[a.length-2],"pin"===o&&(o="deep_linking")),"seo_auth"!==d||l||(d="seo_unauth"),"seo_auth"!==o||l||(o="seo_unauth"),("search"===d||"search"===o)&&e.length>=s+1&&"/search/buyable_pins/"===(e[e.length-s-1]?.location?.pathname||"")&&(o="shop_feed","search"===d&&(d="shop_feed")),{trafficSource:d,topLevelTrafficSource:o,topLevelTrafficSourceDepth:s,contextPinIds:r}}},642411:function(e,l,a){a.d(l,{Z:()=>n});let n=(e,l,a,n)=>({id:e,field_set_key:"auth_web_main_pin",add_fields:a?a.join(","):void 0,client_tracking_params:void 0,noCache:!0,fetch_visual_search_objects:!0,...l?{orbac_subject_id:l}:Object.freeze({}),get_page_metadata:!!n})},449930:function(e,l,a){a.d(l,{ZP:()=>y,fz:()=>g,mg:()=>m,o1:()=>p});var n=a(667294),i=a(592821),t=a(934645),r=a(878709),s=a(974446),o=a(453179),d=a(601686);function u(e){return"object"==typeof e&&null!==e&&"type"in e&&"shopping_module"===e.type}function c(e){return"object"==typeof e&&null!==e&&"type"in e&&"inclusive_filters_module"===e.type}let p=e=>"object"!=typeof e||null===e||!("virtualize"in e)||(e.virtualize??!0),g=(e,l)=>a=>{if(!e&&u(a)||e&&(u(a)||c(a))||l&&(u(a)||c(a)))return{min:2,max:9}};function m(e,l){let a=(0,n.useMemo)(()=>({...i.tm}),[]),t=(0,n.useMemo)(()=>({...i.MB}),[]);return{closeupMasonryModules:(0,n.useMemo)(()=>{if(!e)return[];let n=[a];return l&&n.push(t),n},[e,a,l,t])}}function y({pinId:e,inclusiveModuleToCache:l,showProductDetailPage:a}){let u=(0,s.F)(e),{closeupWithinMasonryEnabled:c}=(0,d.x4)(),{pinAspectRatioType:p}=(0,r.G)(),g=(0,t.Z)({showProductDetailPage:a}),[m,y]=(0,n.useState)(l);!m&&l&&y(l);let _=(0,n.useMemo)(()=>{let e;if(!g)return i.ne;switch(p){case o.oM.TALL:e=i.nD;break;case o.oM.SQUARE:e=i.ZO;break;case o.oM.WIDE:e=i.Sj;break;default:e={}}return{...i.ne,columnSpan:{...i.ne.columnSpan,...e}}},[g,p]),h=(0,n.useMemo)(()=>({...i.tV}),[]),f=(0,n.useMemo)(()=>({...i.MB}),[]),k=u&&u.length>0,x=(0,n.useMemo)(()=>{let e=[_];return k&&e.push(h),m&&e.push(f),e},[_,k,m,h,f]);return c?{closeupMasonryModules:x,hasShoppingModule:k,inclusiveFilters:m}:{closeupMasonryModules:[],inclusiveFilters:void 0}}},142689:function(e,l,a){a.d(l,{Z:()=>t});var n=a(139707),i=a(274320);function t(e){let{checkExperiment:l}=(0,i.ru)(),{sideBySideRedesignFastFollowsEnabled:a}=(0,n.Z)(),t=a&&"skin_tone"===e&&l("web_closeup_inclusive_refinement",{dangerouslySkipActivation:!0}).anyEnabled,r=a&&"hair_pattern"===e&&l("web_closeup_hair_refinement",{dangerouslySkipActivation:!0}).anyEnabled;return{inInclusiveEfficientRefinements:!!(t||r)}}},149739:function(e,l,a){a.d(l,{n:()=>n});let n="300"},736802:function(e,l,a){a.d(l,{Z:()=>r});var n=a(20256),i=a(785893);let t=/^(?!.*#.*#)#[\p{L}\p{N}_]\S*$/gu;function r({closeupWithinMasonryEnabled:e=!1,peekCloseupEnabled:l=!1,mWebCloseupRedesignEnabled:a=!1,text:r}){let s=l||a?"200":"300";return r.split(new RegExp(/(#\S*)/)).map((l,a)=>{let r=`${a}-${l}`;return l.match(t)?(0,i.jsx)(n.xv,{color:"link",inline:!0,size:s,children:(0,i.jsx)(n.rU,{display:"inline",href:`/search/pins/?q=${encodeURIComponent(l.replace("#",""))}`,underline:"none",children:l})},r):(0,i.jsx)(n.xv,{color:e?"subtle":void 0,inline:!0,size:s,children:l},r)})}},569437:function(e,l,a){a.d(l,{Z:()=>c}),a(167912);var n,i=a(30216),t=a(980787),r=a(415546),s=a(817309),o=a(453179),d=a(431338);let u=void 0!==n?n:n=a(394292),c=function({pinKey:e,pinId:l,viewParameter:a,trafficSource:n}){let{logContextEvent:c}=(0,t.u)(),p=(0,r.Z)(u,e),g=(0,i.Z)({pinKey:p}),m=(0,d.Z)(p);return()=>{let e=m();c({event_type:12,object_id_str:l,view_type:3,component:85,view_parameter:a,clientTrackingParams:g,aux_data:{...e,...(0,s.Z)(p?.linkUtmApplicableAndReplaced)}}),c({event_type:8948,clientTrackingParams:g,view_type:3,view_parameter:a,component:85,object_id_str:l,aux_data:{click_type:"clickthrough",closeup_navigation_type:n&&(0,o.sV)(n)?"deeplink":"click",...e}})}}},59929:function(e,l,a){a.d(l,{T:()=>n});let n=new Set(["featured_boards","recipe_video"])},478086:function(e,l,a){a.d(l,{Z:()=>_});var n,i=a(667294);a(244311);var t=a(20256),r=a(471998),s=a(736802),o=a(980787),d=a(415546),u=a(601686),c=a(785893);let p=void 0!==n?n:n=a(658559),g=e=>null!=e&&e>-1,m=({color:e,mention:l,tagObjectId:a,tagType:n,textSize:i})=>{let{logContextEvent:r}=(0,o.u)();return(0,c.jsx)(t.rU,{display:"inlineBlock",href:`/${l.substr(1)}`,onClick:({event:e})=>{e.stopPropagation(),r({event_type:101,element:11915,aux_data:{tag_id:a,tag_type:n}})},underline:"none",children:(0,c.jsx)(t.xv,{color:e,inline:!0,overflow:"normal",size:i,weight:"bold",children:l},l)},a)},y=({color:e,link:l,tagObjectId:a,tagType:n,text:i,textSize:r})=>{let{logContextEvent:s}=(0,o.u)();return(0,c.jsx)(t.rU,{display:"inlineBlock",href:l,onClick:({event:e})=>{e.stopPropagation(),s({event_type:101,element:18123,aux_data:{tag_id:a,tag_type:n,url:l}})},underline:"hover",children:(0,c.jsx)(t.xv,{color:e,inline:!0,overflow:"normal",size:r,weight:"bold",children:i},i)},a)},_=({description:e,mentionLinkColor:l,pinKey:a,shouldAdjustOffset:n,shouldMakeHashtagLinksFromText:o,textSize:_,descriptionLinks:h,userMentionTags:f})=>{let{closeupWithinMasonryEnabled:k,peekCloseupEnabled:x}=(0,u.x4)(),S=(0,d.Z)(p,a),{hyperlinkKeywordsEnabled:v}=(0,r.Z)(),b=f?.length?f.map(e=>({...S?.userMentionTags?.find(l=>l.offset===e.originalOffset),...e})):S?.userMentionTags??[],P=h?.length?h.map(e=>({...S?.descriptionLinks?.find(l=>l.offset===e.originalOffset),...e})):S?.descriptionLinks??[],w=b.length>0,F=v&&P.length>0;if(!w&&!F)return(0,c.jsx)(i.Fragment,{children:e});let T=0,I=[];return[...b.map(l=>({...l,type:"mention",offset:n?((e,l)=>{let a=l.substr(0,e);return(e??0)-(a.length-a.replace(/\s+/g," ").length)})(l.offset??0,e):l.offset??0})),...v?P.map(e=>({...e,type:"link",offset:e.offset??0})):[]].filter(e=>g(e.offset)&&g(e.length)).sort((e,l)=>(e.offset??0)-(l.offset??0)).forEach(a=>{let n=a.offset??0,i=a.length??0,t=e.substr(T,n-T),r=e.substr(n,i);I.push(t),"mention"===a.type?I.push((0,c.jsx)(m,{color:l,mention:r,tagObjectId:a.objectId,tagType:a.tagType,textSize:_})):"link"===a.type&&a.link&&I.push((0,c.jsx)(y,{color:l,link:a.link,tagObjectId:a.objectId,tagType:a.tagType,text:r,textSize:_})),T=n+i}),I.push(e.substr(T)),(o?I.flatMap(e=>"string"!=typeof e?e:(0,s.Z)({closeupWithinMasonryEnabled:k,peekCloseupEnabled:x,text:e})):I).reduce((e,l)=>(0,c.jsxs)(t.xv,{inline:!0,size:_,children:[e,l]}),null)}},374114:function(e,l,a){a.d(l,{Z:()=>i});var n=a(575108);async function i(e,l){let a=async()=>{let e={name:l._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}};return n.Z.create("BoardResource",e).callCreate()},{resource_response:{data:i}}=await a(),t=async l=>n.Z.create("RepinResource",{board_id:l,description:e.description||"",is_removable:e.promotedIsRemovable??void 0,link:e.link,pin_id:e.entityId||"",title:e.title||""}).callCreate({showError:!1});return await t(i.id),i}},713705:function(e,l,a){a.d(l,{i:()=>n,j:()=>i});let n=2,i=236},107797:function(e,l,a){a.d(l,{Z:()=>t});var n=a(20256),i=a(785893);function t({hovered:e,rounding:l}){return(0,i.jsx)(n.xu,{color:"transparentDarkGray",display:e?"block":"none",height:"100%",left:!0,opacity:.2,position:"fixed",rounding:l,top:!0,width:"100%",zIndex:new n.Ry(1)})}},758516:function(e,l,a){a.d(l,{Z:()=>t});var n=a(667294),i=a(785893);let t=({text:e})=>Array.isArray(e)?e.map((e,l)=>(0,i.jsx)(n.Fragment,{children:e},l)):e},757947:function(e,l,a){a.d(l,{Z:()=>u});var n=a(667294),i=a(20256),t=a(980787),r=a(667835),s=a(525839),o=a(647709),d=a(785893);function u({auxData:e,buttonSizeOverride:l,buttonText:a,component:u,contentIds:c,element:p,imageWidth:g,onClick:m,previewImageSrc:y,shape:_="square",storyId:h,storyType:f,url:k,view:x,viewParameter:S,dataTestId:v}){let b="square"===_?4:"circle",P=(0,o.HG)(),w=(0,r.vs)(),{logContextEvent:F}=(0,t.u)(),T=(0,s.ZP)(),I=(0,n.useMemo)(()=>!Number.isNaN(x)&&!Number.isNaN(S)&&!Number.isNaN(u)&&!Number.isNaN(p),[x,S,u,p]),C=l||(g>135&&g<=150?"md":g<=135?"sm":"lg");return(0,n.useEffect)(()=>{I&&F({event_type:120,view_type:x,view_parameter:S,component:u,element:p,aux_data:{content_ids:c,story_id:h,story_type:f,...e}})},[e,c,F,x,S,u,p,I,h,f]),(0,d.jsx)(i.xu,{"data-test-id":"sf-action-item-rep",children:(0,d.jsx)(i.xu,{color:"secondary",height:g,overflow:"hidden",rounding:b,width:g,children:(0,d.jsx)(i.zd,{height:"100%",rounding:b,wash:!0,width:"100%",children:(0,d.jsx)(i.Ee,{alt:T._('Action Item Rep Preview Image', 'actionItemRep.image', 'alt text for a preview image image in action item'),color:"#fff",fit:"cover",naturalHeight:50,naturalWidth:50,src:y,children:(0,d.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.3)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,top:!0,width:"100%",children:(0,d.jsx)(i.ZP,{color:w?"gray":"white",dataTestId:v,href:k,onClick:()=>{I&&F({event_type:P?101:102,view_type:x,view_parameter:S,component:u,element:p,aux_data:{content_ids:c,story_id:h,story_type:f,...e}}),m?.()},size:C,text:a})})})})})})}},385292:function(e,l,a){a.d(l,{Z:()=>D});var n=a(667294),i=a(616550),t=a(20256),r=a(980787),s=a(351607),o=a(107797),d=a(93966),u=a(525839),c=a(452918),p=a(271910),g=a(785893);function m({item:e={},imagePlaceholderColor:l=c.hK,onTap:a,shrink:i=!1}){let r=(0,u.ZP)(),s=e?.cover_images?.[0],m=s?.["236x"],y=i?d.yF/2-16:d.yF;return(0,g.jsx)(t.iP,{onTap:a,children:(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(p.q,{children:({hovered:e,onMouseEnter:a,onMouseLeave:n})=>(0,g.jsx)(t.xu,{"data-test-id":"category-bubble",marginBottom:2,onMouseEnter:a,onMouseLeave:n,children:(0,g.jsxs)(t.zd,{height:y,rounding:"circle",wash:!0,width:y,children:[(0,g.jsx)(o.Z,{hovered:e,rounding:"circle"}),m?.url&&(0,g.jsx)(t.Ee,{alt:r._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),color:l,fit:"cover",naturalHeight:y,naturalWidth:y,src:m.url})]})})}),e?.title?.format&&(0,g.jsx)(t.xu,{width:y,children:(0,g.jsx)(t.xv,{align:"center",weight:"bold",children:e.title.format})})]})})}var y=a(680825),_=a(836795),h=a(621577),f=a(170756),k=a(647709);let x=["170x","192x","200x","236x"],S={7:"search"};var v=a(15667);let b="rgba(17,17,17,0.4)",P="rgba(0,0,0,0)",w=Math.floor(261/173*100),F="pill",T={backgroundColor:"rgba(0, 0, 0, 0.4)"},I={backgroundColor:"rgba(0, 0, 0, 0.6)"};var C=a(790314),j=a(615709),K=a(734075),A=a(442654);let L={1:"start",2:"center"},R=()=>{},E={2:m,3:function({item:e={},onTap:l}){let a=(0,u.ZP)(),{icon:n,text:i}=function(e,l){switch(e){case 2:return{icon:"workflow-status-all",text:l._('Categories', 'NavigationBubble.NavigationIcon.utils', 'Categories navigation button text')};case 3:return{icon:"shopping-bag",text:l._('Stores', 'ExploreArticleRep.NavigationBubble.utils', 'Stores navigation button text')};case 4:return{icon:"terms",text:l._('Your items', 'ExploreArticleRep.NavigationBubble.utils', 'Your items navigation button text')};default:return{icon:null}}}(e?.identifier_icon_type,a);return(0,g.jsx)(t.iP,{onTap:l,rounding:n?5:F,tapStyle:"compress",children:(0,g.jsx)(p.q,{children:({active:l,hovered:a,onMouseEnter:r,onMouseLeave:s,onFocus:u,onBlur:c})=>(0,g.jsxs)(t.xu,{"data-test-id":"navigation-bubble",onBlur:c,onFocus:u,onMouseEnter:r,onMouseLeave:s,rounding:5,children:[n&&(0,g.jsxs)(t.zd,{height:85,rounding:5,wash:!0,width:85,children:[(0,g.jsx)(o.Z,{hovered:a}),(0,g.jsx)(t.xu,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,g.jsx)(t.JO,{accessibilityLabel:i||"",color:"default",icon:n,size:32})})]}),i&&(0,g.jsx)(t.xu,{marginTop:2,width:85,children:(0,g.jsx)(t.xv,{align:"center",weight:"bold",children:i})}),!n&&!i&&e?.title?.format&&(0,g.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e.aux_fields?.button_background_color}},rounding:F,children:(0,g.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:l&&"rgba(0, 0, 0, 0.15)"||a&&"rgba(0, 0, 0, 0.06)"||void 0}},padding:4,rounding:F,children:(0,g.jsx)(t.xv,{align:"center",color:e.aux_fields?.button_text_color==="#ffffff"?"inverse":"default",weight:"normal",children:(0,g.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},maxWidth:d.yF-16,overflow:"hidden",children:e.title.format})})})})]})})})},1:function({item:e={},shrink:l,onTap:a}){let n=(0,k.HG)(),i=!l,r="100%",s=i?.75:.4,o=n||i?4:3,d=e?.cover_images?.[0],u=d?.["236x"],c=(!n||i)&&4||3;return(0,g.jsx)(t.iP,{onTap:a,rounding:o,tapStyle:"compress",children:(0,g.jsx)(p.q,{children:({hovered:l,onMouseEnter:a,onMouseLeave:d})=>(0,g.jsx)(t.xu,{"data-test-id":"search-bubble",onMouseEnter:a,onMouseLeave:d,position:"relative",rounding:o,children:(0,g.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${100*s}%`}},position:"relative",top:!0,width:r,children:(0,g.jsx)(t.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,g.jsx)(t.zd,{height:"100%",rounding:o,width:r,children:u?.url&&(0,g.jsxs)(t.Ee,{alt:"",fit:"cover",naturalHeight:u?.height,naturalWidth:u?.width,role:"presentation",src:u.url,children:[(0,g.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:l?I:T},height:"100%",width:"100%"}),(0,g.jsx)(t.xu,{alignItems:n&&i?"end":"center",display:"flex",height:"100%",justifyContent:n&&i?"start":"center",padding:c,position:"absolute",top:!0,width:r,children:e?.title?.format&&(0,g.jsx)(t.xv,{align:n&&i?"start":"center",color:"light",weight:"bold",children:e.title.format})})]})})})})})})})},4:function({item:e,onTap:l,slotIndex:a}){let{action:n,aux_fields:i,cover_images:r,dominant_colors:s,title:o}=e;if(!o||!r||!n)return null;let d=r.length<=0?[{}]:r.slice(0,2);return(0,g.jsx)(t.iP,{onTap:l,rounding:4,tapStyle:"compress",children:(0,g.jsxs)(t.xu,{alignItems:"center","data-test-id":"style-bubble",display:"flex",height:258,justifyContent:"center",overflow:"hidden",position:"relative",rounding:4,width:K.u,children:[(0,g.jsx)(t.kC,{children:d.map((e,l)=>{let n=e["474x"]?.url||e["736x"]?.url||e["236x"]?.url;return n&&(0,g.jsx)(t.zd,{height:258,wash:!0,width:K.u/d.length,children:(0,g.jsx)(t.Ee,{alt:"",color:(s||[])[l],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:n})},`styleCarousel_bubble${a}_pin${l}`)})}),(0,g.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?.button_background_color}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,g.jsx)(t.xv,{align:"center",weight:"bold",children:(0,g.jsx)("span",{style:{color:i?.button_text_color,margin:"0"},children:o.format})})})]})})},13:({item:e={},onTap:l})=>{let a=(0,u.ZP)(),n=(0,k.HG)(),i=e.action?.url;if(!i)return null;let r=e.curator||{},s=r.full_name||"",o=r.username||"",c=r.image_medium_url||"",p=r.verified_identity?.verified||!1,m=r.is_verified_merchant||!1,[S={},v={}]=e.cover_images||[],b=(0,y.Z)({images:S,resolutionPreferences:x})?.url||"",P=(0,y.Z)({images:v,resolutionPreferences:x})?.url||"",w=n?d.yF:d.tG;return(0,g.jsxs)(t.xu,{"data-test-id":"default-brand-article",width:w,children:[(0,g.jsx)(t.Tg,{accessibilityLabel:"",href:i,onTap:l,rounding:3,children:(0,g.jsxs)(t.xu,{height:157,children:[(0,g.jsx)(t.zd,{height:157,rounding:4,wash:!0,width:w,children:b&&P&&(0,g.jsxs)(t.kC,{children:[(0,g.jsx)(_.Z,{height:157,src:b,width:w/2}),(0,g.jsx)(t.xu,{color:"default",width:1}),(0,g.jsx)(_.Z,{height:157,src:P,width:w/2})]})}),(0,g.jsx)(t.xu,{display:"flex",justifyContent:"center",marginTop:-8,children:(0,g.jsx)(h.Z,{color:"gray",fullName:s||o,size:64,src:c||""})})]})}),(0,g.jsx)(t.xu,{height:40}),s&&(0,g.jsx)(f.Z,{isVerifiedIdentity:p,isVerifiedMerchant:m,name:s}),(0,g.jsx)(t.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:2,width:"100%",children:(0,g.jsx)(t.ZP,{accessibilityLabel:a._('Navigate to a feed of products from this brand', 'StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.linkAccessibilityLabel', 'Accessibility label on a brand article that leads to a feed of products from that brand'),href:i,size:"lg",text:a._('Shop', 'StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.ButtonText', 'Text on a button under a brand article that leads to a feed of products from that brand')})})]})},19:function({item:e,onTap:l,story:a}){let n=(0,k.HG)(),{action:i,cover_images:r,dominant_colors:s,title:o,subtitle:d}=e,u=o?.format;if(!u||!r||!i)return null;let c=n?200:150,p=d?.format||"",m=r.slice(0,3),_=L[a?.display_options?.header_display?.text_alignment||2];return(0,g.jsx)(t.iP,{onTap:l,rounding:4,tapStyle:"compress",children:(0,g.jsxs)(t.xu,{"data-test-id":"triple-preview-display-card",rounding:4,width:"100%",children:[(0,g.jsx)(t.zd,{height:c,rounding:4,wash:!0,width:"100%",children:(0,g.jsx)(t.kC,{alignItems:"stretch",justifyContent:"start",children:m.map((e,l)=>{let a=(0,y.Z)({images:e,resolutionPreferences:["200x","236x","400x"]})?.url||"";return(0,g.jsx)(t.xu,{height:c,width:n?`${100/m.length}%`:A.hk,children:(0,g.jsx)(t.Ee,{alt:"",color:(s||[])[l],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:a})},a)})})}),(0,g.jsxs)(t.xu,{paddingX:2,paddingY:3,children:[(0,g.jsx)(t.kC,{justifyContent:_,children:(0,g.jsx)(t.xv,{align:_,size:"400",weight:"bold",children:u})}),p&&(0,g.jsx)(t.xu,{display:"flex",justifyContent:_,marginTop:1,children:(0,g.jsx)(t.xv,{align:_,color:"subtle",size:n?"200":"100",children:p})})]})]})})},20:function({item:e,onTap:l}){let a=(0,k.HG)(),{action:n,cover_images:i,aux_fields:r,title:s,subtitle:o,dominant_colors:d=[]}=e,u=s?.format||"",{background_color:c}=r||{};if(!u||!i||!n||!c)return null;let p=a?j.m:j.d,m=a?186:160,_=a?126:108,h=a?137:118,f=a?92:80,x=o?.format||"",S=i.slice(0,3).map(e=>(0,y.Z)({images:e,resolutionPreferences:["200x","236x","400x"]})?.url||""),v=(0,C.zI)(c)?"light":"dark";return(0,g.jsx)(t.iP,{onTap:l,rounding:4,tapStyle:"compress",children:(0,g.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:c}},"data-test-id":"stacked-collage-display-card",height:p,overflow:"hidden",rounding:4,width:p,children:(0,g.jsxs)(t.xu,{height:p,padding:2,position:"relative",children:[(0,g.jsxs)(t.xu,{marginBottom:3,marginTop:4,children:[(0,g.jsx)(t.kC,{justifyContent:"center",children:(0,g.jsx)(t.xv,{align:"center",color:v,lineClamp:1,size:"400",weight:"bold",children:u})}),x&&(0,g.jsx)(t.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,g.jsx)(t.xv,{align:"center",color:v,lineClamp:1,size:"100",children:o?.format})})]}),(0,g.jsx)(t.xu,{bottom:!0,left:!0,position:"absolute",children:(0,g.jsx)(t.zd,{height:h,rounding:4,wash:!0,width:f,children:(0,g.jsx)(t.xu,{height:h,width:f,children:(0,g.jsx)(t.Ee,{alt:"",color:d[1],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:S[1]})})})}),(0,g.jsx)(t.xu,{bottom:!0,position:"absolute",right:!0,children:(0,g.jsx)(t.zd,{height:h,rounding:4,wash:!0,width:f,children:(0,g.jsx)(t.xu,{height:h,width:f,children:(0,g.jsx)(t.Ee,{alt:"",color:d[2],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:S[2]})})})}),(0,g.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{bottom:"-22px"}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,g.jsx)(t.zd,{height:m,rounding:4,wash:!0,width:_,children:(0,g.jsx)(t.xu,{height:m,width:_,children:(0,g.jsx)(t.Ee,{alt:"",color:d[0],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:S[0]})})})})]})})})},21:function({item:e,itemWidthHeightRatio:l,slideWidth:a=252,onTap:n}){let{cover_images:i,dominant_colors:r,title:s}=e;if(!s||!i)return null;let o=Math.min(a*(l||.75),240);return(0,g.jsx)(t.iP,{onTap:n,rounding:4,tapStyle:"compress",children:(0,g.jsxs)(t.xu,{borderStyle:"shadow",color:"default",height:o,marginBottom:4,overflow:"hidden",position:"relative",rounding:4,width:a,children:[(0,g.jsx)(t.kC,{alignItems:"stretch",direction:"row",height:o,justifyContent:"start",width:a,children:i.map(e=>e["236x"]?.url&&(0,g.jsx)(t.xu,{height:o,width:a/i.length,children:(0,g.jsx)(t.Ee,{alt:"",color:(r||[])[0],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:e["236x"].url,children:(0,g.jsx)(t.xu,{alignItems:"end",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",height:"100%",width:"100%"})})},e["236x"].url))}),(0,g.jsx)(t.xu,{bottom:!0,marginBottom:3,marginStart:3,position:"absolute",children:(0,g.jsx)(t.xv,{align:"start",color:"light",size:"300",weight:"bold",children:s.format})})]})})},10:function({item:e,onTap:l}){let a=(0,u.ZP)(),{isRTL:n}=(0,v.B)(),{hovered:i,onMouseEnter:r,onMouseLeave:s}=(0,p.Z)(),{action:o,cover_images:d,dominant_colors:c,title:m,subtitle:_}=e,h=m?.format;if(!h||!d||!o)return null;let f="blended_module_type_topics_board_recs"===e.story_type?a._('Ideas for your board', 'pinFeedCard.singleBoard.subtitle', 'Pinfeed Card Single Board Module Subtitle'):_?.format||"",k=d.slice(0,4);return(0,g.jsx)(t.iP,{onMouseEnter:r,onMouseLeave:s,onTap:l,tapStyle:"compress",children:(0,g.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?b:P,border:i?"2px solid #FFFFFF":"2px solid #CDCDCD"}},"data-test-id":"multi-image-article-display-card",marginBottom:0,rounding:4,width:"100%",children:(0,g.jsxs)(t.xu,{marginBottom:5,marginEnd:5,marginStart:5,marginTop:5,children:[(0,g.jsxs)(t.xu,{display:"flex",marginBottom:1,marginEnd:2,marginStart:2,children:[(0,g.jsx)(t.xu,{display:"block",lgDisplay:"none",mdDisplay:"block",smDisplay:"block",children:(0,g.jsx)(t.xv,{size:"200",children:f})}),(0,g.jsx)(t.xu,{display:"none",lgDisplay:"block",mdDisplay:"none",smDisplay:"none",children:(0,g.jsx)(t.xv,{size:"300",children:f})})]}),i&&(0,g.jsx)(t.xu,{left:n,marginEnd:5,marginTop:5,position:"absolute",right:!n,top:!0,children:(0,g.jsx)(t.zx,{size:"lg",text:a._('See more', 'pinFeedCard.singleBoardModal.buttonText', 'Button text to see more ideas')})}),(0,g.jsxs)(t.xu,{display:"flex",marginBottom:3,marginEnd:2,marginStart:2,children:[(0,g.jsx)(t.xu,{display:"block",lgDisplay:"none",mdDisplay:"block",smDisplay:"block",children:(0,g.jsx)(t.xv,{size:"500",weight:"bold",children:h})}),(0,g.jsx)(t.xu,{display:"none",lgDisplay:"block",mdDisplay:"none",smDisplay:"none",children:(0,g.jsx)(t.xv,{size:"600",weight:"bold",children:h})})]}),(0,g.jsx)(t.zd,{rounding:3,children:(0,g.jsxs)(t.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,g.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?b:P}},left:!0,position:"absolute",right:!0,top:!0}),k.map((e,l)=>{let a=(0,y.Z)({images:e,resolutionPreferences:["200x","236x","400x"]})?.url||"",n=(0,y.Z)({images:e,resolutionPreferences:["200x"]})?.url,r=(0,y.Z)({images:e,resolutionPreferences:["474x"]})?.url,s=(0,y.Z)({images:e,resolutionPreferences:["736x"]})?.url,o=[n?`${n} 1x`:"",r?`${r} 2x`:"",s?`${s} 3x`:""].filter(Boolean).join(", ");return(0,g.jsx)(t.sg,{span:3,children:(0,g.jsxs)(t.kC,{children:[l>0&&(0,g.jsx)(t.xu,{color:"default",width:2}),(0,g.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${w}%`}},position:"relative",width:"100%",children:(0,g.jsxs)(t.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,g.jsx)(t.Ee,{alt:"",color:(c||[])[l],fit:"cover",naturalHeight:261,naturalWidth:173,role:"presentation",src:a,srcSet:o}),(0,g.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?b:P}},left:!0,position:"absolute",right:!0,top:!0})]})},a)]})},`img-display-box-${a}`)})]})})]})})})},34:function({item:e,onTap:l,slotIndex:a}){let[i,r]=(0,n.useState)(!1),s=(0,u.ZP)();if(!e)return null;let{identifier_icon_type:o,title:d}=e||{},c=o?S[o]:null;return(0,g.jsx)(t.iP,{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onTap:l,role:"button",rounding:3,tapStyle:"none",children:(0,g.jsx)(t.xu,{alignItems:"center",color:i?"darkWash":"secondary",display:"flex",height:43,rounding:3,children:(0,g.jsxs)(t.xu,{alignItems:"center",display:"flex",margin:3,children:[(0,g.jsx)(t.xu,{marginEnd:2,children:(0,g.jsx)(t.JO,{accessibilityLabel:s._('Related search link', 'RelatedSearch.searchIcon.accessibilityLabel', 'Accessibility label for the search icon in each related search link'),icon:c})}),(0,g.jsx)(t.xv,{align:"start",lineClamp:1,children:d.format})]})})},`icon-and-text-bubble-${a}`)}};function D(e){let{auxData:l,component:a,slotIndex:o,item:d,showExpandedHeader:u,story:c,view:p,viewParameter:y}=e,{display_options:_,story_type:h,id:f,content_ids:k,tracking_params:x}=c||{},{aux_fields:S}=d||{},{query:v}=S||{},{logContextEvent:b}=(0,r.u)(),P=(0,i.k6)(),w=d?.id;d.story_type=h;let F=(0,n.useMemo)(()=>({story_type:h,story_id:f,content_ids:k,article_id:w,query:v,...l}),[w,l,k,f,v,h]),T=(0,s.ZP)({componentType:a,contextLogData:F,impressionType:"Article",loggingId:w,objectIdStr:w,slotIndex:o,viewParameter:y,viewType:p}),I=u?_?.item_view_rep_style?.expanded_explore_article_rep_style:_?.item_view_rep_style?.explore_article_rep_style,{action:C}=d||{},{url:j=""}=C||{},K=Object.hasOwnProperty.call(E,I)?E[I]:m,A=u?R:()=>{P.push(j),b({event_type:101,component:a,view_type:p,view_parameter:y,aux_data:F,clientTrackingParams:x})},L=_?.num_columns_requested===1;return(0,g.jsx)(t.xu,{ref:T,children:(0,g.jsx)(K,{...e,onTap:A,shrink:L})})}},615709:function(e,l,a){a.d(l,{d:()=>n,m:()=>i});let n=216,i=258},734075:function(e,l,a){a.d(l,{u:()=>n});let n=369},442654:function(e,l,a){a.d(l,{Gd:()=>i,d:()=>t,hk:()=>n});let n=108,i=324,t=372},413796:function(e,l,a){a.d(l,{lf:()=>i,wg:()=>t,xR:()=>n});let n=299,i=270,t=232},340228:function(e,l,a){a.d(l,{Z:()=>_});var n=a(667294),i=a(20256),t=a(980787),r=a(5080);function s(e,l,a){return{backgroundColor:`rgba(${e.join(", ")}, ${a||l?r.a$:r.Ql})`,marginRight:l?"2px":"0px",marginLeft:l?"2px":"0px"}}var o=a(413796),d=a(953939),u=a(785893);function c(){return(0,u.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.03)"}},left:!0,position:"absolute",right:!0,rounding:r.N3,top:!0})}var p=a(797365),g=a(647709);let m={1:function(e){let{pinCards:l,isClicked:a,isHovered:n,item:t={},story:m}=e,y=(0,g.HG)(),_=(0,p.Z)(),h=m&&m.objects?.length,{board_name:f,header_text:k,top_image_dominant_color_rgb:x}=t,S=a?106:110,v=a?o.xR-4:o.xR;y||(S=90,v=1===h?"100%":_?o.wg:o.lf);let b=155;return y||(b=_?108:148),(0,u.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:s(x,a,n)},display:"flex",height:S,paddingY:2,position:"relative",rounding:r.N3,width:v,children:[(0,u.jsx)(c,{}),(0,u.jsx)(i.xu,{position:"relative",width:y?112:100,children:l.map((e,l)=>(0,u.jsx)(d.Z,{card:e,fanOut:n||a,index:l,size:y?"SMALL":"MOBILE"},l))}),(0,u.jsxs)(i.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:y?2:3,width:b,children:[(0,u.jsx)(i.xv,{size:y?"200":"100",children:k}),(0,u.jsx)(i.xv,{lineClamp:2,size:"400",weight:"bold",children:f})]})]})},3:function(e){let{pinCards:l,isClicked:a,isHovered:n,item:t}=e,{board_name:o,top_image_dominant_color_rgb:p}=t;return(0,u.jsxs)(i.xu,{alignItems:"end",dangerouslySetInlineStyle:{__style:s(p,a,n)},display:"flex",height:a?165:169,justifyContent:"center",paddingX:4,paddingY:3,position:"relative",rounding:r.N3,width:a?232:236,children:[(0,u.jsx)(c,{}),l.map((e,l)=>(0,u.jsx)(d.Z,{card:e,fanOut:n||a,index:l,size:"DEFAULT"},l)),(0,u.jsx)(i.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:o})]})},4:function(e){let{logContextEvent:l}=(0,t.u)(),{pinCards:a,isHovered:n,item:o,view:p,viewParameter:g}=e,{action:m,board_name:y,header_text:_,ideas_deep_link_url:h,top_image_dominant_color_rgb:f}=o,k=m?.url??h.concat("?ideas_referrer=25");return(0,u.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:s(f,!1,n)},direction:"column",display:"flex",justifyContent:"end",marginBottom:6,minHeight:377,paddingX:4,paddingY:8,position:"relative",rounding:r.N3,width:236,children:[a.map((e,l)=>(0,u.jsx)(d.Z,{card:e,fanOut:n,index:l,size:"LARGE"},l)),(0,u.jsx)(i.xu,{height:168,width:"100%"}),(0,u.jsx)(c,{}),(0,u.jsxs)(i.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"end",children:[(0,u.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:5,marginTop:5,children:[(0,u.jsx)(i.xu,{marginBottom:1,children:(0,u.jsx)(i.xv,{size:"200",weight:"bold",children:_})}),(0,u.jsx)(i.xv,{align:"center",size:"500",weight:"bold",children:y})]}),(0,u.jsx)(i.xu,{display:"flex",justifyContent:"center",marginTop:1,position:"relative",width:"100%",children:(0,u.jsx)(i.ZP,{color:"white",href:k,onClick:({event:e})=>{e.stopPropagation(),l({event_type:101,view_type:p,view_parameter:g,component:14268,element:13002,object_id_str:o.board_id})},size:"lg",text:"Explore"})})]})]})}},y=["100%","60%"];function _(e){let{component:l,isInViewOrNext:a,item:{action:s,board_id:o,ideas_deep_link_url:d,images:c,image_dominant_color_rgb:p},slotIndex:_,story:h={},view:f,viewParameter:k}=e,{logContextEvent:x}=(0,t.u)(),S=(0,g.ZP)(),{display_options:v,objects:b}=h,P=b?.length,[w,F]=(0,n.useState)(!1),[T,I]=(0,n.useState)(!1),[C,j]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if("desktop"===S){let e=setTimeout(()=>j(!0),700);return()=>{clearTimeout(e)}}},[S]);let K=[],A="desktop"!==S?r.mS:r.S$;(a||"desktop"!==S)&&(K=C?[...c[A]]:[c[A][0]]);let L=3-K.length;for(let e=0;e<L;e+=1)K.push({colorRGB:p,opacity:y[e]});K.reverse();let R=v?.item_view_rep_style?.more_ideas_rep_style,E=m[R],D=l||r.kx[R],Z=s?.url??d.concat("?ideas_referrer=25");return E&&(0,u.jsx)(i.Tg,{href:Z,onMouseDown:()=>I(!0),onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),onTap:()=>x({event_type:101,view_type:f,view_parameter:k,component:D,element:13002,object_id_str:o,aux_data:{index:_,total_object_count:P}}),children:(0,u.jsx)(E,{isClicked:T,isHovered:w,pinCards:K,...e})})}},733029:function(e,l,a){a.d(l,{Z:()=>v}),a(167912);var n,i=a(616550),t=a(20256),r=a(592821),s=a(415546),o=a(93966),d=a(210811),u=a(15667),c=a(361055),p=a(378888),g=a(647709),m=a(601686),y=a(845421),_=a(785893);let h=void 0!==n?n:n=a(940477),f=new Set(["board_shop_tool_module","shopping_module_closeup","product_pins","shopping_list","shop_tab_upsell"]),k=new Set(["product_tagged_shopping_module_upsell"]),x=new Set(["blended_module_type_recently_saved_organic","recipe_video","p2p_recipe_video","beauty_video"]),S=new Set([90,139]);function v(e){let{pins_display:l}=(0,p.mB)((0,i.TH)().search),{auxData:a,carouselModulePinKey:n,component:v,forcedHover:b,hidePinBetterSaveDropdown:P,imageWidth:w,isInDesktopCarousel:F,isInMobileCarousel:T,item:I,itemWidthHeightRatio:C,pinKey:j,productTagParentPinId:K,resolution:A,saveButtonOptions:L,slideWidth:R,slotIndex:E,story:D,surface:Z,view:M,viewParameter:N}=e,z=(0,s.Z)(h,j),B=z||I,{isAuthenticated:O}=(0,u.B)(),U=w??o.yF,V="desktop"===(0,g.ZP)(),H=V?U:o.tG,{peekCloseupEnabled:W,viewportSize:G}=(0,m.x4)();if(!B)return null;let{story_type:$,container_type:X,id:Y,content_ids:q,display_options:Q,user:J}=D||{},ee=Q?.content_display?.pins_display,el=C??Q?.content_display?.item_width_height_ratio,{debug:ea}=B,en=z?.entityId||I?.id,ei=z?.trackingParams||I?.tracking_params,et=![3,1,2].includes(ee??Number(l))||!x.has($)&&S.has(X),er={story_type:$,story_id:Y,content_ids:q,grid_index:E,pin_id:en,...a},es=Z&&["ShoppingGridSmallCarousel"].includes(Z)?Z:D?.story_type&&["recipe_video","p2p_recipe_video","beauty_video"].includes(D.story_type)?"VideoCarouselModule":D?.display_options?.content_display?.pins_display===2&&90===D.container_type&&D?.display_options?.content_display?.grid_layout?.cols!==-1?"ShoppingCarousel":D?.shop_source||f.has(D?.story_type)||D?.display_options?.content_display?.pins_display===2?D?.story_type==="search_3p_ad_only_module"?"SearchAdsOnlyModule":"ShoppingDynamicHeightGrid":Z||"StoryFeedNonProduct",eo={auxData:er,componentType:Q?.content_display?.component_type??v,isInFullWidthStory:!!D?.custom_properties?.is_full_width,impressionData:er,pinId:en,slotIndex:E,trackingParams:ei,viewData:{pin_id:en},viewParameter:N,viewType:M??3},ed={disableHover:!V,forcedHover:b,hidePinBetterSaveDropdown:P,pinImageCrop:et?{width:H,height:H}:el?{width:H,height:H*el}:null,pinOwner:k.has($)&&J?J:null,carouselModulePinKey:n,productTagParentPinId:K,resolution:A,saveButtonOptions:L,showSavedOverlay:!!D?.display_options?.pin_display_options?.show_saved_overlay,surface:es},eu={duploDisablePinCardPadding:T,duploIsSquarePin:(!V||!O)&&et,duploQueryRef:z,pinKey:z,isInDesktopCarousel:!!F,trafficSource:["ShoppingDynamicHeightGrid","SearchAdsOnlyModule"].includes(es)?"shop_feed":void 0},ec=(0,_.jsxs)(t.xu,{"data-grid-item":"true","data-test-id":d.Kb,children:[(0,_.jsx)(y.ZP,{...eo,...ed,...eu}),ea&&(0,_.jsx)(c.W,{data:ea})]}),ep=T?R:H;return((0,r.rt)({peekCloseupEnabled:W,viewportSize:G,surface:es})&&(ep=void 0),et)?(0,_.jsx)(t.xu,{flex:"none",width:ep,children:ec},en):ec}},836795:function(e,l,a){a.d(l,{Z:()=>t});var n=a(20256),i=a(785893);function t({height:e,width:l,src:a}){return(0,i.jsx)(n.xu,{height:e,width:l,children:(0,i.jsx)(n.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:e,naturalWidth:l,role:"presentation",src:a})})}},774937:function(e,l,a){a.d(l,{Z:()=>h});var n=a(667294),i=a(616550),t=a(20256),r=a(980787),s=a(351607),o=a(93966),d=a(621577),u=a(170756),c=a(452918),p=a(785893);let g=.4*o.yF,m=.75*o.yF;var y=a(836795);let _={5:({item:e,imagePlaceholderColor:l=c.hK})=>{let{username:a,image_large_url:n,full_name:i,is_verified_merchant:r=!1,verified_identity:s}=e;return(0,p.jsxs)(t.xu,{width:o.yF,children:[(0,p.jsx)(t.xu,{display:"flex",justifyContent:"center",marginBottom:2,children:(0,p.jsx)(d.Z,{color:l,fullName:i||a,size:120,src:n||""})}),i&&(0,p.jsx)(u.Z,{isVerifiedIdentity:!!s?.verified,isVerifiedMerchant:r,name:i})]})},1:({item:e={},story:l,imagePlaceholderColor:a=c.hK})=>{let{username:n,image_large_url:i,full_name:r,id:s,is_verified_merchant:_=!1,verified_identity:h}=e,f=l?.custom_properties?.preview_image_map?.[s]?.[0]||"";return(0,p.jsxs)(t.xu,{height:o.yF,width:o.yF,children:[(0,p.jsx)(t.zd,{height:m,rounding:4,wash:!0,width:o.yF,children:(0,p.jsx)(y.Z,{height:o.yF,src:f,width:o.yF})}),(0,p.jsx)(t.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:-12,children:(0,p.jsx)(d.Z,{color:a,fullName:r||n,size:g,src:i||""})}),r&&(0,p.jsx)(u.Z,{isVerifiedIdentity:!!h?.verified,isVerifiedMerchant:_,name:r})]})},2:({item:e={},story:l})=>{let{username:a,image_large_url:n,full_name:i,id:r,is_verified_merchant:s=!1,verified_identity:c}=e,[_="",h=""]=l?.custom_properties?.preview_image_map?.[r]||[];return(0,p.jsxs)(t.xu,{width:o.yF,children:[(0,p.jsxs)(t.xu,{height:o.yF,children:[(0,p.jsx)(t.zd,{height:m,rounding:4,wash:!0,width:o.yF,children:(0,p.jsxs)(t.kC,{children:[(0,p.jsx)(y.Z,{height:o.yF,src:_,width:o.yF/2}),(0,p.jsx)(t.xu,{color:"default",width:2}),(0,p.jsx)(y.Z,{height:o.yF,src:h,width:o.yF/2})]})}),(0,p.jsx)(t.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:-12,children:(0,p.jsx)(d.Z,{color:"gray",fullName:i||a,size:g,src:n||""})})]}),i&&(0,p.jsx)(u.Z,{isVerifiedIdentity:!!c?.verified,isVerifiedMerchant:s,name:i})]})}};function h(e){let{logContextEvent:l}=(0,r.u)(),a=(0,i.k6)(),{story:o={},slotIndex:d,auxData:u,component:c,view:g,viewParameter:m,item:y}=e,h=_[o.display_options?.item_view_rep_style?.user_rep_style||5],f=(0,n.useMemo)(()=>({story_type:o.story_type,story_id:o.id,content_ids:o.content_ids,user_id:y.id,...u}),[y,o,u]),k=(0,s.ZP)({contextLogData:f,impressionType:"User",loggingId:y.id,objectIdStr:y.id,slotIndex:d,viewParameter:m,viewType:g});return h?(0,p.jsx)(t.iP,{ref:k,onTap:()=>{l({event_type:101,view_type:g,view_parameter:m,component:c,aux_data:f}),a.push(`/${y.username}`)},children:(0,p.jsx)(h,{...e})}):null}},621577:function(e,l,a){a.d(l,{Z:()=>d});var n=a(20256),i=a(107797),t=a(525839),r=a(302148),s=a(271910),o=a(785893);function d({color:e,fullName:l,size:a,src:d}){let u=(0,t.ZP)();return(0,o.jsx)(s.q,{children:({hovered:t,onMouseEnter:s,onMouseLeave:c})=>(0,o.jsx)(n.xu,{"data-test-id":"category-bubble",marginBottom:2,onMouseEnter:s,onMouseLeave:c,children:(0,o.jsxs)(n.zd,{height:a,rounding:"circle",wash:!0,width:a,children:[(0,o.jsx)(i.Z,{hovered:t,rounding:"circle"}),(0,o.jsx)(n.Ee,{alt:(0,r.nk)(u._('Logo of {{ fullName }}', 'itemRep.userRep.brandLogo', 'Alt text for the brand logo'),{fullName:l}).join(""),color:e,naturalHeight:a,naturalWidth:a,src:d})]})})})}},170756:function(e,l,a){a.d(l,{Z:()=>r});var n=a(20256),i=a(280670),t=a(785893);function r({name:e,isVerifiedIdentity:l,isVerifiedMerchant:a}){return(0,t.jsxs)(n.kC,{alignContent:"center",alignItems:"stretch",gap:1,justifyContent:"center",children:[e&&(0,t.jsx)(n.xv,{inline:!0,weight:"bold",children:e}),(0,t.jsx)(i.Z,{isVerifiedIdentity:l,isVerifiedMerchant:a,size:"sm"})]})}},634232:function(e,l,a){a.d(l,{Z:()=>v}),a(167912);var n,i,t,r=a(20256),s=a(521009),o=a(415546),d=a(385292),u=a(340228),c=a(733029),p=a(774937),g=a(572227),m=a(222401),y=a(845421),_=a(171889),h=a(881207),f=a(785893);let k=void 0!==n?n:n=a(290528),x=void 0!==i?i:i=a(141704),S=void 0!==t?t:t=a(403983);function v(e){let{pinKey:l,boardKey:a,relatedInterestKey:n,item:i,...t}=e,v=(0,o.Z)(k,l),b=(0,o.Z)(x,a),P=(0,o.Z)(S,n),w=(0,g.Z)(),F=(0,s.Z)(),{slotIndex:T,view:I,viewParameter:C,surface:j,...K}=t;if(v)if(v?.entityId&&I)return(0,f.jsx)(y.rX,{pinId:v.entityId,pinKey:v,slotIndex:T,viewType:I,...K});else return null;if(b){if(b?.entityId&&I)return(0,f.jsx)(r.xu,{marginBottom:2,marginTop:2,width:t.imageWidth,children:(0,f.jsx)(m.default,{...t,boardKey:b,isCollaboratorsAttributionVisible:!0,isUsingMask:!0,showFollowButton:!1,slotIndex:T,type:"full",viewParameter:C??void 0,viewType:I})})}else if(P){let e=P.imageSpec236x?[{"236x":{url:P.imageSpec236x[0]?.url}}]:void 0,l=P.imageSpec474x?[{"474x":{url:P.imageSpec474x[0]?.url}}]:void 0,a=I??442,n=P.klpUrl??"";return(0,f.jsx)(_.Z,{height:80,images:e||l||[],lineClamp:4,onTap:()=>{F({event_type:102,component:39,element:216,object_id_str:n,view_type:a,view_parameter:C??3897,aux_data:{current_page_url:h.cU}}),w({action:"click",item:"related-interests"})},title:P.name??"",url:n,variant:"standard",viewParameter:C??3897,viewType:a,width:250})}else switch(i?.type){case"pin":return(0,f.jsx)(c.Z,{...t,item:i,pinKey:null});case"user":return(0,f.jsx)(p.Z,{...t,item:i});case"board":return(0,f.jsx)(r.xu,{marginBottom:2,marginTop:2,width:t.imageWidth,children:(0,f.jsx)(m.default,{...t,boardKey:{type:"deprecated",data:i},isAttributionHeightUnfixed:!0,isCollaboratorsAttributionVisible:!0,showFollowButton:!1,slotIndex:T,type:"full",viewParameter:C??void 0,viewType:I??5})});case"board_more_ideas_feed_upsell":return(0,f.jsx)(u.Z,{...t,item:i});case"explorearticle":return(0,f.jsx)(d.Z,{...t,item:i});case"interest":return(0,f.jsx)(_.Z,{height:80,images:i.imageWidth&&i.imageUrl?[{[`${i.imageWidth}x`]:{url:i.imageUrl}}]:[],lineClamp:4,onTap:i.handleClick,title:i.name??"",url:i.url??"",variant:"standard",viewParameter:3897,viewType:I??442,width:250});default:return null}}},452918:function(e,l,a){a.d(l,{g5:()=>r,hK:()=>i,mT:()=>t});var n=a(733029);let i="lightGray",t=8,r={itemRep:n.Z,shape:"square",getImage:()=>""}},431870:function(e,l,a){a.r(l),a.d(l,{default:()=>G});var n,i,t=a(667294),r=a(581722);a(167912);var s=a(20256),o=a(592821),d=a(59929),u=a(980787),c=a(467925),p=a(475498),g=a(221020),m=a(415546),y=a(93966),_=a(525839),h=a(274320),f=a(757947),k=a(615709),x=a(734075),S=a(442654),v=a(5080),b=a(413796),P=a(634232),w=a(932088),F=a(207729),T=a(797365),I=a(284660),C=a(87853),j=a(647709),K=a(271910),A=a(601686),L=a(300685),R=a(448372),E=a(458684),D=a(828942),Z=a(712172),M=a(244526),N=a(589583),z=a(74459),B=a(785893);let O=new Set([3,4]),U=new Set([1]),V=void 0!==n?n:n=a(907590),H=void 0!==i?i:i=a(616602);function W({moduleWidth:e,totalObjectCount:l,gutterWidth:a,defaultItemWidth:n,paddingX:i=0}){return Math.min(l,Math.floor((e-i+a)/(n+a)))}function G(e){let l,a,n,i,{addContentRight:G,allowHover:$,carouselSlidersContextLogData:X={},component:Y,componentFallback:q,contentVisibleItemCountOverride:Q,dangerouslySetActionUrl:J,disableHeader:ee,disableTransition:el,enablePageScrollOverride:ea,fadeCarouselEdges:en,handleActionButtonClick:ei,hidePinBetterSaveDropdown:et,impressionType:er,initialSlideIndex:es=0,initialSlotIndex:eo=0,itemWidth:ed,itemWidthHeightRatio:eu,productTagParentPinId:ec,resolution:ep,saveButtonOptions:eg,setSlideIndexOverride:em,siblingNodeForcesHoverOnItemRep:ey,slideIndexOverride:e_,itemRepSiblingNodeFactories:eh,story:ef,storyKey:ek,styleOverrides:ex,surface:eS,view:ev,viewParameter:eb,width:eP,rows:ew,headerDisplayOptions:eF,pinKey:eT}=e,{experimentalColumnWidth:eI}=(0,c.Z)(),{peekCloseupEnabled:eC,viewportSize:ej}=(0,A.x4)(),eK=(0,o.rt)({peekCloseupEnabled:eC,viewportSize:ej,surface:eS}),eA=ek&&"GraphQL"===(0,g.o)(ek),eL=(0,m.Z)(H,eT),eR=eL?.collectionPin?.itemData,eE=(0,m.Z)(V,ek),eD=(0,M.$)(),[eZ,eM]=(0,t.useState)(es),eN=e_??eZ,ez=em??eM,eB=(0,t.useRef)(null),[eO,eU]=(0,t.useState)(null),eV=(0,I.Z)(),eH=(0,T.Z)(),eW=(0,j.ZP)(),eG=(0,j.ds)(eW),e$=(0,j.dA)(eW),[eX,eY]=(0,t.useState)(!1),eq=(0,_.ZP)(),{checkExperiment:eQ}=(0,h.FJ)(),eJ=(0,t.useCallback)(e=>{e?.parentElement&&eU(e?.parentElement)},[]),e0=(0,r.v9)(({boards:e})=>e[ef?.aux_fields?.board_id]),e1=(0,C.dI)(),{logContextEvent:e2}=(0,u.u)(),e3=eO?.clientWidth??0,[e6,e4]=(0,t.useState)(0),e7=(0,z.Z)();if((0,t.useEffect)(()=>{if(eO){let e=eO.getBoundingClientRect().left;0===e6&&e>0&&e4(e)}},[eO,e3,e6]),!eE?.objects)return null;let e5=eE.displayOptions?.contentDisplay?.componentType??q,e8=en||eE.displayOptions?.carouselFadeEnds===1,e9=eE.objects.length,le={carouselSlots:eE.objects.filter(e=>null!==e).map(e=>{let l,a;switch(e.__typename){case"Pin":l=e.title,a=e.entityId;break;case"Story":a=e.storyId,l=e.storyTitle?.format;break;case"Board":a=e.entityId,l=e.name;break;case"BoardMoreIdeasFeedUpsell":a=e.boardMoreIdeasFeedUpsellId,l=e.boardMoreIdeasFeedUpsellName;break;case"User":a=e.entityId,l=e.username;break;case"ExploreArticle":a=e.entityId,l=e.exploreArticleTitle?.format}return{title:l,id:a}}),entityId:"",index:eN},ll=eE.action?.text,la=eE.action?.url,ln=eE.action?.location,li=J??la,lt={backgroundColor:"secondary",hoverColor:"secondary",iconColor:"subtle",size:32},lr=eE.displayOptions?.itemViewRepStyle?.moreIdeasRepStyle,ls=null!=lr?v.kx[lr]:null,lo=eE.displayOptions?.itemViewRepStyle?.exploreArticleRepStyle===4,ld=eE.displayOptions?.itemViewRepStyle?.exploreArticleRepStyle===21,lu=eE.displayOptions?.contentDisplay?.componentType===13698,lc=14339===e5,lp=eE.displayOptions?.itemViewRepStyle?.exploreArticleRepStyle===19,lg=eE.displayOptions?.itemViewRepStyle?.exploreArticleRepStyle===20,lm=eE.displayOptions?.headerDisplay?.expandedTextAlignment!==null,ly=eE.displayOptions?.headerDisplay?.thumbnail?.thumbnailUrl&&eE.displayOptions?.headerDisplay?.thumbnail?.thumbnailWidth,l_=ea??eE.displayOptions?.contentDisplay?.carouselScrollingMode===3,lh="recommended_boards_module"===eE.storyType,lf="related_interests_module"===eE.storyType,lk=eE.displayOptions?.contentDisplay?.carouselDisplayOptions?.navigationType,lx=eG&&(0===lk&&!eK||lh||lf),lS=eG&&1===lk,lv=(ef?.display_options?.num_columns_requested??0)>1,lb="recently_viewed"===eE.storyType,lP="search_3p_ad_only_module"===eE.storyType,lw="board_shop_tool_module"===eE.storyType,lF="blended_module_type_recently_saved_organic"===eE.storyType,lT="shop_tool_saved_products_module"===eE.storyType,lI="recipe_video"===eE.storyType,lC="p2p_recipe_video"===eE.storyType,lj="beauty_video"===eE.storyType,lK=lw&&!ef?.custom_properties?.is_full_width,lA=lT||lb||lF||lK||lv||lI||lC||lj,lL=!!(eE.storyType&&d.T.has(eE.storyType)),lR=ex?.headerMarginTop??4*!!lA,lE=ex?.headerMarginBottom??0;lP&&(lE=3);let lD=ex?.headerMarginX??6*!!lA,lZ=ex?.carouselPaddingX??16*!!lA,lM=ex?.showModuleBorder??lA,lN=ex?.gutterWidth??y.Az,lz={backgroundColor:"default",borderStyle:"shadow",hoverColor:"default",iconColor:"default",moduleHovered:$&&eX,showFab:!0,size:ex?.navigationFabSize??(lA||lw||lT?32:void 0),opacity:ex?.navigationFabOpacity},{mobile:lB,web:lO}=eE.displayOptions?.contentDisplay?.contentVisibleItemCount||{},lU=eI||y.yF,lV=eV?y.tG:lU;if(eG){let e=eE.displayOptions?.contentDisplay?.gridLayout?.cols,i="recently_viewed"===eE.storyType&&eQ("web_recently_viewed_responsive").anyEnabled,t=!lL&&(!e||-1===e||i||lT),r=lM?2*y.Ke:0;a="number"==typeof(l=eP??e3)?l-r:void 0,n=t?void 0:Q||lO}else a="number"==typeof(l=eP)?l:void 0,n=Q||e$?lO:lB,lc&&e$&&(n=4.25);lL&&!n&&l_&&(n=W({moduleWidth:a||0,totalObjectCount:e9,gutterWidth:lN,defaultItemWidth:lV,paddingX:lZ}));let lH=(()=>{if(lI){let{group:e}=eQ("dweb_recipe_video_module_ui_iteration");if(e.includes("enabled_medium"))return 1.13;if(e.includes("enabled_large"))return 1.26}return 1})(),lW=ed??(({defaultItemWidth:e,contentVisibleItemCount:l,moduleWidth:a=0,gutterWidth:n,isMoreIdeasListCard:i,isPeekCloseupLargeShoppingModule:t,isStyleBubble:r,isImageAndTitleRep:s,isStorefrontSpotlightCarousel:d,isSmallMobileScreen:u,widthMultiplier:c=1,isStackedCollageDisplayCard:p,isTriplePreviewDisplayCard:g,containerWidth:m,isProductRetrievalModule:_,totalObjectCount:h,deviceType:f,storyType:v})=>{let P=(0,j.ds)(f);if(t)return o.LV;if(_)return y.$u;if(g)return"user_style_story_v2"===v&&l&&a?(0,y.Wv)({defaultItemWidth:e,contentVisibleItemCount:Math.min(l,W({moduleWidth:a,totalObjectCount:h,gutterWidth:n,defaultItemWidth:1.5*e})+.5),gap:n,moduleWidth:a}):P?S.d:S.Gd;if(p)return P?k.m:k.d;if(i)return P?b.xR:1===h?m||0:u?b.wg:b.lf;if(r)return x.u;if(s){if(v?.includes("related_search")&&a){let l=W({moduleWidth:a,totalObjectCount:h,gutterWidth:n,defaultItemWidth:e});return l>=h?(0,y.Wv)({defaultItemWidth:e,contentVisibleItemCount:h,gap:n,moduleWidth:a}):(0,y.Wv)({defaultItemWidth:e,contentVisibleItemCount:Math.max(2.25,l+.25),gap:n,moduleWidth:a})}return 252}return d?362:l&&a?(0,y.Wv)({defaultItemWidth:e,contentVisibleItemCount:l,gap:n,moduleWidth:a})*c:e*c})({defaultItemWidth:lV,containerWidth:e3,contentVisibleItemCount:n,moduleWidth:a,gutterWidth:lN,isMoreIdeasListCard:1===lr,isPeekCloseupLargeShoppingModule:eK,isStyleBubble:lo,isImageAndTitleRep:ld,isStorefrontSpotlightCarousel:lu,isSfModuleOnMobile:eV,isSmallMobileScreen:eH,widthMultiplier:lH,isProductRetrievalModule:lT,totalObjectCount:e9,isStackedCollageDisplayCard:lg,isTriplePreviewDisplayCard:lp,deviceType:eW,fadeCarouselEdges:en,storyType:eE.storyType||""});1!==lH&&(n=W({moduleWidth:a||0,totalObjectCount:e9,gutterWidth:lN,defaultItemWidth:lW,paddingX:lZ}));let lG=l_&&n?Math.max(Math.min(Math.floor(n),e9),0):void 0,l$=eK?o.J:lW,lX=eu??eE.displayOptions?.contentDisplay?.itemWidthHeightRatio,lY=lX?lW*lX:void 0,lq=eE.objects.filter(e=>null!==e),lQ=(0,Z.tD)({isHorizontalScrollable:lP,slotWidth:lW,containerWidth:e3||0,gap:lN,numberOfSlides:lq.length,index:eN,paddingX:lZ,rows:ew}),lJ=lw?{board_id:e0?.id,board_session_id:eD}:void 0,l0=ex?.carouselContainerMarginBottom??(lx&&!lM?8:0),l1="boolean"==typeof ex?.showPagination?ex.showPagination:!!lI&&!!eQ("dweb_recipe_video_module_ui_iteration").anyEnabled,l2=(e,l)=>{let a;if(l===lq.length-1&&eE.action&&ll&&li&&(({text:e,url:l})=>!!e&&!!l)(a=eE.action)&&O.has(a.location)&&!eK){let l="Pin"===e.__typename&&e.imageSpec_236x?.url;return l&&(0,B.jsx)(f.Z,{auxData:lJ,buttonSizeOverride:ex?.buttonSizeOverride,buttonText:ll,component:e5,contentIds:eE.contentIds??void 0,dataTestId:"shop-action-item-button",element:179,imageWidth:l$,onClick:ei,previewImageSrc:l,storyId:eE.storyId??"",storyType:eE.storyType,url:li.toString(),view:ev,viewParameter:eb},`pin-ActionItemRep-${e.entityId}`)}let n=null;eA||ef?.objects==null||(n="Pin"===e.__typename?ef.objects.find(l=>"pin"===l.type&&l.id===e.entityId):"Story"===e.__typename?ef.objects.find(l=>"story"===l.type&&l.id===e.storyId):"Board"===e.__typename?ef.objects.find(l=>"board"===l.type&&l.id===e.entityId):"BoardMoreIdeasFeedUpsell"===e.__typename?{...n=ef.objects.find(l=>"board_more_ideas_feed_upsell"===l.type&&l.id===e.boardMoreIdeasFeedUpsellId),header_text:eq._('More ideas for', 'moreIdeasBoardRepCarousel.carousel.headText', 'Header text for JBI Carousel on Homefeed')}:"User"===e.__typename?ef.objects.find(l=>"user"===l.type&&l.id===e.entityId):"ExploreArticle"===e.__typename?ef.objects.find(l=>"explorearticle"===l.type&&l.id===e.entityId):ef.objects[l]);let i=`pin-ActionItemRep-${e.__typename}-${l}`;if(ef?.display_options?.pin_display_options?.quick_save_icon===1&&e0&&"Pin"===e.__typename)return(0,B.jsx)(N.Z,{eventContext:{component:15088,element:14583,viewParameter:eb,viewType:ev||5},onDelete:()=>{e2({event_type:3,component:15088,element:14583,view_parameter:eb,view_type:ev||5,aux_data:lJ})},onSave:()=>{e1.showOneToast(()=>(0,B.jsx)(p.Z,{duration:3e3,onHide:()=>{},text:eq._('Saved! Refresh to see your new Pins', 'boardShopTool.refreshBoardToast.text', 'Saved! Refresh to see your new Pins toast text')}))},pinKey:e,surface:eS,target:{board:e0},children:({save:a,unsave:t,saved:r,savedInfo:s})=>(0,B.jsx)(P.Z,{auxData:{...lJ,module_id:e.entityId,pin_column_index:l},boardKey:null,component:Y,imageWidth:l$,isInMobileCarousel:!eG,isInViewOrNext:(0,Z.Iw)({slotWidth:lW,containerWidth:e3||0,gap:lN,numberOfSlides:lq.length,index:l,currentIndex:eN,paddingX:lZ}),item:n,itemWidthHeightRatio:lX,pinKey:eA&&"Pin"===e.__typename?e:null,productTagParentPinId:ec,relatedInterestKey:null,saveButtonOptions:{save:a,unsave:t,saved:r,savedInfo:{...s,boardId:e0.id,pinId:e.entityId,title:e0.name,url:e0.url},type:"persistentOneClickSave"},slideWidth:lW,slotIndex:eo+l,story:ef??void 0,surface:eS,view:ev,viewParameter:eb},i)});let t=eR?.find(l=>l.pinId===("Pin"===e.__typename?e.entityId:null)),r=t&&t?.source,o=lc?{has_auto_tags:7===r,root_pin_id:ec,...r?{source:r}:{}}:{},d=a=>(0,B.jsx)(P.Z,{auxData:{pin_id:"Pin"===e.__typename?e.entityId:null,...o},boardKey:eA&&"Board"===e.__typename?e:null,carouselModulePinKey:eT,component:Y,forcedHover:a?.forcedHover,hidePinBetterSaveDropdown:et,imageWidth:l$,isInDesktopCarousel:eG,isInMobileCarousel:!eG,isInViewOrNext:(0,Z.Iw)({slotWidth:lW,containerWidth:e3||0,gap:lN,numberOfSlides:lq.length,index:l,currentIndex:eN,paddingX:lZ}),item:n,itemWidthHeightRatio:lX,pinKey:null,productTagParentPinId:ec,relatedInterestKey:eA&&"SeoRelatedInterestsData"===e.__typename?e:null,resolution:ep,saveButtonOptions:eg,slideWidth:lW,slotIndex:eo+l,story:ef??void 0,surface:eS,view:ev,viewParameter:eb},i);return eh?(0,B.jsx)(K.q,{children:({hovered:e,...a})=>{let n=eh?.[l];return(0,B.jsxs)(s.xu,{position:"relative",children:[d(ey?{forcedHover:e}:void 0),n?.({hovered:e,...a})]},i)}},i):d()};return(0,B.jsxs)(s.xu,{ref:eJ,borderStyle:lM?"lg":void 0,direction:"column",display:"flex",rounding:4,width:l,children:[eE.storyTitle&&!ee&&(0,B.jsx)(s.xu,{marginBottom:ly||!eG?2:3,marginTop:lR,paddingX:lD,children:(0,B.jsx)(F.Z,{auxData:lJ,headerDisplayOptions:eF,marginBottomOverride:lE,showExpanded:lm,showExtraSmallSubtitle:ex?.showExtraSmallSubtitle??(lb||lP),storyKey:eE})}),(0,B.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:lP?{marginLeft:`${-e6+e7}px`,marginRight:`${-e6+e7}px`}:{}},marginBottom:l0,onFocus:()=>eY(!0),onMouseEnter:()=>eY(!0),onMouseLeave:()=>eY(!1),position:"relative",children:[lx&&(0,B.jsx)(E.default,{backNode:(0,B.jsx)(D.Z,{...lz,iconType:"back"}),carouselData:le,carouselIndex:eN,componentType:e5,contextLogData:lr?{index:eN}:X,forwardNode:(0,B.jsx)(D.Z,{...lz,iconType:"forward"}),handleCarouselSwipe:e=>{let l=0;lh&&(l=Math.max(0,W({moduleWidth:e3,totalObjectCount:e9,gutterWidth:lN,defaultItemWidth:lW,paddingX:lZ})-1)),lK&&(l=2),lT&&(l=3),e>eN?ez(e+l):ez(e-l),eB.current&&lP&&(0,Z.c3)(eB,lP,e,eN,lW,lN)},height:lY,isShowingLastSlide:lQ,itemsPerPage:lG,pinKey:null,sliderStyleOverride:lh?{padding:"0px 0px",margin:"0px 16px 60px"}:void 0,storyType:eE.storyType||"",viewParameter:eb,viewType:ev}),(0,B.jsxs)(L.Z,{componentType:ls||void 0,containerRef:eO,contextLogData:{story_type:eE?.storyType,...X},disableTransition:el,gap:lN,id:"structured-feed-carousel-module",impressionType:er??(lr?"BoardMoreIdeasRep":"Pin"),index:eN,isHorizontalScrollable:lP,paddingX:lZ,setSlideIndex:eM,shouldBeDragCarousel:lP||!eG,sliderRef:eB,slideWidth:lW,styleOverrides:ex,surface:eS,view:ev,viewParameter:eb,children:[ew?(function(e){let l=[];for(let a=0;a<e.length;a+=3)l.push(e.slice(a,a+3));return l})(lq).map((e,l)=>(0,B.jsx)(s.sg,{span:1,children:e.map((a,n)=>(0,B.jsx)(s.xu,{marginBottom:2*(n!==e.length-1),children:l2(a,l*ew+n)},`box-${l*ew+n}`))},`col-${l}`)):lq.map(l2),G,eK&&li&&ll&&(0,B.jsx)(s.ZP,{color:"gray",dataTestId:"carousel--peek-shop-btn",fullWidth:!0,href:li.toString(),onClick:ei,size:"lg",text:ll},"peek-shop-btn")]}),e8&&eN>0&&!eK&&(0,B.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}},height:"100%",left:!0,position:"absolute",top:!0,width:80}),e8&&!lQ&&!eK&&(0,B.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}},height:"100%",position:"absolute",right:!0,top:!0,width:80})]}),l1&&(0,B.jsx)(s.xu,{paddingY:4,children:(0,B.jsx)(R.default,{carouselData:{carouselSlots:le.carouselSlots?.map(({id:e,title:l})=>({id:e,title:l})),entityId:le.entityId,index:le.index},carouselIndex:eN,componentType:e5,enablePagination:!0,handleCarouselSwipe:e=>{let l=2*!!lK;e>eN?ez(e+l):ez(e-l)},itemsPerPage:lG,pinKey:null,variant:"dark",viewParameter:eb,viewType:ev})}),lS&&(0,B.jsx)(s.xu,{marginBottom:8,marginTop:3,position:"relative",width:"100%",children:(0,B.jsx)(E.default,{addEllipsis:!0,alwaysShowNavigationArrows:!0,backNode:(0,B.jsx)(D.Z,{...lt,iconType:"back",showFab:!0}),carouselData:le,carouselIndex:eN,componentType:e5,contextLogData:lr?{index:eN}:X,ellipsisVariant:"dark",forwardNode:(0,B.jsx)(D.Z,{...lt,iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{ez(e)},isShowingLastSlide:lQ,itemsPerPage:lG,pinKey:null,sliderStyleOverride:{padding:"0px",margin:"0px"},viewParameter:eb,viewType:ev})}),eE.action&&(({text:e,url:l})=>!!e&&!!l)(i=eE.action)&&U.has(i.location)&&(0,B.jsx)(s.xu,{marginTop:4,children:(0,B.jsx)(w.Z,{location:ln,text:ll,url:li?.toString()})})]})}},932088:function(e,l,a){a.d(l,{Z:()=>t});var n=a(20256),i=a(785893);function t({url:e,text:l,location:a}){return 1===a&&e&&l?(0,i.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(n.ZP,{href:e,text:l})}):null}},207729:function(e,l,a){a.d(l,{Z:()=>j}),a(167912);var n,i=a(616550),t=a(20256),r=a(761578),s=a(980787),o=a(744862),d=a(821342),u=a(415546),c=a(525839),p=a(274320),g=a(598579),m=a(533629),y=a(647709),_=a(280670),h=a(785893);let f={1:"start",2:"center"},k={1:"100",2:"300"},x={4:"200",1:"400",3:"600",2:"700"},S={4:"100",1:"200",3:"300",2:"400"},v={1:48,2:150},b={1:"column",2:"row"},P={0:!1,1:!0},w={4:375},F=new Set([2,4]);function T({headerTitle:e,onClick:l,style:a,text:n,url:i}){let r=(0,c.ZP)();return 3!==a&&n?(0,h.jsx)(t.xu,{marginStart:6,children:(0,h.jsx)(t.ZP,{href:i,onClick:l,text:n})}):(0,h.jsx)(t.I_,{accessibilityLabel:e||r._('See more', 'headerModule.headerModuleActionButton.iconButton', 'An right arrow icon button to show more similar pins to the user in a new page'),bgColor:"transparent",href:i,icon:"arrow-forward",iconColor:"darkGray",onClick:l,size:"sm"})}let I=void 0!==n?n:n=a(899934);function C({showExpanded:e=!1,view:l,viewParameter:a,auxData:n,storyData:u,showExtraSmallSubtitle:c,marginBottomOverride:I,headerDisplayOptions:C}){let j=(0,i.k6)(),{logContextEvent:K}=(0,s.u)(),A=(0,y.HG)(),L=(0,y.ml)(),{checkExperiment:R}=(0,p.FJ)(),{width:E=0}=(0,r.Z)()||{},D=(0,d.Z)(),Z=D.isAuth?D?.avatar_color_index:void 0,M=u.user?.fullName??null,N=u.user?.isVerifiedMerchant||!1,z=u.user?.verifiedIdentity?.verified||!1,B=u.user?.username??null,O=u.user?.imageMediumUrl??null,U="search_3p_ad_only_module"===u.storyType,V=M||u.storyTitle?.format,H=u.subtitle?.format??null,W=u.action?.url??null,G=u.action?.text??null,$=u.action?.location??null,X=u.action?.style??null,Y=W||B||"",q=u.displayOptions||Object.freeze({}),Q=C||q?.headerDisplay||Object.freeze({}),J=f[(Q&&e?Q?.expandedTextAlignment:Q?.textAlignment)||1],ee=f[Q.subtitleAlignment||1],el=k[Q?.headerSize||1],ea=L?S[Q?.headerSize||1]:x[Q?.headerSize||1],en=Q?.subtitleStyle===1?ea:A&&!U?"200":"100",ei=q?.titleTextColor??"default",et=q?.titleTextColor??"default",er=q?.subtitleTextColor??"subtle",es=Q?.titlePosition===1,eo=F.has($)&&W,ed=eo&&("board_shop_tool_module"===u.storyType||"shop_tool_saved_products_module"),eu=Q?.headerWidth?w[Q.headerWidth]:"100%",ec=b[E<=g.$R?Q?.dynamicHeaderContentSpan?.narrowView:Q?.dynamicHeaderContentSpan?.wideView]??"row",ep=function({storyType:e,windowWidth:l}){return"no_results_header"===e&&l<=g.$R?"start":"center"}({storyType:u.storyType,windowWidth:E}),eg=u.displayOptions?.headerDisplay?.thumbnail?.thumbnailUrl,em=v[Q?.thumbnail?.thumbnailWidth]??0,ey=P[Q?.thumbnail?.thumbnailWash]??!0,e_="recently_viewed"===u.storyType&&R("web_recently_viewed_responsive").anyEnabled||u.storyType?.includes("related_searches")||"user_style_story_v2"===u.storyType,eh=({isLargeDisplay:e})=>(0,h.jsx)(t.X6,{accessibilityLevel:c?"none":void 0,align:ee,color:er,size:e?String(Math.min(Number(ea)+100,600)):en,children:c?(0,h.jsx)(t.xv,{align:U?ee:void 0,color:U?er:"default",lineClamp:1,size:e?String(Math.min(Number(en)+100,600)):en,children:H}):H}),ef=()=>e_?(0,h.jsx)(m.Z,{largeSizeRep:eh({isLargeDisplay:!0}),mediumSizeRep:eh({}),smallSizeRep:eh({})}):eh({}),ek=({isLargeDisplay:e})=>(0,h.jsx)(t.X6,{accessibilityLevel:2,align:J,color:ei,size:e?String(Math.min(Number(ea)+100,600)):ea,children:V}),ex=()=>e_?(0,h.jsx)(m.Z,{largeSizeRep:ek({isLargeDisplay:!0}),mediumSizeRep:ek({}),smallSizeRep:ek({})}):ek({}),eS=()=>K({component:q?.contentDisplay?.componentType,element:179,event_type:A?101:102,view_parameter:a,view_type:l,aux_data:n});return(0,h.jsxs)(t.xu,{alignItems:ep,direction:ec,display:"flex",marginBottom:void 0!==I?I:A?4:2,children:[eg&&!!em&&(0,h.jsx)(t.xu,{marginEnd:2,children:eg&&(0,h.jsx)(t.zd,{height:em*(u.displayOptions?.headerDisplay?.thumbnail?.thumbnailWidthHeightRatio||1),rounding:2,wash:ey,width:em,children:(0,h.jsx)(t.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:eg})})}),(0,h.jsxs)(t.kC,{direction:"column",flex:eu?"shrink":"grow",gap:{row:0,column:c?1:2},width:eu,children:[es&&H&&ef(),(0,h.jsxs)(t.kC,{alignItems:"center",justifyContent:ed?"between":J,children:[B&&O&&(0,h.jsx)(o.qE,{color:Z,name:B,size:"sm",src:O}),(0,h.jsxs)(t.kC,{alignItems:"baseline",flex:e?"grow":"shrink",justifyContent:J,children:[Y?(0,h.jsx)(t.xu,{"data-test-id":"sf-header-heading",children:(0,h.jsx)(t.Tg,{href:Y,onTap:({event:e})=>{e.stopPropagation(),eS();let l=Y.replace(/^\/+/,"");j.push(`/${l}`)},tapStyle:"compress",children:ex()})}):ex(),N&&(0,h.jsx)(t.xu,{marginStart:2,children:(0,h.jsx)(_.Z,{isVerifiedIdentity:z,isVerifiedMerchant:N,size:"xs"})})]}),eo&&(0,h.jsx)(t.xu,{"data-test-id":"sf-header-action-button",children:(0,h.jsx)(T,{headerTitle:V,onClick:eS,style:X,text:G,url:W})})]}),!es&&H&&ef(),u.storyDescription?.format?(0,h.jsx)(t.xv,{align:J,color:et,size:el,weight:"bold",children:u.storyDescription.format}):null]})]})}function j({storyKey:e,...l}){let a=(0,u.Z)(I,e);return(0,h.jsx)(C,{...l,storyData:a})}},533629:function(e,l,a){a.d(l,{Z:()=>o});var n=a(667294),i=a(20256),t=a(394752),r=a(785893);function s({children:e,size:l}){return(0,r.jsx)(i.xu,{"data-test-id":t.eC,display:"sm"===l?"block":"none",lgDisplay:"lg"===l?"block":"none",mdDisplay:"md"===l?"block":"none",smDisplay:"sm"===l?"block":"none",children:e})}function o({smallSizeRep:e,mediumSizeRep:l,largeSizeRep:a}){return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(s,{size:"sm",children:e}),(0,r.jsx)(s,{size:"md",children:l}),(0,r.jsx)(s,{size:"lg",children:a})]})}},955421:function(e,l,a){a.d(l,{Z:()=>i});let n=new Set([90,88,89,91,101,92,131]);function i(e){return n.has(e)}},797365:function(e,l,a){a.d(l,{Z:()=>t});var n=a(667294),i=a(647709);function t(){let[e,l]=(0,n.useState)(!1),a=(0,i.HG)();return(0,n.useEffect)(()=>{!a&&window.innerWidth<320&&l(!0)},[a,l]),e}},598579:function(e,l,a){a.d(l,{$R:()=>t,AW:()=>i,fb:()=>r,v8:()=>n});let n=new Set(["BUBBLE_ONE_COL","related_query_shop_upsell_closeup"]),i=new Set(["p2p_recipe_video","beauty_video"]),t=736,r=533},730647:function(e,l,a){a.d(l,{Z:()=>r});var n=a(598579);let i=new Set([92]),t=new Set([154]);function r(e){let l=[];return e.forEach(e=>{if("story"===e.type?i.has(e.container_type)||t.has(e.container_type)||n.v8.has(e.story_type)||n.AW.has(e.story_type):1){let a=l[l.length-1];Array.isArray(a)?a.push(e):l.push([e])}else l.push(e)}),l}},284660:function(e,l,a){a.d(l,{Z:()=>t});var n=a(761578),i=a(93966);function t(){let{width:e}=(0,n.Z)()||{width:0};return e<2*i.yF+i.$H}},86295:function(e,l,a){a.d(l,{EF:()=>p,GM:()=>o,Hg:()=>T,Hl:()=>k,IR:()=>h,Je:()=>u,K3:()=>K,O1:()=>E,Q6:()=>m,QE:()=>n,V3:()=>F,Z4:()=>_,c7:()=>f,cU:()=>r,cZ:()=>P,cg:()=>i,dZ:()=>t,gO:()=>x,hd:()=>b,j$:()=>v,j9:()=>A,kX:()=>S,oQ:()=>N,p:()=>M,pg:()=>D,pk:()=>w,pt:()=>j,qq:()=>R,sy:()=>c,tP:()=>I,uE:()=>y,vk:()=>L,w2:()=>d,ww:()=>C,xX:()=>s,xw:()=>Z,yR:()=>g});let n=3e3,i=280,t=500,r=1e4,s=250,o=250,d=251,u=50,c=50,p=20,g=20,m={DASHBOARD:"DASHBOARD",PEOPLE:"PEOPLE",PARTNERS:"PARTNERS",AD_ACCOUNTS:"AD_ACCOUNTS",AD_ACCOUNTS_PENDING_TAB:"AD_ACCOUNTS_PENDING_TAB",HISTORY:"HISTORY",PEOPLE_DETAIL:"PEOPLE_DETAIL",PARTNERS_DETAIL:"PARTNERS_DETAIL",SHARED_PARTNERS_DETAIL:"SHARED_PARTNERS_DETAIL",AD_ACCOUNTS_DETAIL:"AD_ACCOUNTS_DETAIL",PENDING_AD_ACCOUNTS_DETAIL:"PENDING_AD_ACCOUNTS_DETAIL",PARTNERS_INVITES:"PARTNERS_INVITES",CHOOSER:"CHOOSER",PROFILES:"PROFILES",PROFILES_DETAIL:"PROFILES_DETAIL",PARTNERS_PENDING_TAB:"PARTNERS_PENDING_TAB",PEOPLE_PENDING_TAB:"PEOPLE_PENDING_TAB",USERS:"USERS",ACOUNTS:"ACCOUNTS",BUSINESS_SECURITY:"BUSINESS_SECURITY",ASSETS:"ASSETS",ASSET_GROUPS:"ASSET_GROUPS",INVOICE_MANAGEMENT:"INVOICE_MANAGEMENT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",BUSINESS_HIERARCHY_BUSINESS_SECURITY:"BUSINESS_HIERARCHY_BUSINESS_SECURITY",MANAGERS:"MANAGERS",AUDIENCES:"AUDIENCES",SHARED_TAGS:"SHARED_TAGS",CATALOGS:"CATALOGS",BRAND_SAFETY:"BRAND_SAFETY",AD_ACCOUNTS_CEE_MIGRATION:"AD_ACCOUNTS_CEE_MIGRATION",BUSINESS_SETTINGS:"BUSINESS_SETTINGS",SYSTEM_USERS:"SYSTEM_USERS",APPS:"APPS",CONVERSION_DATA:"CONVERSION_DATA"},y={PARTNER:"PARTNER",PARTNER_ADMIN:"PARTNER_ADMIN"},_={ADVERTISER_OWNED_AD_ACCOUNT:"ADVERTISER_OWNED_AD_ACCOUNT",AGENCY_OWNED_AD_ACCOUNT:"AGENCY_OWNED_AD_ACCOUNT"},h={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},f={AD_ACCOUNT:"AD_ACCOUNT",PERSON:"PERSON",PARTNER:"PARTNER",SYSTEM_USER:"SYSTEM_USER",CATALOG:"CATALOG"},k={PERSON:"PERSON",PARTNER:"PARTNER",SYSTEM_USER:"SYSTEM_USER",PROFILE:"PROFILE"},x={ADMIN:"ADMIN",ANALYST:"ANALYST",FINANCE_MANAGER:"FINANCE_MANAGER",AUDIENCE_MANAGER:"AUDIENCE_MANAGER",CAMPAIGN_MANAGER:"CAMPAIGN_MANAGER",CATALOGS_MANAGER:"CATALOGS_MANAGER",FINANCE_EDIT:"FINANCE_EDIT",FINANCE_VIEW:"FINANCE_VIEW"},S={CATALOGS_MANAGER:"CATALOGS_MANAGER",CATALOGS_VIEWER:"CATALOGS_VIEWER"},v=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],b=["ADMIN","ANALYST","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER","FINANCE_EDIT","FINANCE_VIEW"],P=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER"],w=["CATALOGS_MANAGER","CATALOGS_VIEWER"],F={EMPLOYEE:"EMPLOYEE",BIZ_ADMIN:"BIZ_ADMIN",OWNER:"OWNER"},T=["PROFILE_PUBLISHER"],I={AD_ACCOUNT:0,PROFILE:2,ASSET_GROUP:3,CATALOG:4},C={0:"AD_ACCOUNT",2:"PROFILE",3:"ASSET_GROUP",4:"CATALOG"},j={ACTIVE:0,PENDING:1},K={ACTIVE:"active",PENDING:"pending"},A="filter_type",L={page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},R={WARNING:"WARNING",DEFAULT:"DEFAULT"},E={BUSINESS_INVITE_INVALID:2932,BUSINESS_ACCESS_PERSONAL_ACCOUNT:2936,INVALID_USERNAME:90,ACCESS_DENIED:280,BUSINESS_RELATIONSHIP_ALREADY_EXISTS:2751,ODO_BUSINESS_RELATIONSHIP_ALREADY_EXISTS:53,BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:2769,BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:2938,ODO_BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:66,ODO_BIZ_INVITE_EXISTS:71,INVALID_ODO_REQUEST:2755,BUSINESS_INVITE_STACKED_ERROR:2773,ACL_POLICY_NOT_FOUND:1110,BUSINESS_INVITE_NOT_EXIST:2770,BUSINESS_RELATIONSHIP_PREMATURE_MIGRATION_INVITE:4300,SANCTIONED_COUNTRY_FOR_BUSINESS:2762},D={ALL:"ALL",OWNED:"OWNED",SHARED:"SHARED"},Z=new Date("2024-10-31T12:00"),M="Httpool by Aleph",N="pinterest-leads@alephholding.com"},30216:function(e,l,a){a.d(l,{Z:()=>o}),a(167912);var n,i=a(616550),t=a(415546),r=a(620427);let s=void 0!==n?n:n=a(165148);function o({pinKey:e}){let l=(0,i.TH)(),a=!!l&&/^\/pin\/[\w-]+/.test(l.pathname),n=(0,t.Z)(s,e);return a?(0,r.Z)(l.state?.trackingParams,n?.trackingParams):n?.trackingParams}},801082:function(e,l,a){a.d(l,{Z:()=>o});var n=a(167912),i=a(244311),t=a(562399),r=a(667294),s=a(503246);let o=function({strategy:e,query:l,variables:a,options:o,useGetLegacyResource:d,useGetLegacyPaginatedResource:u,useGetLegacyData:c}){let p;if("GRAPHQL"===e){let e=(0,i.getRequest)(l);return(0,n.useLazyLoadQuery)(e,a,o)}if(null!=d&&null!=u&&null!=c)throw Error(`Only pass one of those calls from the list: 
[useGetLegacyResource, useGetLegacyPaginatedResource, useGetLegacyData]
to useLazyLoadQueryOrLegacy`);let{actualVariables:g,refetch:m}=function(e,l){let a=(0,r.useRef)(e),n=(0,r.useRef)(null),[,i]=(0,r.useState)({}),t=(0,s.ZP)(e,a.current)?null==n.current?a.current:n.current:(a.current=e,n.current=null,a.current),o=(0,r.useCallback)(e=>{let a={...t,...e||{}};(0,s.ZP)(t,a)&&l(),n.current=a,i({})},[t,l]);return{actualVariables:t,refetch:o}}(a,()=>{p()});if(null!=c){let e=c(g);if(!e)return null;let{selections:a}=(0,i.getRequest)(l).fragment;return p=()=>{},(0,t.Z)(a,{kind:"LegacyData",singularLegacyData:e,refetchInfo:{refetch:m},paginationInfo:null})}if(null!=d){let e=d(g),{data:a}=e;if(p=e.refresh,null==a)return null;let{selections:n}=(0,i.getRequest)(l).fragment;return(0,t.Z)(n,{kind:"LegacyData",singularLegacyData:a,refetchInfo:{refetch:m},paginationInfo:null})}if(null!=u){let e=u(g),{data:a,isFetching:n,isAtEnd:r,fetchMore:s}=e;if(p=e.refresh,null==a)return null;let{selections:o}=(0,i.getRequest)(l).fragment;return(0,t.Z)(o,{kind:"PaginationLegacyData",paginationLegacyData:a,refetchInfo:{refetch:m},paginationInfo:{isLoadingNext:n,hasNext:!r,loadNext:s}},null)}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},628708:function(e,l,a){a.d(l,{Z:()=>p});var n=a(667294),i=a(980787),t=a(821342),r=a(510928),s=a(776777),o=a(785893);function d(e,l,a){var n;return(l="symbol"==typeof(n=function(e,l){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,l||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}(l,"string"))?n:n+"")in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}let u=(0,r.Z)()&&(0,r.Z)().debug_impression_log,c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function p(e){class l extends n.Component{constructor(...e){super(...e),d(this,"currentNs",()=>1e6*Date.now()),d(this,"startTime",0),d(this,"debugPinImpressions",u&&"Pin"===this.props.impressionType&&this.props.viewer.isAuth&&this.props.viewer.isEmployee),d(this,"handleVisibilityChanged",e=>{let{componentType:l,contextLogData:a,impressionAuxFields:n,impressionType:i,loggingId:t,slotIndex:r,viewParameter:s,viewType:o,viewData:d,logContextEvent:u}=this.props;if(e)this.startTime=this.currentNs(),this.debugPinImpressions&&console.log(r+" started timer");else{let e=c[i],p=e.idType,g=this.currentNs(),m={endTime:g,[p]:t,slotIndex:r,time:this.startTime,renderDuration:g-this.startTime,...n};u({event_type:e.eventType,component:l,event_data:{[e.impressionType]:[m]},view_type:o,view_parameter:s,view_data:d,aux_data:{...a}}),this.debugPinImpressions&&console.log(r+" logged for "+(g-this.startTime)/1e9+"s")}})}render(){return(0,o.jsx)(s.Z,{onVisibilityChanged:this.handleVisibilityChanged,...this.props,children:(0,o.jsx)(e,{...this.props})})}}return function(e){let{logContextEvent:a}=(0,i.u)(),n=(0,t.Z)();return(0,o.jsx)(l,{...e,logContextEvent:a,viewer:n})}}},662490:function(e,l,a){a.d(l,{Z:()=>n});function n(e,l){let a=e.split(l?",":":");return a.length>0?l?a[0]:a[1]:""}},127753:function(e,l,a){a.d(l,{HM:()=>o,ZP:()=>u,oV:()=>d});let n="filter_queries",i="skin_tone",t="hair_pattern",r=`${i.toUpperCase()}_${n.toUpperCase()}`,s=`${t}_${n}`,o=e=>e.startsWith(r)||e.startsWith(s),d=e=>o(e)&&e===r?i:t;function u(e,l){return"skin_tone"===e?l.skin_tone_filter_list.options:l.hair_pattern_filter_list}},460584:function(e,l,a){a.d(l,{Z:()=>n});function n(e){let l=!1;return{promise:new Promise((a,n)=>{e.then(e=>l?n({isCanceled:!0}):a(e),e=>l?n({isCanceled:!0}):n(e))}),cancel(){l=!0}}}},753261:function(e,l,a){a.d(l,{G7:()=>r,Nl:()=>o,WE:()=>t,l6:()=>s});var n=a(654937),i=a(473728);function t(e,l,a,n,i,t){return e.isAuth&&!!l&&(a||n)&&!!i?.isLoaded&&!t}function r(e,l){return(0,i.Z)(l.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function s(e,l){return(0,i.Z)(l.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function o({i18n:e,isRealtime:l,humanizedTimeSinceLastUpdate:a,displayLifetime:t,numDays:r,selectedDateRange:s,locale:o}){let d=[];if(r){let l=t?(0,i.Z)(e.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r,startDate:(0,n.ZP)(o,s.startDate,n.kH.NUMERIC),endDate:(0,n.ZP)(o,s.endDate,n.kH.NUMERIC)}):(0,i.Z)(e.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r});d.push(l)}return l?d.push(e._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):a&&d.push((0,i.Z)(e._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:a})),d.join(" ")}},774721:function(e,l,a){a.d(l,{Z:()=>r}),a(422578);var n,i=a(918920),t=a(415546);function r(e,l,r){let s=(0,t.Z)(void 0!==n?n:n=a(251967),e);if(!l.isAuth||!l.isPartner||null==s)return!1;let{creatorAnalytics:o}=s,d=!!s.storyPinDataId,u=!!s.videos?.videoList,c=!(d||u)&&0!==Object.keys(s.aggregatedPinData?.creatorAnalytics?._30dRealtime||{}).length,p=s.board?.privacy===i.ZP.BoardPrivacy.PUBLIC,g=(s.board?.privacy===i.ZP.BoardPrivacy.PROTECTED||p)&&!s.isRepin&&[l.id,r].includes(s.pinner?.entityId??"");return c||0!==Object.keys(o?._30dRealtime||{}).length||l.isPartner&&g||d&&g}},643875:function(e,l,a){a.d(l,{f:()=>n,Z:()=>i});let n=e=>{let{h:l,m:a}=e||{},n={hours:l||0,minutes:a||0};return void 0!==l||void 0!==a?{h:l,m:a,time:n,isoDuration:function({hours:e,minutes:l}){return`PT${e}H${l}`}(n)}:null},i=e=>{if(!e)return null;let{richMetadata:l}=e,{recipe:a}=l;return a&&a.name?{...e,recipe:{name:a.name,categorizedIngredients:a.categorized_ingredients,diets:a.diets,fromAggregatedData:a.from_aggregated_data,prepTime:n(a.cook_times?.prep),cookTime:n(a.cook_times?.cook),totalTime:n(a.cook_times?.total),servingSummary:a.servings_summary?.summary,serves:a.servings_summary?.serves,instructions:a.instructions}}:null}},665827:function(e,l,a){a.d(l,{Z:()=>n});let n=e=>{if(!e)return null;let{rich_metadata:l}=e.pin;return l?{...e,richMetadata:l}:null}},222555:function(e,l,a){a.d(l,{Z:()=>t});var n=a(254029),i=a(176465);let t=e=>{if(!e)return null;let{video:l}=(e=>{if(!e)return null;let{videos:l}=e.pin,{id:a,video_list:i={}}=l||{},{V_720P:t,V_HLSV4:r,V_HLSV3_MOBILE:s}=i,o=(0,n.V3)(r),d=(0,n.V3)(s),u=(0,n.V3)(t),c=u||o||d;return a&&c?{...e,video:{id:a,hasVideo:c,mp4:u||void 0,hls:o||void 0,hlsv3:d||void 0}}:null})((0,i.Z)(e))||{},{embed:a}=(e=>{if(!e)return null;let{embed:l}=e.pin,{type:a,src:n,subtype:i}=l||{};return n?{...e,embed:{type:a,src:n,subtype:i}}:null})((0,i.Z)(e))||{},t=!!(l&&(e=>{let{hlsv3:l,hls:a}=e,n=l||a;return!!(n&&(n.width??0)>(n.height??0))})(l))||!!(a&&a.src&&"pinstory"!==a.subtype&&"gif"!==a.type);return{...e,isWideVideo:t}}},817309:function(e,l,a){a.d(l,{Z:()=>n});function n(e){return e&&0!==e?{is_utm_link_available:1===e}:{}}},887946:function(e,l,a){a.d(l,{Z:()=>o}),a(167912);var n,i=a(415546),t=a(453179),r=a(436475);let s=void 0!==n?n:n=a(498876),o=e=>{let l=(0,i.Z)(s,e),a=(0,r.Z)(l);if(!l?.entityId)return null;let{trackedLink:n,link:o,method:d,utmLink:u}=l,c=(0,t.Zt)({trackedLink:n,link:o,utmLink:u});return c&&("catalog_bulk_create"===d||a)?decodeURIComponent(c):c}},436475:function(e,l,a){a.d(l,{Z:()=>r}),a(167912);var n,i=a(415546);let t=void 0!==n?n:n=a(445662),r=e=>{let l=(0,i.Z)(t,e);if(!l?.richMetadata)return!1;let{products:a}=l.richMetadata??{};return!!Array.isArray(a)&&a.some(e=>!!e&&e.name)}},176465:function(e,l,a){a.d(l,{Z:()=>n});let n=e=>e?.pin?.id?e:null},231760:function(e,l,a){a.d(l,{B6:()=>u,IQ:()=>d,_m:()=>r});var n=a(658673);let{Provider:i,get:t}=(0,n.Z)({name:"related_feed",sampleRate:1}),r=i,{Provider:s,get:o}=(0,n.Z)({name:"related_feed_pageload",sampleRate:1}),d=s,u=e=>{let l=t(),a=o();return"related_feed"===e?l:"related_feed_pageload"===e?a:void 0}},355919:function(e,l,a){function n(e){let l=Object.keys(e);return l.length>0?l.sort((l,a)=>e[a]-e[l]).slice(0,3):null}function i(e){let l=Object.values(e);return l.length>0?l.reduce((e,l)=>e+l,0):0}function t(e,l,a){return!e.isPromoted&&!e.isDownstreamPromotion&&!!(e.videos?.entityId||e.storyPinDataId)&&!l&&(!e.board?.isCollaborative||!e.board.collaboratedByMe)&&!a}a.d(l,{At:()=>n,J6:()=>t,Ud:()=>i})},706563:function(e,l,a){function n({m:e=0,h:l=0}){let a;return a=l<=0?l:e>45?l+1:e>15?l+.5:l,{m:e,h:l,rm:l>0?0:e,rh:a}}function i(e){let l=Math.floor(e/3600);return n({m:Math.floor(e%3600/60),h:l})}a.d(l,{X:()=>n,u:()=>i})},492841:function(e,l,a){a.d(l,{Z:()=>m});var n=a(667294),i=a(20256),t=a(525839),r=a(274320),s=a(473728),o=a(785893);function d({category:e,ingredients:l,textSize:a="300"}){return(0,o.jsxs)(i.xu,{children:[e&&(0,o.jsx)(i.xu,{children:(0,o.jsx)(i.xv,{size:a,weight:"bold",children:e})}),(0,o.jsx)("ul",{children:l.map((e,l)=>(0,o.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,o.jsx)(i.xu,{marginTop:1,children:(0,o.jsxs)(i.xv,{size:a,children:["• ",e.amt||null," ",e.name]})})},l))})]})}function u({instructions:e}){return e?e.map((e,l)=>{let a=`Step ${l+1}`;return(0,o.jsxs)(i.xu,{children:[(0,o.jsx)(i.xv,{size:"200",weight:"bold",children:a}),(0,o.jsx)(i.xv,{size:"100",children:e})]},a)}):null}var c=a(54840),p=a(295429),g=a(601686);function m({recipeProps:e,marginOverrides:l}){var a;let m=(0,t.ZP)(),{checkExperiment:y}=(0,r.FJ)(),{image:_,name:h,categorizedIngredients:f,instructions:k}=e.recipe,{peekCloseupEnabled:x}=(0,g.x4)(),S=k&&y("web_food_indicator").anyEnabled,v=0;if(f&&f.length){let e=[];f.forEach(l=>(v+=l.ingredients.length,e.push(l.ingredients)))}let b=x?(a=v,(0,s.Z)(m.ngettext('{{ count }} Ingredient', '{{ count }} Ingredients', a, 'closeup.recipePin.heading.ingredientCount', 'Ingredient count on a Pin. count: number of ingredients'),{count:a.toString()})):m._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');return(0,o.jsx)(i.xu,{marginBottom:2,marginTop:2,children:(0,o.jsxs)(c.Z,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,o.jsx)("meta",{content:h,itemProp:"name"}),(0,o.jsx)("meta",{content:_,itemProp:"image"}),S&&(0,o.jsx)(p.Z,{collapseByDefault:!1,heading:"Instructions",children:(0,o.jsx)(i.xu,{children:(0,o.jsx)(u,{instructions:k})})}),(0,o.jsx)(p.Z,{heading:b,children:(0,o.jsx)(i.xu,{children:f.map(({category:e,ingredients:a},t)=>{let r=`ingredient-${t}`;return(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(i.xu,{marginBottom:l?.ingredientMarginBottom||4,children:(0,o.jsx)(d,{category:e,ingredients:a,textSize:"200"})})},r)})})})]})})}},287819:function(e,l,a){a.d(l,{Z:()=>i});var n=a(302148);function i({m:e,h:l,rm:a,rh:t},r,s=!1){return e&&(!l||t<=0)?s?(0,n.nk)(r._('{{mins}}min', 'closeup.makeRecipeTimeText.minutes', 'number showing the minutes to complete a recipe'),{mins:a.toString()}):(0,n.nk)(r.ngettext('{{mins}} minute', '{{mins}} minutes', a, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:a.toString()}):l?s?(0,n.nk)(r._('{{hrs}}hr {{mins}}min', 'closeup.makeRecipeTimeText.hours', 'hrs: number showing the hours to complete a recipe, mins: number showing the minutes to complete a recipe'),{hrs:l.toString(),mins:e.toString()}):(0,n.nk)(r.ngettext('{{hrs}} hour', '{{hrs}} hours', t, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:t.toString()}):null}},63749:function(e,l,a){a.d(l,{Z:()=>r});var n=a(709311),i=a(302148),t=a(785893);function r({m:e,h:l,rm:a,rh:r},s){return e&&(!l||r<=0)?(0,i.nk)(s._('{{mins}}min', 'closeup.makeRecipeText.minutesLabel', 'Minutes label for Rich Pin Recipe'),{mins:(0,t.jsx)(n.Z,{maximumFractionDigits:2,value:a},"recipe-minutes")}):l?(0,i.nk)(s._('{{hrs}}hr', 'closeup.makeRecipeText.hoursLabel', 'Hours label for Rich Pin Recipe'),{hrs:(0,t.jsx)(n.Z,{maximumFractionDigits:2,value:r},"recipe-hours")}):null}},169330:function(e,l,a){a.d(l,{Z:()=>i});var n=a(302148);function i(e,l){return e<60?(0,n.nk)(l._('{{mins}}min', 'recipe.minutes', 'recipe in minutes. mins: recipe duration in minutes'),{mins:e}):(0,n.nk)(l._('{{hrs}}h {{mins}} min', 'recipe.time', 'recipe time. mins: recipe duration in minutes. hrs: recipe duration in hours'),{mins:e%60,hrs:Math.floor(e/60)})}},366291:function(e,l,a){a.d(l,{Z:()=>i});var n=a(886981);function i(e){return(0,n.Z)(function(e){let l;if(!e)return null;let a=e?.url;return Array.isArray(e?.params)?l=e?.params:Object.entries(l={...e?.params??{}}).forEach(([e,n])=>{a?.includes(`{${e}}`)&&(a=a?.replaceAll(`{${e}}`,String(n)),delete l[e])}),{name:"ApiResource",options:{url:a,data:l,...e?.method==="POST"?{postInsteadOfGet:!0}:{}},enabledRouteRefresh:e?.enabledRouteRefresh,headers:e?.headers,noCache:e?.noCache}}(e))}},54840:function(e,l,a){a.d(l,{Z:()=>i});var n=a(785893);let i=e=>{let l=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,n.jsx)("div",{"data-test-id":"rich-pin-information",...l,children:e.children||null})}},517250:function(e,l,a){a.d(l,{GZ:()=>n,OE:()=>i,zX:()=>t});let n=246,i=197,t=236},138758:function(e,l,a){a.d(l,{Z:()=>t});var n=a(97517);let i=/\{\s*(\w+)\s*\}/g;function t({args:e,format:l}){let a,t=(e||[]).reduce((e,l,a)=>({...e,[a]:l.text}),{});return a=l||"",(0,n.Z)(i,a,t)}},91479:function(e,l,a){a.d(l,{Z:()=>c});var n=a(667294),i=a(20256),t=a(934645),r=a(525839),s=a(15667),o=a(601686),d=a(785893);let u=({onClick:e,showShadow:l,size:a="lg",onMouseEnter:t})=>{let s=(0,r.ZP)();return(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{animation:l?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},onMouseEnter:t,rounding:"circle",children:(0,d.jsx)(i.hU,{accessibilityLabel:s._('Back', 'backButton.accessibilityLabel', 'Accessibility label for the button to navigate back to the previous page'),bgColor:"white",dataTestId:"back-icon-button",icon:"directional-arrow-left",iconColor:"darkGray",onClick:e,size:a})},"back-button-icon")})};function c({handleScroll:e,marginTop:l,onClick:a,showShadow:r,onMouseEnter:c}){let{closeupWithinMasonryEnabled:p,showProductDetailPage:g}=(0,o.x4)(),{isRTL:m}=(0,s.B)(),y=(0,t.Z)({showProductDetailPage:g});return(0,n.useEffect)(()=>e?(window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)):()=>{},[e]),(0,d.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...m?{right:0}:{left:p?0:-12}}},"data-test-id":"back-button",display:"flex",paddingX:4*!p,position:"relative",children:(0,d.jsx)(u,{marginTop:l,onClick:a,onMouseEnter:c,showShadow:r,size:p&&!y?"xl":"lg"})})}},361055:function(e,l,a){a.d(l,{W:()=>r,Z:()=>t});var n=a(20256),i=a(785893);function t({data:e}){return(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",overflow:"auto",children:(0,i.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,`
`)})})}let r=e=>(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginTop:10}},width:236,children:(0,i.jsx)(t,{...e})})},627925:function(e,l,a){a.d(l,{Z:()=>d});var n=a(20256),i=a(980787),t=a(525839),r=a(302148),s=a(644493),o=a(785893);function d({closeupLinkEnabled:e,nativeCreatorCloseupLinkEligible:l,peekCloseupEnabled:a,uriComponent:d}){let u=(0,t.ZP)(),{logContextEvent:c}=(0,i.u)();return l&&e&&d?(0,o.jsx)(n.xv,{align:"start",size:a?"200":"300",children:(0,r.nk)(u._('See original post on {{ instagramLink }}', 'closeup.defaultMetadata.instagramLink', 'instagramLink: Link to the original Instagram post where the text of the link reads \u2019Instagram\u2019'),{instagramLink:(0,o.jsx)(n.xv,{color:"link",inline:!0,children:(0,o.jsx)(n.rU,{display:"inline",externalLinkIcon:"default",href:(0,s.Z)(d)??d,onClick:()=>{c({event_type:102,element:16198,component:135,aux_data:{is_claimed_domain:l}})},underline:"none",children:u._('Instagram', 'closeup.defaultMetadata.instagramLink-linkText', 'Instagram')})})})}):null}},938287:function(e,l,a){a.d(l,{Z:()=>i});var n=a(510928);let i=({url:e})=>{if(e){let l=e.split("?");if(l[1])return(0,n.Z)(l[1])}return(0,n.Z)()}},639983:function(e,l,a){a.d(l,{Z:()=>n});function n(e,l){if(!l)return e;let a=new RegExp(/http(s?):/);if(!a.test(e)){let n=a.exec(l);n&&n.length&&(e=n[0]+e)}return e}},973940:function(e,l,a){a.d(l,{Z:()=>i});var n=a(667294);let i=e=>{let l=(0,n.useRef)(null);return(0,n.useEffect)(()=>{l.current=e},[e]),l.current}},796765:function(e,l,a){a.d(l,{Z:()=>t});var n=a(667294),i=a(460584);function t(){let e=(0,n.useRef)([]),l=(0,n.useRef)({});return(0,n.useEffect)(()=>()=>{[...Object.keys(l.current).map(e=>l.current[e]),...e.current].forEach(e=>e())},[]),function(a,n){if(n){let e=l.current[n];e&&(e(),delete l.current[n])}let{cancel:t,promise:r}=(0,i.Z)(a);return n?l.current[n]=t:e.current=[...e.current,t],r}}},734871:function(e,l,a){a.d(l,{Z:()=>r});var n=a(667294),i=a(289032),t=a(159527);let r=(e="throttle")=>{let[l,a]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let l="throttle"===e?(0,t.Z)(()=>a(window.scrollY),10):(0,i.Z)(()=>a(window.scrollY),10);return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[e]),l}},766033:function(e,l,a){a.d(l,{Z:()=>t});var n=a(274320),i=a(647709);function t(){let{checkExperiment:e}=(0,n.FJ)();return"desktop"===(0,i.ZP)()?e("dweb_pdm_shopping_module_gql").anyEnabled:e("mweb_shopping_module_gql").anyEnabled}},285491:function(e,l,a){a.d(l,{Z:()=>_});var n=a(667294),i=a(20256),t=a(744862),r=a(821342),s=a(525839),o=a(274320),d=a(417245),u=a(324307),c=a(233624),p=a(271910),g=a(785195),m=a(149728),y=a(785893);let _=function(e){let l=(0,s.ZP)(),{fullName:a,isVerifiedIdentity:_,imageUrl:h,isPromoted:f,isVerifiedMerchant:k,profileUrl:x,sponsorName:S,sponsorshipStatus:v,sponsorUsername:b="",verified:P,color:w="default",onAvatarClick:F,onNavigateClick:T,onNavigateSponsorClick:I,openNewTab:C}=e,j=(0,o.ru)().checkExperiment("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,K=(0,r.Z)(),A=K.isAuth?K?.avatar_color_index:void 0,L=(0,d.Z)(l._('{{ fullName }} avatar link', 'creatorCardProfile.avatar.accessibilityLabel', 'Accessibility label for user avatar'),{fullName:a??""}),R=(0,y.jsx)(p.q,{children:({active:e,focused:l,hovered:n,onBlur:r,onFocus:s,onMouseEnter:o,onMouseLeave:d})=>(0,y.jsx)(i.xu,{onBlur:r,onFocus:s,onMouseDown:()=>{F&&F()},onMouseEnter:o,onMouseLeave:d,children:(0,y.jsx)(i.zd,{rounding:"circle",wash:n||e||l,children:(0,y.jsx)(t.qE,{accessibilityLabel:L,color:A,name:a??"",size:K.isAuth?"xs":"md",src:h??"",verified:P})})})}),E=(0,u.ZP)(a,70),D=(0,y.jsxs)(n.Fragment,{children:[f&&(0,y.jsx)(i.xv,{lineClamp:1,size:"200",weight:"bold",children:l._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin')}),(0,y.jsx)(i.xu,{"data-test-id":"creator-profile-name",children:(0,y.jsx)(i.xu,{maxWidth:270,children:(0,y.jsx)(i.xv,{color:w,size:"200",weight:"normal",children:_||k?(0,y.jsx)(i.xu,{"data-test-id":"verified-name",children:(0,y.jsx)(m.Z,{badgeSize:"xs",badgeSpacing:2,fullName:E,isVerifiedIdentity:_,isVerifiedMerchant:k})}):a})})})]}),Z=b&&S||g.j.includes(v)&&j,M=`/${b??""}/`;return(0,y.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"creator-card-profile",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,y.jsx)(i.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:x?(0,y.jsx)(i.Tg,{dataTestId:"creator-avatar-link",href:x,onTap:T,rel:(0,c.Z)(x)?"none":"nofollow",target:C?"blank":null,children:R}):R}),(0,y.jsxs)(i.xu,{children:[x?(0,y.jsx)(i.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:(0,y.jsx)(i.rU,{dataTestId:"creator-profile-link",href:x,onClick:T,rel:(0,c.Z)(x)?"none":"nofollow",target:C?"blank":null,underline:"none",children:D})}):D,Z&&(0,y.jsx)(i.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,y.jsx)(g.Z,{href:M,isPromoted:f,onNavigateSponsorClick:I,sponsorName:S,sponsorshipStatus:v,sponsorUsername:b})})]})]})}},368974:function(e,l,a){a.d(l,{Z:()=>s});var n=a(20256),i=a(209026),t=a(525839),r=a(785893);let s=function(){let e=(0,t.ZP)();return(0,r.jsx)(n.xu,{display:"flex",justifyContent:"center",marginBottom:5,width:"100%",children:(0,r.jsx)(i.Z,{containerSize:320,description:e._('It looks like something went wrong. That\u2019s okay\u2014try refreshing this page.', 'error404.page.gumball.illustrations.description', 'Message displayed under the illustration when 404 error'),illustrationSize:186,message:e._('Something\u2019s a little off', 'error404.page.gumball.illustrations.message', 'Description displayed under the illustration when when 404 error'),name:"gumball",primaryAction:(0,r.jsx)(n.ZP,{color:"red",href:"",onClick:()=>{window.location.reload()},text:e._('Refresh page', 'error404.page.pinjar.illustration', 'Button text for refreshing the page for 404 error')})})})}},594135:function(e,l,a){a.d(l,{H:()=>d,W:()=>o});var n=a(667294),i=a(729434),t=a(791948),r=a(785893);let{Provider:s,get:o}=(0,i.Z)("LastSavedTo");function d({children:e}){let[l,a]=(0,n.useState)();(0,t.Z8)("BoardPickerBoardsShortlistResource",e=>{if(!l){let{data:l}=e.response.resource_response;a(l)}});let i=(0,n.useCallback)(e=>{let n=l?l.filter(l=>l.id!==e.id):[];a([e,...n])},[l]),o=(0,n.useMemo)(()=>({lastSavedTo:l,saveToBoard:i}),[l,i]);return(0,r.jsx)(s,{value:o,children:e})}},394887:function(e,l,a){a.d(l,{Z:()=>s});var n=a(255957),i=a(15667),t=a(653621),r=a(785893);function s({children:e,type:l}){let a=(0,i.B)();return(0,r.jsx)(n.Z,{annotateExperiments:[...a.isAuthenticated?["authDesktop"===l?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page"]:[],a.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth",..."authDesktop"===l?["closeup_dweb_side_by_side_redesign_fast_follow"]:[],..."authDesktop"===l?["auth_dweb_shuffle_renderer_closeup_v2"]:[]],constraints:"authDesktop"===l?[...t.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],surface:"pin_closeup",children:e})}},685178:function(e,l,a){a.d(l,{Z:()=>A});var n,i=a(667294);a(167912);var t=a(20256),r=a(821342),s=a(415546),o=a(369416),d=a(611282),u=a(453179),c=a(887946),p=a(436475),g=a(54840),m=a(483180),y=a(774429),_=a(611499),h=a(601686),f=a(785893);let k=`
.CloseupTitleCard {
  color: #444;
  font-weight: bold;
}

.CloseupTitleCard .richPinInformation {
  padding: 0 40px 16px;
  padding-top: 0;
  width: 470px; /* 80% of closeup width */
}

.CloseupTitleCard a {
    color: #444;
}

.CloseupTitleCard a:hover,
.CloseupTitleCard a:active {
  color: #444;
}`,x=void 0!==n?n:n=a(176376),S=e=>{let{clientTrackingParams:l,children:a,isLink:n=!0,onClick:i,pin:s,carouselInfo:o}=e,p=(0,c.Z)(s),g=(0,r.Z)(),{closeupWithinMasonryEnabled:m,peekCloseupEnabled:_}=(0,h.x4)(),k=(0,y.Z)({clickthroughType:"middleClick",location:"closeup.title"}),x=s.imageSpec_orig?.url&&s.imageSpec_orig.width&&s.imageSpec_orig.height?s.imageSpec_orig:null,S=a;if(o){let{carouselData:e}=o||{},{carousel_slots:l=[],index:a}=e||{};l&&null!=a&&l[a]&&(p=l[a].link||p,S=l[a].title||S)}let v=s?.originPinner&&g.isAuth&&g.id===s.originPinner.entityId||!s.isGoLinkless,b=(0,d.Z)({href:{pathname:p??x?.url??"",state:{trackingParams:l}},clientTrackingParams:l,target:"blank",externalData:{pin:s&&{advertiserId:s.advertiserId,attributionSourceId:s.attributionSourceId,board:s.board&&{url:s.board.url},campaignId:s.campaignId,entityId:s.entityId,isDownstreamPromotion:s.isDownstreamPromotion,isPromoted:s.isPromoted,pinner:s.pinner&&{username:s.pinner.username},pinPromotionId:s.pinPromotionId,promoter:s.promoter&&{entityId:s.promoter.entityId},storyPinDataId:s.storyPinDataId,trackingParams:s.trackingParams}}});if(!e.pin.entityId)return null;let P=S&&(0,f.jsx)(t.X6,{accessibilityLevel:1,lineClamp:_?2:void 0,size:m?"400":"600",children:S});return(0,f.jsx)("div",{itemProp:"name",children:(n||p)&&v?(0,f.jsx)(t.rU,{_onAuxClick:({event:e})=>{(0,u.UE)(e)&&(k(),e.preventDefault(),e.stopPropagation(),i&&i(),b({event:e}))},href:p??x?.url??"",onClick:({event:e,dangerouslyDisableOnNavigation:l})=>{l(),i&&i(),b({event:e})},rel:"nofollow",target:"blank",underline:"none",children:P}):P})},v=e=>{if(!e.pin.entityId)return null;let{entityId:l}=e.pin,a=e.pin.imageSpec_736x?.url&&e.pin.imageSpec_736x.width&&e.pin.imageSpec_736x.height?e.pin.imageSpec_736x:null;return(0,f.jsxs)(t.xu,{children:[(0,f.jsx)("meta",{content:`https://${m.Vi}/pin/${l}/`,itemProp:"url"}),a&&(0,f.jsx)("meta",{content:a.url,itemProp:"image"})]})},b=e=>{if(!e.pin.entityId)return null;let{pin:l}=e||{},{gridTitle:a,title:n}=l||{},t=a||n;return(0,f.jsx)(i.Fragment,{children:t&&(0,f.jsx)(g.Z,{children:(0,f.jsx)(S,{...e,children:t})})})},P=e=>{if(!e.pin.entityId)return null;let{pin:l}=e||{},{richMetadata:a,gridTitle:n}=l||{},{title:t}=a||{};return(0,f.jsx)(i.Fragment,{children:(n||t)&&(0,f.jsx)(g.Z,{itemType:_.iB.PRODUCT,children:(0,f.jsxs)(S,{...e,children:[n||t,(0,f.jsx)(v,{...e})]})})})},w=e=>{if(!e.pin.entityId)return null;let{pin:l}=e||{},{richMetadata:a,gridTitle:n}=l||{},{title:i}=a||{};return(0,f.jsx)(g.Z,{itemType:_.iB.ARTICLE,children:(0,f.jsx)(S,{...e,children:n||i})})},F=e=>{if(!e.pin.richMetadata?.recipe?.name)return null;let{name:l}=e.pin.richMetadata.recipe;return(0,f.jsx)(g.Z,{itemType:_.iB.RECIPE,children:(0,f.jsx)(S,{...e,children:l})})},T=e=>e.pin.richMetadata?.tutorial?.fromAggregatedData||!e.pin.richMetadata?.tutorial?.name?null:(0,f.jsx)(g.Z,{children:(0,f.jsx)(S,{...e,children:(0,f.jsx)(t.xu,{children:e.pin.richMetadata.tutorial.name})})}),I=e=>{let l=!!e.pin.richSummary?.displayName;return l?(0,f.jsx)(g.Z,{children:(0,f.jsx)(S,{...e,children:(0,f.jsx)(t.xu,{children:l})})}):null},C=e=>{if(!e.pin.entityId)return null;let{gridTitle:l}=e.pin||{};return(0,f.jsx)(g.Z,{itemType:_.iB.ARTICLE,children:(0,f.jsx)(S,{...e,children:l})})};function j(e){let{carouselInfo:l}=e,{carouselData:a}=l||{},{carousel_slots:n}=a||{};return((n||[])[0]||{}).title}let K=e=>{let{pin:l,...a}=e;if(!e.pin.entityId)return null;let n=j(a);return(0,f.jsx)(g.Z,{itemType:_.iB.ARTICLE,children:(0,f.jsx)(S,{...e,children:n})})},A=({pinKey:e,...l})=>{let a=(0,s.Z)(x,e),{carouselInfo:n,onTitleCheck:r}=l,d=!!a.entityId&&!!a.gridTitle,u=!!a.richMetadata?.tutorial?.name,c=!!a.richMetadata?.recipe?.name,g=!!a.richMetadata?.article?.name,m=!!a.richSummary?.displayName,y=(0,p.Z)(a),{clientTrackingParams:_}=(0,h.x4)(),S=C,v=!1;return n&&a.entityId&&j(l)?S=K:y?S=P:(e=>{let{carouselData:l,title:a}=e??{};if(a)return!0;if(l){let{carouselSlots:e,index:a}=l;if(null!=a&&e?.[a]&&e[a].title)return!0}return!1})(a)?S=b:u?S=T:c?S=F:g?S=w:m?S=I:d||(v=!0),(0,i.useEffect)(()=>{r?.(v)},[v,r]),(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(o.Z,{unsafeCSS:k}),(0,f.jsx)("div",{className:"CloseupTitleCard",children:(0,f.jsx)(t.xu,{children:(0,f.jsx)(S,{...l,clientTrackingParams:_,pin:a})})})]})}},580108:function(e,l,a){a.d(l,{Z:()=>t});var n=a(616550),i=a(506662);function t({hasPin:e,pinId:l,boardLayout:a,boardUrl:t}){let r=(0,n.TH)(),s=(0,n.UO)(),o=(0,n.k6)();return()=>{e&&(0,i.L6)(r)&&s.id===l&&o.replace("quick_saves"===a||"quick_creates"===a?"/me/":t??"/")}}},477464:function(e,l,a){a.d(l,{Z:()=>t});var n=a(453179),i=a(938287);let t=(e,l)=>{let a=e.action||void 0,t=(0,i.Z)({url:e.location.search});return"PUSH"===a?"click":("POP"!==a||e.location.key)&&"news_hub"!==t.entrySource?l&&(0,n.sV)(l)?"deeplink":"click":"deeplink"}},883379:function(e,l,a){a.d(l,{Z:()=>r});var n=a(274320),i=a(15667),t=a(647709);let r=({skipExpActivation:e=!1})=>{let{checkExperiment:l}=(0,n.ru)(),a=(0,t.HG)(),{isBot:r,isAuthenticated:s}=(0,i.B)();return!s&&!!a&&a&&!r&&l("unauth_dweb_closeup_redesign",{dangerouslySkipActivation:e}).anyEnabled}},607233:function(e,l,a){a.d(l,{Z:()=>n});function n(){return["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","domain.official_user()","pin.access","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.collection_pin()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description_html","pin.description","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.image_square_url","pin.images[170x,136x136,236x,474x,736x,orig]","pin.images[236x]","pin.is_downstream_promotion","pin.is_eligible_for_pdp","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link_domain()","pin.link_user_website()","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoted_lead_form","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.product_metadata()","product_metadata.shopping_flags","pin.sponsorship","pin.story_pin_data_id","pin.story_pin_data()","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","pintag.pin_tag_key","pintag.pins()","pintag.type","pintag.x_percent","pintag.y_percent","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.is_verified_merchant","user.type","user.username","user.verified_identity","userwebsite.official_user()","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"]}},97781:function(e,l,a){a.d(l,{Z:()=>u});var n=a(20256),i=a(475498),t=a(821342),r=a(525839),s=a(302148),o=a(274320),d=a(785893);function u({boardName:e,boardUrl:l,isBoardlessPin:a,isFromPinBuilder:u,hasNewPin:c,onChangeButtonClick:p,onVisitButtonClick:g=()=>{},onHide:m,onUndo:y,pinImageUrl:_}){let h,f=(0,r.ZP)(),{checkExperiment:k}=(0,o.ru)(),x=(0,t.Z)(),S=!!x.isAuth&&x.isPartner,v=a&&k("web_all_toasts_lead_to_boards").anyEnabled?S?"/me/pins/":"/me/_pins/":"/me/";return u?h={accessibilityLabel:f._('Visit Pin', 'PostSavedPinToast.a11yVisitButton', 'Accessibility label for Visit Pin saved from PinBuilder'),label:f._('Visit', 'PostSavedPinToast.VisitButton', 'Visit Pin saved from PinBuilder'),size:"lg",onClick:g}:(p||y)&&(h={accessibilityLabel:c&&a&&p?f._('Change Pin destination', 'PostSavedPinToast.a11yChangeButton', 'Change saved pin to a different destination'):f._('Undo Saved Pin', 'PostSavedPinToast.a11yUndoButton', 'Undo Saved Pin'),label:c&&a&&p?f._('Change', 'PostSavedPinToast.ChangeButton', 'Change saved pin to a different destination'):f._('Undo', 'PostSavedPinToast.UndoButton', 'Undo Saved Pin'),size:"lg",onClick:c&&a&&p?()=>p():y}),(0,d.jsx)(i.Z,{duration:a?6e3:3e3,imageUrl:_,onHide:m,primaryAction:h,text:(0,d.jsx)(n.xv,{overflow:"normal",size:"200",children:(0,s.nk)(f._('Saved to {{ destination }}', 'PostSavedPinToast.SavedToBoardLabel', 'Saved to label for better save'),{destination:(0,d.jsx)(n.rU,{href:a?v:l??"",children:(0,d.jsx)(n.xv,{lineClamp:1,size:"200",weight:"bold",children:e},"PostSavedPinToastBoardName")})})}),thumbnail:a?{icon:(0,d.jsx)(n.JO,{accessibilityLabel:f._('Saved to profile thumbnail', 'PostSavedPinToast.thumbnail.accessibilityLabel', 'Thumbnail for saved to profile.'),color:"default",icon:"history",size:24})}:void 0})}},725191:function(e,l,a){a.r(l),a.d(l,{default:()=>g});var n=a(20256),i=a(980787),t=a(93966),r=a(351607),s=a(138758),o=a(902293),d=a(601686),u=a(396162),c=a(785893);let p=t.yF;function g({contextLogData:e,bubbles:l,id:a,referringSource:t,slotIndex:g,storyType:m,title:y,titleIcon:_,viewType:h,viewParameter:f}){let{logContextEvent:k}=(0,i.u)(),{closeupWithinMasonryEnabled:x}=(0,d.x4)(),S=l?.map(({type:e,id:l})=>e+":"+l).join("|"),v={story_type:m,...e,content_ids:S},b=!!_&&(0,o.Z)(_);return(0,c.jsx)(r.Fw,{componentType:200,contextLogData:v,impressionType:"Story",loggingId:a,objectIdStr:a,slotIndex:g,viewParameter:f,viewType:h,children:({impressionTrackerRef:e})=>(0,c.jsxs)(n.xu,{ref:e,children:[y&&(0,c.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:[b&&(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,c.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:b,size:14})}),(0,c.jsx)(n.xv,{weight:"bold",children:(0,s.Z)(y)})]}),l?.map((e,l)=>(0,c.jsx)(n.xu,{flex:"none",paddingY:1,children:(0,c.jsx)(u.Z,{bubble:e,contextLogData:v,height:103,onClick:e=>{k({event_type:101,object_id_str:e,view_type:h,view_parameter:f,component:200,aux_data:v})},referringSource:t,slotIndex:l,storyId:a,viewParameter:f,viewType:h,width:x?"100%":p})},`bubble-${e.id}`))]})})}},966838:function(e,l,a){function n(e){return{type:"PIN_QUICK_SAVE",payload:e}}function i(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}a.d(l,{X:()=>i,d:()=>n})},589583:function(e,l,a){a.d(l,{Z:()=>A});var n,i=a(667294),t=a(581722);a(167912);var r=a(616550),s=a(575108),o=a(679422),d=a(697063),u=a(839626),c=a(821342),p=a(415546),g=a(390843),m=a(525839),y=a(302148),_=a(639983),h=a(796765),f=a(580108),k=a(594135),x=a(253861),S=a(548286),v=a(225013),b=a(189976),P=a(686231),w=a(401450),F=a(696323),T=a(244526),I=a(785893);function C(e,l,a){var n;return(l="symbol"==typeof(n=function(e,l){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,l||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}(l,"string"))?n:n+"")in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}let j=void 0!==n?n:n=a(246644);class K extends i.PureComponent{constructor(...e){super(...e),C(this,"state",{step:"unsaved",newPin:null}),C(this,"deletePin",e=>s.Z.create("PinResource",{id:e,client_tracking_params:this.props.clientTrackingParams}).callDelete()),C(this,"repin",()=>{let{boardSessionId:e,clientTrackingParams:l,eventContext:a,pin:n,target:i}=this.props,{board:t,boardSection:r}=i||{},o=!n.entityId&&n.imageUrl?(0,_.Z)(n.imageUrl??"",n.link):"",d=r&&r.id,u={board_id:t?.id||"",board_session_id:e,clientTrackingParams:l,description:n.description||"",image_base64:n.imageBase64??"",link:n.link,image_url:o,is_buyable_pin:!1,is_removable:!!n.promotedIsRemovable,media_upload_id:n.mediaUploadId??"",pin_id:n.entityId||"",section:d,title:n.title||"",eventContext:a};return s.Z.create("RepinResource",u).callCreate({showError:!1})}),C(this,"handleSave",()=>{let{makeCancelablePromise:e,mountAfterActionPlacement:l,onSave:a,requireAuth:n}=this.props,{step:i}=this.state;return n?void n():"unsaving"===i?void this.setState({step:"saving"}):void(this.setState({step:"saving"}),e(this.repin().then(({resource_response:{data:e}})=>{this.shouldCompleteSave(e),l("Save",{pin_id:this.props.pin.entityId,is_promoted:this.props.pin.isPromoted})})).then(a).catch(({isCanceled:e})=>{let{target:l}=this.props,{board:a,boardSection:n}=l||{};!e&&a&&d.Z.showError(n?(0,y.nk)(this.props.i18n._('Failed to save the Pin to {{sectionName}}', 'Error message when failed to save to a section within a board', 'Error message when failed to save to a section within a board'),{sectionName:n.title}).join(""):(0,y.nk)(this.props.i18n._('Failed to save the Pin to {{boardName}}', 'Error message when failed to save to a board', 'Error message when failed to save to a board'),{boardName:a.name}).join(""))}))}),C(this,"shouldCompleteSave",e=>{let{saveToBoard:l,pin:a,dispatch:n,target:i}=this.props,{board:t,boardSection:r}=i||{},{board:s}=e,{step:o}=this.state,d=r&&r.id,u=t||s,c={pinId:a.entityId,boardId:d,title:a.title||""};if("saving"===o&&u){this.props.onPinCreate&&this.props.onPinCreate({boardId:e.board.id,pinId:e.id}),l(u),"BoardShoppingModule"!==this.props.surface&&(n((0,b.vX)({feedId:d||u.id,feedType:d?F.Z.BOARD_SECTION_PINS:F.Z.BOARDFEED,itemIds:[a.entityId],itemType:"pin"})),n((0,S.Br)({boardId:u.id,sectionId:r?r.id:void 0,increment:1})));let{imageUrl:i,imageSpec_236x:t}=a,s=i||t&&t.url||"";return(r||!u.image_cover_url)&&(u.image_cover_url=s,n((0,S.yT)(u))),n((0,P.a1)({...c,localPinId:e.id,nodeId:a.__id})),n((0,w.JS)({userId:e.pinner.id,increment:1})),this.setState({step:"saved",newPin:e}),e}"unsaving"===o&&this.handleUnsave(e.id)}),C(this,"handleUnsave",e=>{let{step:l}=this.state,{savedInfo:a}=this.props.pin;if("unsaved"===l)return;if("saving"===l)return void this.setState({step:"unsaving"});let n=a&&a.localPinId||e;n&&(this.setState({step:"unsaving"}),this.deletePin(n).then(()=>this.shouldCompleteUnsave()))}),C(this,"shouldCompleteUnsave",()=>{let{pin:e,target:l,dispatch:a,onDelete:n,viewerId:i}=this.props,{board:t,boardSection:r}=l||{},{step:s}=this.state;if("unsaving"===s){if(e.savedInfo&&t){let l=r?.id;a((0,P.jg)({pinId:e.entityId,nodeId:e.__id})),"BoardShoppingModule"!==this.props.surface&&a((0,S.Br)({boardId:t.id,sectionId:l,increment:-1})),a((0,w.JS)({userId:i,increment:-1})),a((0,S.xQ)(t.id)),a((0,b.EX)({feedId:l||t.id,feedType:l?F.Z.BOARD_SECTION_PINS:F.Z.BOARDFEED,itemIds:[e.entityId],itemType:"pin"})),l&&a((0,v.Z)(l)),n&&n()}this.setState({step:"unsaved"})}"saving"===s&&this.handleSave()})}render(){let{children:e}=this.props,{step:l,newPin:a}=this.state,{savedInfo:n}=this.props.pin;return e({save:this.handleSave,saved:"saved"===l||"saving"===l||!!(n&&n.localPinId),savedInfo:{...n,boardId:a?.board?.id,url:a?.board?.url,title:a?.board?.name},unsave:this.handleUnsave,type:"persistentOneClickSave"})}}function A({pinKey:e,...l}){let{previous:a}=(0,g.ou)(),{saveToBoard:n}=(0,k.W)(),i=(0,t.I0)(),s=(0,x.J)()?.onPinCreate,d=(0,m.ZP)(),y=(0,h.Z)(),_=(0,r.TH)(),S=(0,o.Z)(),v=(0,c.Z)(),b=(0,T.$)(),P=(0,p.Z)(j,e),w=(0,f.Z)({hasPin:!!P,pinId:P.entityId,boardLayout:P.board?.layout,boardUrl:P.board?.url}),F=(0,u.cO)();return(0,I.jsx)(K,{...l,boardSessionId:b,clientTrackingParams:P?.trackingParams,dispatch:i,i18n:d,location:_,makeCancelablePromise:y,mountAfterActionPlacement:F,onDelete:()=>{w(),l.onDelete?.()},onPinCreate:s,pin:P,previousHistory:a,requireAuth:S,saveToBoard:n,viewerId:v.isAuth?v.id:""})}},244526:function(e,l,a){a.d(l,{$:()=>g,h:()=>m});var n=a(667294),i=a(616550),t=a(172045),r=a(121836),s=a(729434),o=a(390843),d=a(238589),u=a(982234),c=a(785893);let{Provider:p,getMaybe:g}=(0,s.Z)("BoardSessionIdcontext");function m({children:e}){let{previous:l,current:a,forward:s}=(0,o.ou)(),g=(0,n.useRef)(!1),m=(0,i.TH)(),y=a?.match?.path||"",_=s.length>0&&s[s.length-1]?.match?.path||"",[,h,f]=m.state?.from?.pathname.split("/")||[],[,,k,x]=m.pathname.split("/"),S=_?.includes("/:username/:slug")||"/pin/:id"===_,v=!l.length,b=!(!x&&("/pin/:id"===y||y?.includes("/:username/:slug/_tools"))||v||S||f===k||!h)||!("_saved"!==k&&k),P=(0,n.useMemo)(()=>{let e,l="undefined"!=typeof window;if(l){let l=(0,d.Nl)().getItem(r.U5);e=l?.boardSessionId}if((0,u.Z)(r.U5)&&(b||!e)&&!g.current){g.current=!0;let e=(0,t.Z)();return l&&(0,d.Nl)().setItem(r.U5,{boardSessionId:e}),e}return e},[b]);return(0,n.useEffect)(()=>()=>{"undefined"!=typeof window&&b&&(0,d.Nl)().removeItem(r.U5)},[b]),(0,c.jsx)(p,{value:P,children:e})}},846051:function(e,l,a){a.d(l,{Z:()=>r});var n=a(706563),i=a(287819),t=a(169330);function r(e,l,a,r){switch(e){case 0:return function({isShortened:e,minutes:l,i18n:a}){if(!l)return"";if(e)return(0,t.Z)(l,a).join("");let r=(0,i.Z)((0,n.X)({m:l}),a);if(!r)return"";let s=r.join(""),o=a._('Cook Time', 'ideapin.basics.cookTime', 'The cook time for the food in this pin');return`${o}: ${s}`}({minutes:parseInt(l,10),i18n:a,isShortened:r});case 1:return function({servingSize:e,i18n:l}){return e?1===e?`${e} ${l._('serving', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:`${e} ${l._('servings', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:""}({servingSize:parseInt(l,10),i18n:a});case 2:return function({difficulty:e,i18n:l}){let a={1:l._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:l._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:l._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},n=l._('Difficulty', 'ideapin.basics.difficulty', 'The difficulty for the activity in this pin');return`${n}: ${a[e??"1"]}`}({difficulty:l,i18n:a});default:return""}}},213967:function(e,l,a){a.d(l,{Z:()=>n});let n=e=>e.join(` \u2022 `)},171889:function(e,l,a){a.d(l,{Z:()=>p});var n=a(667294),i=a(20256),t=a(351607),r=a(274320),s=a(15667),o=a(647709),d=a(785893);function u({children:e,viewParameter:l,viewType:a,contextLogData:r,id:s,url:o,width:u,onTap:c,variantOneEnabled:p}){let[g,m]=(0,n.useState)(!1),[y,_]=(0,n.useState)(!1),h=(0,t.ZP)({contextLogData:r,impressionType:"Article",loggingId:s,slotIndex:2,viewParameter:l,viewType:a});return(0,d.jsx)(i.Tg,{fullWidth:!0,href:o,onBlur:()=>m(!1),onFocus:()=>m(!0),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onTap:e=>{_(!0),c?.(e)},rounding:4,children:(0,d.jsx)(i.xu,{ref:h,rounding:4,width:u?u+8:"100%",children:(0,d.jsx)(i.zd,{rounding:4,children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y?"rgba(205, 205, 188, 1)":g?"rgba(222, 222, 211, 1)":"rgba(240, 240, 235, 1)",paddingBottom:p?void 0:0}},padding:1,children:e})})})})}let c=["enabled_variant_2","enabled_variant_3"];function p({contextLogData:e,height:l,id:a,images:n,title:t,onTap:p,url:g,viewParameter:m,viewType:y,width:_,lineClamp:h,isPinPage:f,isKlpPage:k,variant:x="standard"}){let{checkExperiment:S}=(0,r.ru)(),{isAuthenticated:v}=(0,s.B)(),b=(0,o.HG)(),P=b||v||!k?"":S("unauth_mweb_klp_related_interests_v2").group,w=b&&!v&&k?S("unauth_dweb_klp_related_interests_v2").group:"",F=b&&!v&&f?S("unauth_dweb_pin_page_related_interests_v2").group:"",T=b||v||!f?"":S("unauth_mweb_pin_page_related_interests_v2").group,I=n&&n[0]&&(n[0]["236x"]?.url||n[0]["474x"]?.url)||"",C=_===l||"enabled_variant_3"===P||"enabled_variant_3"===w||"enabled_variant_3"===F||"enabled_variant_3"===T?"51px":"38px",j="enabled_variant_2"===P||"enabled_variant_2"===w||"enabled_variant_2"===F||"enabled_variant_2"===T,K="enabled_variant_3"===P||"enabled_variant_3"===w||"enabled_variant_3"===F||"enabled_variant_3"===T,A=c.includes(P)||c.includes(w)||c.includes(F)||c.includes(T),L=(0,d.jsx)(i.zd,{height:"standard"===x?l:"100%",rounding:3,wash:!0,width:"standard"===x?l:"100%",children:(0,d.jsx)(i.Ee,{alt:"",fit:"cover",naturalHeight:j?9:1,naturalWidth:j?16:1,role:"presentation",src:I})});return(0,d.jsx)(u,{contextLogData:e,id:a,onTap:p,url:g,variantOneEnabled:"enabled_variant_1"===P||"enabled_variant_1"===w||"enabled_variant_1"===F||"enabled_variant_1"===T,viewParameter:m,viewType:y,width:_,children:(0,d.jsxs)(i.kC,{direction:"standard"===x?"row":"column",children:[(0,d.jsx)(i.xu,{alignItems:"center","data-test-id":"search-suggestion-image-container",display:"flex",children:"standard"===x?L:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:j?"56.25%":"100%"}},position:"relative",top:!0,width:"100%",children:(0,d.jsx)(i.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:L})})}),(0,d.jsx)(i.xu,{alignItems:"center",display:"flex",maxHeight:"standard"===x?l:void 0,padding:A?3:4,children:(0,d.jsx)(i.xv,{lineClamp:h,children:(0,d.jsx)("span",{style:{fontWeight:500,fontSize:K?"14px":"16px",height:"square"===x?C:void 0,lineHeight:K?"17px":"19px",display:"block"},children:t})})})]})})}},881207:function(e,l,a){a.d(l,{cU:()=>n});function n(e){return new URL(`${"ssl"===e.headers["x-forwarded-protocol"]||"https"===e.headers["x-forwarded-proto"]||"https"===e.headers["original-proto"]?"https":"http"}://${e.headers.host}${e.url}`).pathname}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/11154-91629335068d783b.mjs.map