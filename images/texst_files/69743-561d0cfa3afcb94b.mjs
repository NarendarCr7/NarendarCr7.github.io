(self.modernJsonp=self.modernJsonp||[]).push([["69743"],{473304:function(e,t,o){o.d(t,{Z:()=>_});var i=o(667294),l=o(20256),n=o(830811),a=o(937805),r=o(667835),s=o(816358),d=o(516114),c=o(785893);function _({children:e,footerConfig:t,headerConfig:o,height:_,hideOnScroll:h,hideOnScrollState:{isHidden:u,updateHiddenState:p},isFooterHidden:m,noPadding:g,paddingX:f,paddingY:b=d.og,type:P,zIndex:x}){let v,A,{headerLimitedOverflow:z,ignoreObstructions:w,zIndexForGestaltBug:j}=o||{},{appUpsellFooterConfig:S,footerInLego:y,navFooterConfig:L}=t||{},C=!!S,k="header"===P?"top":"bottom",I=(0,r.vs)(),{mWebCloseupRedesignEnabled:O}=(0,a.Z)(),B=(0,i.useRef)(null),E=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!w){let e=B.current;E.current=z&&e&&Array.isArray(e.children)?e.children[0]:e,E.current instanceof HTMLElement&&s.Z.addObstruction(k,E.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!w&&E.current instanceof HTMLElement&&s.Z.removeObstruction(k,E.current)}},[w,z,k,I]);let M="top"===k?"relative":"fixed",T=g?0:b,R=(_??d.R$)+(o?.overrideTop||0),H=h||L?{transition:y||O?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...u||m?{transform:`translateY(${"top"===k?-R:R}px)`,opacity:y||O?0:1}:Object.freeze({})}:{},D=2*!("relative"!==M||o?.noGutter),U=D?-D:0,N=I?r.k7:"rgba(255,255,255,.95)";I&&("header"===P?v=-1:A=-1);let F=y?C?void 0:_??d.R$:"100%",Z=y?d.KJ:void 0,$=o?.isTranslucent&&N||I?N:n.k95,Y=o?.isTransparentBackground&&n.o7L?n.o7L:$,X=(0,i.useMemo)(()=>({height:"footer"===P&&O?`calc(${F} + env(safe-area-inset-bottom))`:F,...O&&"footer"===P?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(T||0)}px)`}:Object.freeze({})}),[O,F,P,T]);return(0,c.jsx)(l.xu,{ref:B,bottom:"footer"===P,dangerouslySetInlineStyle:{__style:{top:v,bottomStyle:A,...!x||j?{zIndex:j||1}:Object.freeze({}),...z?{background:"transparent",overflow:"hidden",paddingBottom:d.UB,marginBottom:-d.UB,pointerEvents:"none"}:Object.freeze({}),...o?.hasBorder?{borderBottom:d.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...H}},"data-test-id":P,display:C?"flex":void 0,height:_&&!y?_:void 0,left:!0,marginEnd:y?"auto":U,marginStart:y?"auto":U,onTransitionEnd:()=>{(h||L)&&E.current&&(u||m?s.Z.removeObstruction(k,E.current):s.Z.addObstruction(k,E.current))},position:M,right:!0,top:"header"===P,width:y||"fixed"!==M?void 0:"100%",zIndex:j?void 0:x,children:(0,c.jsx)(l.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:Y,...X,boxShadow:O&&"footer"===P?`0 10px 0 0 ${Y}, ${d.KJ}`:Z,marginBottom:y&&!L?.docked?16:void 0,...z?{pointerEvents:"auto"}:Object.freeze({}),...o?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:y||t?.alignCenter?"flex":void 0,marginEnd:y?"auto":void 0,marginStart:y?"auto":void 0,paddingX:f||4*("footer"===P&&!g)+D,paddingY:T,position:"relative",rounding:y&&!L?.docked?"pill":void 0,width:L?L.footerWidth:C?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:p}):e})})}},211887:function(e,t,o){o.d(t,{Z:()=>a});var i=o(667294),l=o(159527);function n(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class a extends i.Component{constructor(...e){super(...e),n(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),n(this,"lastScrollPos",0),n(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),n(this,"handleScroll",(0,l.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:o}=this.state,i=window.scrollY,l=i-this.lastScrollPos,n="none",{scrollHeight:a,clientHeight:r}=document.documentElement||{};Number.isNaN(a)||Number.isNaN(r)||(n=l<0?i<=Math.abs((window.scrollMinY||0)+Math.max(l,20))?"start":"none":i>=(window.scrollMaxY||a-r)-Math.max(l,20)?"end":"none");let s=55*!t?.isModal;e?l>20&&o&&i>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(l<-20&&!o||i<=s)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===n&&!o||i<=s?(this.updateHiddenState(!0),t?.onScroll(!0)):(i>s||"end"===n)&&o&&(this.updateHiddenState(!1),t?.onScroll(!1)):(l<-20||"start"===n)&&o||i<=s?(this.updateHiddenState(!1),t?.onScroll(!1)):(l>20||"end"===n)&&!o&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=i},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:o}=this.state;return e({isHidden:!t?.forceShow&&o,updateHiddenState:this.updateHiddenState})}}},516114:function(e,t,o){o.d(t,{KJ:()=>r,LV:()=>a,R$:()=>i,UB:()=>n,dS:()=>s,og:()=>l});let i=64,l=3,n=100,a=44,r="0px 0px 8px rgba(0, 0, 0, 0.1)",s="1px solid #efefef"},964577:function(e,t,o){o.d(t,{Z:()=>i});let i={BOARD_PICKER:"board_picker",ORGANIZE_PINS:"organize_pins",PROFILE:"profile",PIN_CLUSTER:"create_pin_cluster_page"}},661314:function(e,t,o){o.d(t,{Z:()=>w});var i=o(667294),l=o(581722),n=o(616550),a=o(20256),r=o(521009),s=o(839626),d=o(982166),c=o(525839),_=o(274320),h=o(647709),u=o(640924),p=o(964577),m=o(785893);function g({isOpen:e,onDismiss:t}){let o=(0,c.ZP)();return(0,m.jsx)(d.ZP,{accessibilityModalLabel:o._('Disabled Pin Publishing Error Message Modal', 'disabledPinCreationModal.modal.accessibilityLabel', 'Label for disabled pin creation modal'),isOpen:e,mobileAccessibilityCloseIconLabel:o._('Close disabled publishing message modal', 'disabledPinCreationModal.modal.closeIconLabel', 'Label for the close button on the disabled publishing modal'),onDismiss:t,type:"DisabledPublishingModal",children:(0,m.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,m.jsx)(a.X6,{children:o._('Oops...', 'disabledPinCreationModal.modal.heading', 'Exclamation used to show recognition of a mistake.')}),(0,m.jsx)(a.xu,{paddingY:3,children:(0,m.jsx)(a.xv,{children:o._('Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.', 'disabledPinCreationModal.modal.text', 'Message to let users know there is an error.')})}),(0,m.jsx)(a.xu,{paddingY:3,children:(0,m.jsx)(a.zx,{color:"red",onClick:()=>t(),size:"lg",text:o._('Dismiss', 'disabledPinCreationModal.button.dismiss', 'Button text for closing the disabled pin creation modal')})})]})})}function f(e){let t=(0,c.ZP)(),{viewType:o,boardId:i,handleTouch:l}=e,n=t._('Board', 'createMenuLinkButton.Create.Board.Label', 'label for creating a new board option'),r=t._('Section', 'createMenuLinkButton.Create.Section.Label', 'label for creating a new section option');return 5===o&&i?(0,m.jsx)(a.Tg,{href:`/board/${i}/create_section/`,onTap:l,rounding:2,children:(0,m.jsx)(a.xu,{"data-test-id":"addSectionButton",paddingY:2,children:(0,m.jsx)(a.X6,{size:"400",children:r})})}):(0,m.jsx)(a.Tg,{href:"/board/create/",onTap:l,children:(0,m.jsx)(a.xu,{"data-test-id":"createMenuCreateBoardButton",paddingY:2,children:(0,m.jsx)(a.X6,{size:"400",children:n})})})}var b=o(441912);function P({disabledPinCreation:e,handleDisablePublish:t,handleTouch:o}){let i=(0,c.ZP)(),l=(0,n.k6)(),r=i._('Photo', 'createPinButton.Photo.Upload.Label', 'label to upload pin from camera roll photos');return(0,m.jsx)(a.iP,{onTap:()=>{if(e)return void t();o()},tapStyle:"none",children:(0,m.jsxs)(a.xu,{paddingY:2,position:"relative",children:[(0,m.jsx)(a.X6,{size:"400",children:r}),e?null:(0,m.jsx)("input",{accept:"image/*",id:"upload-pin",onChange:e=>{let t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{let e=t.result;l.push({pathname:`/pin/create/${b.Iv}/`,state:{imageBase64:String(e),description:"",imageUrl:"",method:b.Iv}})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"},type:"file"})]})})}var x=o(156618),v=o(352908),A=o(87728);function z({bgColor:e,boardId:t,buttonPadding:o,disabledPinCreation:l,elementType:n,history:r,i18n:c,iconButtonColor:_="gray",iconButtonSize:h="xl",isDesktop:b,isInputOpen:v,logContextEvent:A,requireAuthForLimitedLogin:z,submittedLink:w,updatePinBuilderInput:j,viewType:S}){let[y,L]=(0,i.useState)(""),[C,k]=(0,i.useState)(!1),[I,O]=(0,i.useState)(!1),[B,E]=(0,i.useState)(!1),[M,T]=(0,i.useState)(null);(0,i.useEffect)(()=>{(v||w)&&(k(!!v),O(!!v),w&&L(w))},[v,w]);let R=(0,i.useRef)(null),H=(0,i.useRef)(null),D=()=>{A({view_type:S,view_parameter:3106,element:n,event_type:102,aux_data:{source:p.Z.PROFILE}})},U=()=>{k(!1),O(!1),j({isInputOpen:!1,submittedLink:""})},N=()=>{k(!1),E(!0)},F=({value:e})=>{L(e)},Z=(e,t)=>{e.preventDefault();let{errors:o}=(0,u.Jx)({message:c._('Oops! Please enter a valid URL.', 'URL validation error message on Pin builder form', 'URL validation error message on Pin builder form')})(y),[i]=o;i?T(i):(O(!1),j({submittedLink:y}),t.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:y}}),U())},$=c._('Add a Pin or board', 'heading in profile create modal', 'heading in profile create modal');164===S?$=c._('Add to section', 'heading in section create modal', 'heading in section create modal'):5===S&&($=c._('Add a Pin or section', 'heading in profile create modal', 'heading in profile create modal')||c._('Add to board', 'heading in board create modal', 'heading in board create modal'));let Y=4===S?c._('Add to profile', 'editPin.AddToProfile.Modal.Header', 'heading in profile create modal'):$,X=(5===S||164===S)&&H.current;return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(a.xu,{"data-test-id":"createMenuCreateButton",children:(0,m.jsx)(a.hU,{ref:H,accessibilityLabel:c._('Create a Pin or board', 'icon that opens model prompting user to create a new pin or board', 'icon that opens model prompting user to create a new pin or board'),bgColor:e,icon:"add",iconColor:_,onClick:()=>{D(),z({fn:()=>k(!0),modalHeader:(0,x.is)(c)})()},padding:"auto"!==o?o:1,size:h})})}),C&&(0,m.jsx)(d.ZP,{accessibilityModalLabel:"",heading:Y,isOpen:C,mobileAccessibilityCloseIconLabel:c._('close board and pin create modal', 'close modal that prompts user to create a new pin or board', 'close modal that prompts user to create a new pin or board'),onDismiss:U,type:"create_menu",children:(0,m.jsx)(a.xu,{padding:3,children:(0,m.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(a.xu,{paddingX:2,children:[(0,m.jsx)(a.xu,{marginBottom:2,children:(0,m.jsx)(a.xv,{children:c._('Create', 'editPin.Create.Section.Text', 'Section title to Create new things on Edit Pin add modal')})}),(()=>{let e=c._('Website', 'editPin.CreatePinFromUrl.Label', 'label for option to create a pin from a url');return(0,m.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:I?(0,m.jsx)("form",{onSubmit:e=>Z(e,r),style:{width:"100%"},children:(0,m.jsxs)(a.kC,{alignItems:"start",justifyContent:"between",children:[(0,m.jsx)(a.xu,{ref:R,width:"100%",children:(0,m.jsx)(a.xu,{marginBottom:2,marginEnd:2,smMarginBottom:0,smMarginEnd:2,children:(0,m.jsx)(a.nv,{errorMessage:M,id:"create-pin-from-link",onChange:F,onFocus:()=>T(null),placeholder:(e=>{let t=window&&window.innerWidth||0,o=e._('Enter a link to create a Pin, https://...', 'placeholder in text field where a user inputs a URL to create a Pin', 'placeholder in text field where a user inputs a URL to create a Pin'),i=e._('Enter a link, https://...', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit');return t<380?i:o})(c),size:"lg",value:y})})}),(0,m.jsx)(a.hU,{accessibilityLabel:c._('Create Pin from entered link', 'navigation button to confirm user will create a Pin from a link they entered', 'navigation button to confirm user will create a Pin from a link they entered'),icon:"arrow-forward",iconColor:"darkGray",onClick:({event:e})=>Z(e,r),size:"lg"})]})}):(0,m.jsx)(a.iP,{onTap:()=>{if(l)return void N();O(!0),j({isInputOpen:!0})},tapStyle:"none",children:(0,m.jsx)(a.xu,{"data-test-id":"websiteButton",position:"relative",children:(0,m.jsx)(a.X6,{size:"400",children:e})})})})})(),(0,m.jsx)(P,{disabledPinCreation:l,handleDisablePublish:N,handleTouch:D})]}),164!==S&&(0,m.jsxs)(a.xu,{marginTop:6,paddingX:2,children:[(0,m.jsx)(a.xv,{children:c._('Add', 'editPin.Section.Add.Text', 'Section Add title on Edit Pin add modal')}),(0,m.jsx)(f,{boardId:t,handleTouch:()=>{D(),U()},viewType:S})]}),(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,m.jsx)(a.zx,{onClick:()=>U(),size:"lg",text:c._('Close', 'editPin.Modal.Close.Button', 'Button text to close modal on EditPin')})})]})})}),B&&(0,m.jsx)(g,{isOpen:!0,onDismiss:()=>{E(!1)}}),X&&(0,m.jsx)(s.N,{anchors:{[b?3006:4006]:H.current},idealDirection:"up",onAnchorTouch:"complete",placementId:b?18:1000251,scrollToDismiss:!0})]})}function w(e){let t=(0,c.ZP)(),o=(0,h.HG)(),{checkExperiment:i}=(0,_.ru)(),a=["disable_all","disable_web_pins"].includes(i("disable_pin_creation").group),s=(0,l.I0)(),d=(0,n.k6)(),{pinBuilder:u}=(0,l.v9)(e=>e.session),p=(0,r.Z)(),g=u&&u.isInputOpen,f=u&&u.submittedLink,b=(0,v.Z)();return(0,m.jsx)(z,{...e,disabledPinCreation:a,history:d,i18n:t,isDesktop:o,isInputOpen:g,logContextEvent:p,requireAuthForLimitedLogin:b,submittedLink:f,updatePinBuilderInput:e=>s((0,A.p)(e))})}},441912:function(e,t,o){o.d(t,{Iv:()=>i,dU:()=>h,it:()=>a,jI:()=>_,n0:()=>s,nY:()=>n,sW:()=>c,up:()=>l});let i="uploaded",l="pinbuilder",n="scraped",a="button";function r(e){return!!e&&"object"==typeof e&&"method"in e}function s(e){return r(e)&&e.method===n}function d(e){return r(e)&&e.method===i}function c(e){return r(e)&&e.method===a}function _(e){return s(e)||d(e)||c(e)}function h({boardId:e,checkExperiment:t,createPin:o,sectionId:i,state:l}){let n=[];if(s(l)){let{imgData:a}=l;a.forEach(a=>{n.push(o(function({boardId:e,checkExperiment:t,image:o,sectionId:i,state:l}){let{description:n,link:a,method:r}=l;return{boardId:e,checkExperiment:t,description:n,guid:"",imageBase64:"",imageUrl:o,link:a,method:r,sectionId:i}}({boardId:e,checkExperiment:t,image:a,sectionId:i,state:l})))})}else n.push(o(function({boardId:e,checkExperiment:t,sectionId:o,state:i}){if(d(i)){let{description:l,imageBase64:n,imageUrl:a,method:r}=i;return{boardId:e,checkExperiment:t,description:l,guid:"",imageBase64:n,imageUrl:a,link:"",method:r,sectionId:o}}{let{description:l,guid:n,imageUrl:a,link:r,method:s}=i;return{boardId:e,checkExperiment:t,description:l,guid:n,imageUrl:a,link:r,method:s,sectionId:o}}}({boardId:e,checkExperiment:t,sectionId:i,state:l})));return n}},156618:function(e,t,o){o.d(t,{Bb:()=>m,Bx:()=>r,F4:()=>a,Qj:()=>s,_6:()=>p,gv:()=>n,hg:()=>d,is:()=>h,jP:()=>u,lt:()=>l,oM:()=>c,wI:()=>_});var i=o(378888);let l=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),n=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),a=e=>{let t=(0,i.mB)(e.search).board_url;if(t){let e=(0,i.Jx)(t),o=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${o}`:`${e}?${o}`}return e.pathname},r=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),s=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),c=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),_=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},h=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),u=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),p=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),m=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},87728:function(e,t,o){o.d(t,{F:()=>i,p:()=>l});let i=e=>({type:"PIN_BUILDER_LOADED_IMAGES",payload:e}),l=e=>({type:"UPDATE_PIN_BUILDER_INPUT",payload:e})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/69743-561d0cfa3afcb94b.mjs.map