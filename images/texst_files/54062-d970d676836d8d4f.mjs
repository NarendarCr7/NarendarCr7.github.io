(self.modernJsonp=self.modernJsonp||[]).push([["54062"],{13882:function(e,t,o){o.d(t,{Z:()=>a});function a(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},619013:function(e,t,o){o.d(t,{Z:()=>r});var a=o(13882);function r(e){(0,a.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},167666:function(e,t,o){o.r(t),o.d(t,{default:()=>r});let a={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:l=[{alias:null,args:[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:l},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};a.hash="08ff9e5b3aeff18d0d8d4d9f872bd8ba";let r=a;var i,l,s=a.default||a;if("query"===s.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(s);else{let e=[s.params.name,s.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=s}},333127:function(e,t,o){o.r(t),o.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardHeaderOverflowMenuFragment_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null}],storageKey:null}],type:"V3GetBoard",abstractKey:null};a.hash="5eb01f50884761ae6dfcf21978f9b0cd";let r=a},628710:function(e,t,o){o.d(t,{Z:()=>a});function a(e){return{name:e.full_name||"",src:e.image_medium_url||e.image_small_url||"",href:`/${e.username}/`}}},559136:function(e,t,o){o.d(t,{Z:()=>c,w:()=>_});var a=o(302148);let r=e=>e._('{{ first }}', 'Generic message that lists 1 item', 'Generic message that lists 1 item (ex: Stevie)'),i=e=>e._('{{ first }} and {{ second }}', 'Generic message that lists 2 items', 'Generic message that lists 2 items (ex: Stevie and Michael)'),l=e=>e._('{{ first }}, {{ second }} and {{ third }}', 'Generic message that lists 3 items', 'Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)'),s=e=>e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'Generic message that lists 4 items', 'Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)'),n=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'Generic message that lists 5 items', 'Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)'),d=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'Generic message that lists 6 items', 'Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)');function c(e,t){let o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,a.nk)(r(t),o);case 2:return(0,a.nk)(i(t),o);case 3:return(0,a.nk)(l(t),o);case 4:return(0,a.nk)(s(t),o);case 5:return(0,a.nk)(n(t),o);case 6:return(0,a.nk)(d(t),o);default:return(0,a.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'Generic message that lists more than 6 items', 'Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)'),o)}}function _(e,t){let o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,a.nk)(r(t),o);case 2:return(0,a.nk)(i(t),o);case 3:return(0,a.nk)(l(t),o);case 4:return(0,a.nk)(s(t),o);case 5:return(0,a.nk)(n(t),o);case 6:return(0,a.nk)(d(t),o);case 7:return(0,a.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'Generic message that lists 7 items', 'Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)'),o);default:return(0,a.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'Generic message that lists more than 7 items', 'Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)'),o)}}},140725:function(e,t,o){o.d(t,{Q:()=>n,Z:()=>d});var a=o(667294),r=o(521009),i=o(346955),l=o(991384),s=o(15667);function n(e,t){let{setViewContextData:o}=(0,i.A$)(),{requestIdentifier:n}=(0,s.B)(),d=(0,r.Z)(),{viewData:c}=(0,i.SU)();(0,a.useEffect)(()=>{e&&(o({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,l.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:n}))},[t])}function d(e){let{children:t,log:o}=e;return n(o),t||null}},189381:function(e,t,o){o.d(t,{Z:()=>a});let a=e=>Math.floor(new Date(e).getTime()/1e3)},680713:function(e,t,o){o.d(t,{Kf:()=>i,QN:()=>s,hU:()=>n,xp:()=>l});var a=o(20256),r=o(635459);let i=new a.H3([r.Z]),l={attributionLabel:"unauth_hybrid_banner",source:"login",container:"bottom.right.upsell.email",reason:"CLICK_LOGIN_OR_SIGNUP"},s=350,n=286},821342:function(e,t,o){o.d(t,{$:()=>a,Z:()=>i});let{Provider:a,get:r}=(0,o(729434).Z)("viewer"),i=r},991384:function(e,t,o){o.d(t,{Z:()=>function e(t,o,a=()=>void 0){let r=a(t,o);return void 0!==r?r:void 0===o?t:Array.isArray(t)&&Array.isArray(o)?o.reduce((t,r,i)=>(t[i]=e(t[i],o[i],a),t),[...t]):t&&"object"==typeof t&&o&&"object"==typeof o?Object.keys(o).reduce((t,r)=>(t[r]=e(t[r],o[r],a),t),{...t}):o}})},467221:function(e,t,o){o.d(t,{GH:()=>n,JF:()=>b,Jb:()=>h,MI:()=>p,_V:()=>d,fi:()=>m,sl:()=>_,we:()=>u});var a=o(189381),r=o(686319),i=o(55543),l=o(6179),s=o(941404);let n="274266067164",d=()=>["public_profile","email","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender"],_=e=>{e&&(0,s.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:n,status:!0,xfbml:!0,version:"v2.7"})):e?(0,s.dy)({event:"global_object_not_found",provider:"facebook"}):(0,s.My)("pcons.non_autologin.fb.global_object_not_found")},u=(e,t)=>(t&&(0,s.dy)({event:"load_script_start",provider:"facebook"}),(0,i.Z)((0,l.Z)(e),"FACEBOOK").then(()=>_(t))),h=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)});async function p(e){let t=(await (0,r.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:c}})).resource_response.data||{};return(0,s.My)(t?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:t.birthday,email:t.email,first_name:t.first_name,gender:t.gender,id:t.id,last_name:t.last_name,picture:t.picture}}let b=()=>new Promise(e=>{window.FB.login(e,{scope:d().join(",")})}).then(e=>{let t;return new Promise((o,r)=>{if("connected"!==e.status)return void r({status:e.status||"unknown"});let{userID:i,accessToken:l}=e.authResponse;p(l).then(e=>{o({creds:{facebook_id:i,facebook_token:l,facebook_autologin:t?.autologin||!1},signupOptions:(({userID:e,accessToken:t,data:{birthday:o,email:r,first_name:i,gender:l,last_name:s,picture:n}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:o?(0,a.Z)(o):void 0,email:r,first_name:i,gender:l,image_url:n&&!n.data.is_silhouette?n.data.url:void 0,last_name:s}))({userID:i,accessToken:l,data:e})})},r)})}),m=async(e,t)=>{await u(e,!1);let o=await h(),a=t?"dweb":"mweb";if("connected"===o.status){(0,s.My)(`${a}.login_data_from_fb_token.connected`);let{userID:e,accessToken:t}=o.authResponse;try{let o=await (0,r.Z)({url:"/v3/facebook/login_data/",data:{facebook_id:e,facebook_token:t}});if(o?.resource_response?.data){let{connected_to_gplus:e,connected_to_google:t,has_password:r}=o.resource_response.data,i=e||t;return(0,s.My)(`${a}.login_data_from_fb_token.success`),{isGoogleConnected:i,hasPassword:r,isFBAuthOnly:!i&&!r}}(0,s.My)(`${a}.login_data_from_fb_token.no_data`)}catch{(0,s.My)(`${a}.login_data_from_fb_token.error`)}}return null}},15667:function(e,t,o){o.d(t,{B:()=>c,P2:()=>d,Ts:()=>n,gf:()=>_});var a=o(667294),r=o(324529),i=o(734215),l=o(785893);let s=(0,a.createContext)(null);function n(){return(0,a.use)(s).requestContextState}function d({children:e,initialValue:t}){let[o,n]=(0,a.useState)(t),d=(0,a.useMemo)(()=>({requestContextState:o,updateRequestContext:e=>{let t={...o,...e};(0,i.Z)(o,e)||n(t),(0,r.J)(t)}}),[o]);return(0,l.jsx)(s,{value:d,children:e})}function c(){let e=(0,a.useContext)(s);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function _(){let e=(0,a.useContext)(s);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},461920:function(e,t,o){o.d(t,{Z:()=>a});function a(e,t){let o;if(e.error){let{httpStatus:a,api_error_code:r,redirectUrl:i}=e.error;(404===a||401===a&&7===r)&&(o={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===a&&i&&(o={pathname:i})}return o}},782259:function(e,t,o){o.d(t,{Z:()=>s});var a=o(667294),r=o(64834);function i({children:e}){if("undefined"==typeof window)throw Error(r.u);return e}var l=o(785893);function s({children:e,fallback:t}){return(0,l.jsx)(a.Suspense,{fallback:t,children:(0,l.jsx)(i,{children:e})})}},734215:function(e,t,o){o.d(t,{Z:()=>a});function a(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let o=Object.keys(e),a=Object.keys(t);return o.length===a.length&&o.every(o=>e[o]===t[o])}},349188:function(e,t,o){o.d(t,{A:()=>b,Z:()=>p});var a=o(667294),r=o(581722),i=o(111330),l=o(521009),s=o(346955),n=o(417162),d=o(274320),c=o(929915),_=o(753143),u=o(966980),h=o(647709);function p(){let{trackConversionUpsellForContext:e}=(0,n.g)()||{},{trackConversionUpsellForContext:t}=(0,c.l)()||{},{viewType:o,viewParameter:a}=(0,s.SU)();return{trackConversionUpsell:({eventType:r,viewType:i,viewParameter:l,element:s,component:n,upsellReason:d,incrementUpsellReasonCounter:c})=>{let _=e||t;_&&_({eventType:r,viewType:i||o||202,viewParameter:l||a,element:s,component:n,upsellReason:d,incrementUpsellReasonCounter:c})}}}function b(){let e=(0,l.Z)(),t=(0,_.M0)(),o=(0,r.I0)(),s=(0,r.v9)(e=>e?.upsell?.upsellReason),{checkExperiment:n}=(0,d.FJ)(),c=(0,h.HG)(),p=(0,a.useRef)(null),b=()=>t.getItem(i.w0)&&Number.isInteger(t.getItem(i.w0))?t.getItem(i.w0):0;return{trackConversionUpsellForContext:({eventType:a,viewType:r,viewParameter:l,element:d,component:h,upsellReason:m,incrementUpsellReasonCounter:f})=>{let x=(0,_.M0)(),g=c&&n("dweb_upsell_manager_redux").anyEnabled;14688===a&&(x.setItem(i.bg,m||""),m&&g&&o((0,u.vY)(m)),p.current=h,!1!==f&&t.setItem(i.w0,b()+1));let v=x.getItem(i.bg)||null;!v&&g&&(v=m||s),e({event_type:a,view_type:r,view_parameter:l,element:d,component:p.current,aux_data:{upsell_reason:v,upsell_view_count:b()}})}}}},592900:function(e,t,o){o.d(t,{Z:()=>h});var a=o(111330),r=o(121836),i=o(785873),l=o(695263),s=o(753143),n=o(238589),d=o(941404);let c=new class{constructor(){this.listeners={}}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}emit(e,t){this.listeners[e]&&this.listeners[e].forEach(e=>e(t))}},_=new class{constructor(){this.rules={},this.init()}init(){for(let e of[{category:"dweb_max_free_pin_modal",validate:this.validateImageView.bind(this),action:"SHOW_LOGIN_MODAL"},{category:"dweb_save",validate:this.saveRule.bind(this),action:"SHOW_SAVE_MODAL"},{category:"dweb_scroll_banner_dismiss_rule",validate:this.scrollBanerDismissRule.bind(this),action:"BOTTOM_RIGHT_BANNER_DISMISS"},{category:"dweb_scroll_banner_limit_rule",validate:this.scrollBannerLimitRule.bind(this),action:"BOTTOM_RIGHT_BANNER_LIMIT"},{category:"dweb_scroll_banner_show",validate:this.scrollBannerShowRule.bind(this),action:"BOTTOM_RIGHT_BANNER_SHOW"}])this.addRule(e)}initExperiment(e){this.experiment=e}addRule(e){this.rules[e.category]=this.rules[e.category]??[],this.rules[e.category].push(e)}evaluate(e,t){if(!this.rules[e])return null;for(let o of this.rules[e])if(o.validate(t))return o.action;return null}validateImageView(e){let{clickCount:t}=e,{hasSeenLoginModal:o}=e,{hasDismissedLoginModal:a}=e,r=this.experiment?.group==="enabled_relaxation";return r?t+1>=4&&!o&&!a:t+1>=4&&!o}saveRule(e){return"desktop"===e.deviceType}scrollBanerDismissRule(e){return e.scrollTop<64}scrollBannerLimitRule(e){return e.scrollTop<4e3}scrollBannerShowRule(e){let t=this.experiment?.group==="enabled_relaxation";return t?e.isInOpenModalExperience||e.isSafari||e?.state?.scrollSessionCount!==3&&!e.hasDismissedLoginModal:e.isInOpenModalExperience||e.isSafari||e?.state?.scrollSessionCount!==3}};var u=o(669442);let h=new class{constructor(){this.init()}init(){c.on("pinView",this.handlePinView.bind(this)),c.on("pinSave",this.handleSavePin.bind(this)),c.on("showDesktopSignupModal",this.showDesktopSignupModal.bind(this)),c.on("hideDesktopSignupModal",this.hideDesktopSignupModal.bind(this)),c.on("onScrollHybridBanner",this.onScrollHybridBanner.bind(this))}initExperiment(e){this.experiment=e("dweb_upsell_manager_mvp_2"),this.experiment&&_.initExperiment(this.experiment)}emitEvent(e,t){c.emit(e,t)}handlePinView(e){let{history:t,linkTarget:o}=e,c=(0,s.M0)().getItem(a.cu)??0;(0,s.M0)().setItem(a.cu,c+1);let h=(0,n.Nl)().getItem(r.J7);if("SHOW_LOGIN_MODAL"===_.evaluate("dweb_max_free_pin_modal",{clickCount:c,hasSeenLoginModal:h})){let{onUpsellTriggerCallback:a}=e;a(),(0,d.My)("dweb.navigational.upsell.show"),(0,n.Nl)().setItem(r.J7,"true");let s={pinId:e.pinId,seoUrl:e.seoUrl},c=(0,u.Z)((0,l.bN)(s),{mt:"login"});if("fullPageLoad"===o)(0,i.Z)(c,!1);else if("duploClientNav"===o)t.push(c);else{let e=window.open(c,"_blank");e?.focus()}}}handleSavePin(e){if("SHOW_SAVE_MODAL"===_.evaluate("dweb_save",{deviceType:e.deviceType})){let{pinId:t,attributionLabel:o,modalHeadingType:a,showSignupModal:r}=e;r({attributionLabel:"extended_save_out_of_quota"===a?"click_save_button_with_max_unauth_saves":o||"click_save_button_on_closeup",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:a},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}},pinId:t})}}showDesktopSignupModal(e){let{displayProps:t,viewType:o,viewParameter:a,trackInteraction:r,trackConversionUpsellForContext:i,logDesktopSignupModalEvent:l,dispatchSignupModalAction:s}=e;s({type:"show",displayProps:t});let{attributionLabel:n,signupFlow:d,reason:c}=t;r({action:"trigger",item:d.type.includes("signup")?"signup-modal":"login-modal"}),i({viewType:o,viewParameter:a,eventType:14688,element:{UPSELL_LOGIN_OR_SIGNUP:13319,ACTION_REQUIRES_LOGIN_OR_SIGNUP:13320,CLICK_LOGIN_OR_SIGNUP:13321}[c]||13322,component:"login"===d.type?14212:14214,upsellReason:n}),l("dispatch_show",{attributionLabel:n,modalType:d.type,reason:c})}hideDesktopSignupModal(e){let{shouldDoSideEffects:t,loginForMore:o,dispatchSignupModalAction:a,logDesktopSignupModalEvent:r}=e,i=e.isEligibilityLoginForMore;t&&o&&i&&o.setVisible(!1),a({type:"dismiss"}),r("dispatch_dismiss",{shouldDoSideEffects:t})}onScrollHybridBanner(e){let{evt:t,isSafari:o,trackConversionUpsell:a,UnauthHybridBannerClassComponent:i,isInOpenModalExperience:l}=e,s=0,d=t&&t.target instanceof Document?t.target:null;if(d&&d.documentElement&&d.documentElement.scrollTop>0?s=d.documentElement.scrollTop:d&&d.body&&d.body.scrollTop>0&&(s=d.body.scrollTop),"BOTTOM_RIGHT_BANNER_DISMISS"===_.evaluate("dweb_scroll_banner_dismiss_rule",{scrollTop:s}))i.state.shouldShowBanner&&!i.state.bannerDismissed&&(a({element:13893,eventType:10243}),i.state.bannerDismissed=!0),i.setShouldShowBanner(!1);else if("BOTTOM_RIGHT_BANNER_LIMIT"===_.evaluate("dweb_scroll_banner_limit_rule",{scrollTop:s})){let e=i.state.shouldShowBanner;i.setState(e=>({shouldShowBanner:"BOTTOM_RIGHT_BANNER_SHOW"===_.evaluate("dweb_scroll_banner_show",{isInOpenModalExperience:l,isSafari:o,state:e}),scrollSessionCount:Math.ceil(s/800)}),()=>{e||!i.state.shouldShowBanner||i.state.bannerViewed||(a({eventType:14688,element:13319,component:14479,upsellReason:"scroll_down"}),i.state.bannerViewed=!0)})}else!(0,n.Nl)().getItem(r.J7)&&!l&&o&&t&&t.preventDefault()}}},32250:function(e,t,o){o.d(t,{Z:()=>r});var a=o(378888);function r(e){let{boardId:t,username:o,slug:r}=e;return t?(0,a.tV)`/v3/boards/${t}/`:o&&r?(0,a.tV)`/v3/boards/${o}/${r}/`:null}},647709:function(e,t,o){o.d(t,{HG:()=>_,Kf:()=>l,Wb:()=>c,ZP:()=>u,dA:()=>s,ds:()=>n,ml:()=>d});var a=o(746287),r=o(15667);let i=()=>{let e=(0,r.B)();return(0,a.Z)(e)},l=e=>"phone"===e,s=e=>"tablet"===e,n=e=>"desktop"===e,d=()=>l(i()),c=()=>s(i()),_=()=>n(i()),u=i},734871:function(e,t,o){o.d(t,{Z:()=>l});var a=o(667294),r=o(289032),i=o(159527);let l=(e="throttle")=>{let[t,o]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let t="throttle"===e?(0,i.Z)(()=>o(window.scrollY),10):(0,r.Z)(()=>o(window.scrollY),10);return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[e]),t}},535877:function(e,t,o){o.r(t),o.d(t,{BoardCollabFlyout:()=>v,default:()=>y});var a=o(667294),r=o(616550),i=o(20256),l=o(821342),s=o(525839),n=o(647709),d=o(981701),c=o(886981),_=o(32250),u=o(519689),h=o(689636),p=o(785893);function b({board:e,scrollInfo:t}){let o=(0,s.ZP)(),r=(0,c.Z)({name:"ApiResource",options:{url:(0,_.Z)({boardId:e.id})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});if(!r.isLoaded)return(0,p.jsx)(i.xH,{accessibilityLabel:o._('Loading', 'Loading spinner when rendering users', 'Loading spinner when rendering users'),show:!0});{let{owner:o}=e,{data:i,isAtEnd:l,isFetching:s,fetchMore:n}=r,d=[o,...i||[]];return(0,p.jsxs)(a.Fragment,{children:[t?(0,p.jsx)(h.Z,{fetchMore:n,isAtEnd:l,isFetching:s,scrollBuffer:3*t.container.clientHeight,scrollHeight:t.container.scrollHeight,scrollTop:t.top}):null,d.map(e=>{let{full_name:t,id:o,image_medium_url:a,username:r}=e;return(0,p.jsx)(u.Z,{imageUrl:a??"",linkURL:`/${r}/`,name:t??"",subtitle:r,title:t??""},o)})]})}}var m=o(59653),f=o(280203),x=o(77836);function g(e,t,o){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class v extends a.Component{constructor(...e){super(...e),g(this,"state",{contentRef:null,scrollContainer:null,scrollTop:null}),g(this,"handleBoardLeave",()=>{let{history:e,viewer:t}=this.props,o=t.isAuth?`/${t.username}`:"/";e.replace(o)}),g(this,"handleContentRef",e=>{let{contentRef:t}=this.state;!t&&e&&(this.setState({contentRef:e}),e.focus())}),g(this,"handleScrollContainer",e=>{let{scrollContainer:t}=this.state;!t&&e&&this.setState({scrollContainer:e})}),g(this,"handleScroll",()=>{let{scrollContainer:e}=this.state;e&&this.setState({scrollTop:e.scrollTop})})}renderInvite(e,t,o){if(!e.invited_user)return null;let a={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:o,useGestaltModal:!0,isDim:!1};return(0,p.jsx)(d.Z,{...a})}render(){let{anchor:e,board:t,onDismiss:o,viewer:a}=this.props,{scrollContainer:r,scrollTop:l}=this.state,s=a.isAuth&&a.username===t.owner.username,n=r?{container:r,top:l||0}:null,d=(t.access||[]).includes("write");return(0,p.jsx)(f.k,{viewerIsOwner:s,children:(0,p.jsx)(i.mh,{children:(0,p.jsx)(i.xu,{position:"absolute",top:!0,zIndex:x.BO,children:(0,p.jsx)(i.J2,{anchor:e,idealDirection:"down",onDismiss:o,positionRelativeToAnchor:!1,size:this.props.isDesktop?"xl":"lg",children:(0,p.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxHeight:500,minWidth:320,width:"100%",children:[(0,p.jsx)(i.Le,{top:0,children:(0,p.jsx)(i.xu,{alignItems:"center",display:"flex",height:64,justifyContent:"center",paddingX:4,paddingY:4,position:"relative",children:(0,p.jsx)("div",{ref:this.handleContentRef,tabIndex:0,children:(0,p.jsx)(i.xv,{size:"300",weight:"bold",children:this.props.i18n._('Group members', 'boardCollabFlyout.header', 'Heading for the group members flyout')})})})}),(0,p.jsx)(i.xu,{overflow:"scrollY",children:(0,p.jsx)(i.xu,{ref:this.handleScrollContainer,onScroll:this.handleScroll,children:d?(0,p.jsx)(m.Z,{board:t,onBoardLeave:this.handleBoardLeave,renderInvite:this.renderInvite,scrollInfo:n}):(0,p.jsx)(b,{board:t,scrollInfo:n})})})]})})})})})}}function y(e){let t=(0,s.ZP)(),o=(0,l.Z)(),a=(0,r.k6)(),i=(0,n.HG)();return(0,p.jsx)(v,{...e,history:a,i18n:t,isDesktop:i,viewer:o})}},111879:function(e,t,o){o.d(t,{Z:()=>l});var a=o(667294),r=o(159527);function i(e,t,o){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class l extends a.PureComponent{constructor(...e){super(...e),i(this,"setContainerRef",e=>{this.containerRef=e}),i(this,"fetchMoreIfNecessary",(0,r.Z)(()=>{let{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:o},a)=>e+t+(a?a(t):2*t)>o)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){let{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},149728:function(e,t,o){o.d(t,{Z:()=>n});var a=o(667294),r=o(20256),i=o(15667),l=o(280670),s=o(785893);let n=function({badgeSize:e,badgeSpacing:t,fullName:o,isVerifiedIdentity:n,isVerifiedMerchant:d,truncate:c=!1,size:_="200"}){let{isRTL:u}=(0,i.B)(),h=o.split(" "),p=h.slice(0,h.length-1).join(" "),b=" ".concat(h[h.length-1]),m=({display:o,paddingX:a})=>(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{top:t}},display:o,flex:"none",paddingX:a,position:"relative",children:(0,s.jsx)(l.Z,{isVerifiedIdentity:n,isVerifiedMerchant:d,size:e})}),f=()=>(0,s.jsx)(r.xv,{lineClamp:1,size:_,weight:"bold",children:o});return c?(0,s.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:u?(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(m,{paddingX:1}),(0,s.jsx)(f,{})]}):(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(f,{}),(0,s.jsx)(m,{paddingX:1})]})}):(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("span",{children:p}),(0,s.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[b," ",(0,s.jsx)(m,{display:"inlineBlock"})]})]})}},888109:function(e,t,o){o.d(t,{Z:()=>N});var a=o(667294),r=o(20256),i=o(647709),l=o(476785),s=o(103345),n=o(415245),d=o(785893);function c({description:e,lastModified:t,pinCount:o,sectionCount:a,isArchived:l,isAuthenticated:c,isAutomagical:_=!1,isFeaturedBoard:u=!1,isSecret:h,isSeoBot:p,showEditorialBoardTag:b,upcomingUpdateDateText:m}){let f=(0,i.HG)();return(0,d.jsx)(r.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:f?void 0:"100%",children:(0,d.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:"column-reverse",gap:"12px"}},display:"flex",width:"100%",children:[!!e&&(0,d.jsx)(r.xv,{align:"start",inline:!0,size:"300",children:(0,d.jsx)(s.Z,{description:e,isSeoBot:p})}),(0,d.jsx)(r.xv,{color:"subtle",inline:!0,overflow:"noWrap",size:"200",children:(0,d.jsx)(n.Z,{fontSize:"200",isArchived:l,isAutomagical:_,isFeaturedBoard:u,isSecret:h,lastModified:!c&&t?t:void 0,pinCount:o||0,sectionCount:a||0,showEditorialBoardTag:b,upcomingUpdateDateText:m??""})})]})})}var _=o(980787),u=o(821342),h=o(525839),p=o(906553),b=o(302148),m=o(15667),f=o(572227),x=o(732690);function g({user:e}){let t=e?.verified_identity?.verified,o=e?.is_verified_merchant,a=t||o,i=(0,f.Z)(),{logContextEvent:l}=(0,_.u)(),s=e?.is_ads_only_profile&&e.ads_only_profile_site,n=e?.ads_only_profile_site&&s?e.ads_only_profile_site:`/${e?.username??""}/`;return(0,d.jsx)(r.xu,{"data-test-id":"user-rep",display:"inlineBlock",children:(0,d.jsx)(r.rU,{href:n,onClick:()=>{i({action:"click",item:"user-rep"}),s?l({event_type:9371,element:13382,component:13798,view_parameter:3070,aux_data:{aop_origin:"BoardHeaderDescriptionNames"}}):l({event_type:102,component:13798,view_parameter:3070,object_id_str:e?.id})},rel:s?"nofollow":"none",tapStyle:"compress",target:s?"blank":null,underline:"auto",children:(0,d.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,d.jsxs)(r.kC,{alignItems:"center",children:[e?.full_name,a&&(0,d.jsx)(r.xu,{"data-test-id":o?"verifiedMerchantBadge":"verifiedPinnerBadge",display:"inlineBlock",marginStart:1,children:(0,d.jsx)(x.Z,{isVerifiedMerchant:o,showVerifiedIdentity:t,size:"md"})})]})})})})}function v({collaborators:e,boardOwnerId:t,collaboratorsAmount:o}){let a=(0,h.ZP)(),i=(0,p.Z)(),{locale:l}=(0,m.B)(),s=(0,u.Z)(),n=s.isAuth?s.id:void 0;if(!e.length)return null;let c=[...e.filter(({id:e})=>e===t),...e.filter(({id:e})=>e===n&&e!==t),...e.filter(({id:e})=>![t,n].includes(e))],_=c[0],f=c[1];if(c.some(({id:e})=>e===n))return null;let x=c.length,v="";if(x>3){let e=c[2],t=a._('By {{ownerName}}, {{ secondCollaborator}}, {{ thirdCollaborator }} and {{collaboratorCount}}', 'BoardHeaderDescriptionNames.Redesign.CollabNamesMoreThan3', 'Name of board owner and number of collaborators. ownerName: name of board owner, secondCollaborator: name of second collaborator, thirdCollaborator: name of third collaborator, collaboratorCount: number of other collaborators'),s=(null!=o?o+1:c.length)-3;v=(0,b.nk)(t,{ownerName:(0,d.jsx)(g,{user:_},_.id),secondCollaborator:(0,d.jsx)(g,{user:f},f.id),thirdCollaborator:(0,d.jsx)(g,{user:e},e.id),collaboratorCount:(0,d.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,b.nk)(a.ngettext('{{collaboratorsCount}} other', '{{collaboratorsCount}} others', s, 'BoardHeaderDescriptionNames.CollabNamesMoreThan2Text', 'Name of board owner and number of other collaborators'),{collaboratorsCount:i(l,s,{})})},"collaborator-count")})}if(3===x){let e=c[2],t=a._('By {{ownerName}}, {{ secondCollaborator}} and {{ thirdCollaborator }}', 'BoardHeaderDescriptionNames.Redesign.CollabNames3', 'Names of board collaborators. . ownerName: name of board owner, secondCollaborator: name of second collaborator, thirdCollaborator: name of third collaborator');v=(0,b.nk)(t,{ownerName:(0,d.jsx)(g,{user:_},_.id),secondCollaborator:(0,d.jsx)(g,{user:f},f.id),thirdCollaborator:(0,d.jsx)(g,{user:e},e.id)})}if(2===x){let e=a._('By {{ownerName}} and {{ secondCollaborator}}', 'BoardHeaderDescriptionNames.Redesign.CollabNames2', 'Names of board collaborators. ownerName: name of board owner, secondCollaborator: name of second collaborator');v=(0,b.nk)(e,{ownerName:(0,d.jsx)(g,{user:_},_.id),secondCollaborator:(0,d.jsx)(g,{user:f},f.id)})}if(1===x){let e=a._('By {{ownerName}}', 'BoardHeaderDescriptionNames.Redesign.CollabNames1', 'Names of board owner. ownerName: name of board owner.');v=(0,b.nk)(e,{ownerName:(0,d.jsx)(g,{user:_},_.id)})}return v}var y=o(616550),j=o(355940),w=o(839626),P=o(821806),A=o(352908),z=o(161774),C=o(840321);let S=(0,a.lazy)(()=>Promise.resolve().then(o.bind(o,535877))),B=({board:e,onAddCollab:t,collaborators:o,boardOwnerId:i,canAddCollaborators:l})=>{let s=(0,u.Z)(),n=s.isAuth?s.id:void 0,c=(0,y.k6)(),h=(0,a.useRef)(null),p=(0,a.useRef)(null),{logContextEvent:b}=(0,_.u)(),m=(0,f.Z)(),x=(0,A.Z)(),[g,v]=(0,a.useState)(!1),B=[...o.filter(({id:e})=>e===i),...o.filter(({id:e})=>e===n&&e!==i),...o.filter(({id:e})=>![i,n].includes(e))],{displayedCollaborators:I,nonDisplayedCollaboratorCount:k}=(0,C.Z)({boardCollaboratorCount:e.collaborator_count,collaborators:B}),Z=I.map(e=>({name:e.username??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??""})),T=x({fn:()=>{e.id&&l?c.push(`/board/${e.id}/edit/collaborators/`):v(!g)}}),O=B[0].is_ads_only_profile&&B[0].ads_only_profile_site;return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(r.kC,{alignItems:"stretch",flex:"none",justifyContent:"start",children:(0,d.jsxs)(r.xu,{ref:p,display:"flex",children:[(0,d.jsx)(z.Z,{addButtonRef:h,avatarSize:"sm",collaboratorCount:o.length-1,displayedCollaborators:Z,nonDisplayedCollaboratorCount:k,onClick:()=>{m({action:"click",item:"user-rep-avatar"}),B.length>1||l?T():O?(b({event_type:9371,element:13382,aux_data:{aop_origin:"BoardPageFacepiles"}}),window.open(I[0].ads_only_profile_site,"_blank")):c.push(`/${B[0].username??""}`)},showAddButton:l}),(0,d.jsx)(w.cs,{anchors:{4002:h.current},onCompleteByAnchor:{4002:t},placementId:1000251,positionRelativeToAnchor:!1})]})}),g&&(0,d.jsx)(j.Z,{name:"SafeSuspense_BoardPageFacePiles_BoardCollabFlyout",children:(0,d.jsx)(P.Z,{children:(0,d.jsx)(S,{anchor:p.current,board:e,onDismiss:()=>{v(!1)}})})})]})};var I=o(532611),k=o(21946),Z=o(889168);function T({board:e,canAddCollaborators:t,isAuthenticated:o,isBoardPreviewMode:i,isOwnerOrCollaborator:l,isSeoBot:s,pinCount:n,onAddCollab:_}){let u=(0,k.cS)(),{archived_by_me_at:h,automagical_board_metadata:p,board_order_modified_at:b,collaborating_users:m=[],collaborator_count:f,description:x,featured_board_metadata:g,featured_in:y,id:j,layout:w,owner:P={},section_count:A,sensitivity:z,should_show_board_collaborators:C}=e,{curator:S,is_sponsored_content:T}=g||{},{upcoming_update_date_text:O}=p||{},R=T&&u?S:null,E=l&&!i,M=[];S&&!E?M.push(S):(P&&M.push(P),C&&m.length&&M.push(...m));let H=(0,I.Uz)(z),U=g?.board_tag,L=u&&"number"==typeof U&&U>=0;return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginTop:3,width:"100%",wrap:!0,children:(0,d.jsx)(c,{description:x,isArchived:!!h,isAuthenticated:o,isAutomagical:"automagical"===w,isFeaturedBoard:"featured_board"===w&&!!y?.includes("FEATURED_BOARDS"),isSecret:e?.privacy==="secret",isSeoBot:s,lastModified:b,pinCount:n??0,sectionCount:A,showEditorialBoardTag:L,upcomingUpdateDateText:O??""},j)}),"automagical"!==w&&(0,d.jsxs)(r.xu,{marginTop:3,children:[!E&&R&&(0,d.jsx)(Z.Z,{user:R}),(E||!R)&&(0,d.jsxs)(r.kC,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",direction:"row",gap:2,children:[!H&&(0,d.jsx)(B,{board:e,boardOwnerId:P.id,canAddCollaborators:t&&!i,collaborators:M,onAddCollab:_},"boardPageFace"),(0,d.jsx)(r.xu,{alignItems:"start",direction:"column",display:"flex",height:"100%",justifyContent:"center",marginStart:0,wrap:!0,children:(0,d.jsx)(r.xv,{align:"start",inline:!0,size:"300",children:(0,d.jsx)(v,{boardOwnerId:P?.id??"",collaborators:M,collaboratorsAmount:f})})},"boardPageName")]})]})]})}var O=o(936021),R=o(185191),E=o(191641),M=o(319227),H=o(788743),U=o(880321),L=o(441178),D=o(679269);function N({blockedByMe:e,board:t,children:o,getUnauthDesktopBoardActions:s,isAuthenticated:n,isBoardPreviewMode:c,isSeoBot:_=!1,setInviteCollaboratorsModalIsOpen:u=()=>{},viewParameter:h}){let p,{collaborated_by_me:b,collaborator_invites_enabled:m,featured_board_metadata:f,id:x,name:g,owner:v,pin_count:y,sensitivity:j}=t,w=(0,k.cS)(!0),P=(0,H.Z)(!!b),A=(0,M.Z)(v?.id),z=(A||P&&m)??!1,C=(0,I.Uz)(j),S=(0,i.HG)(),B=(0,i.ml)(),Z=(0,i.Wb)(),N=B||Z,{isSmallerImage:F,isSmallScreen:G}=(0,D.Z)(),$=P||A,{board_subtitle:W}=f||{},q=W&&w,Y=S&&!n&&!_,X=t.header?.large_image_url||null,V=N&&!!X,K=2*!!B;return Y&&X&&(p=G?{__style:{flexDirection:"column-reverse",gap:"32px"}}:{__style:{gap:"64px"}}),(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(l.Z,{isGetServerRenderGridHeaderStyles:S,maxColumns:O.Sk,children:(0,d.jsxs)(r.xu,{alignItems:Y&&(G||!X)?"start":"stretch",dangerouslySetInlineStyle:p,direction:"row",display:"flex",justifyContent:"between",paddingX:2*!S,paddingY:S?8:void 0,children:[(0,d.jsx)(r.kC,{alignItems:"center",justifyContent:Y?"between":"center",width:B?"100%":void 0,children:(0,d.jsxs)(r.xu,{column:12,"data-test-id":"board-header",marginBottom:N&&A?4:2*!!B,marginTop:2*!!B,maxWidth:750,children:[q&&!V&&(0,d.jsx)(r.xu,{marginBottom:2,children:(0,d.jsx)(r.xv,{weight:"bold",children:W})}),!V&&(0,d.jsx)(r.xu,{"data-test-id":"board-title",maxWidth:750,children:(0,d.jsx)(r.X6,{accessibilityLevel:1,align:"start",overflow:"breakWord",size:B?"600":void 0,children:g})}),(0,d.jsx)(T,{blockedByMe:e,board:t,canAddCollaborators:z,isAuthenticated:n,isBoardPreviewMode:c,isOwnerOrCollaborator:A||P,isSeoBot:_,onAddCollab:()=>u(!0),pinCount:y})]})}),Y&&s&&(0,d.jsx)(r.xu,{alignItems:"start",direction:"row",display:"flex",justifyContent:"center",marginBottom:K,marginTop:K,children:X?(0,d.jsx)(L.Z,{boardActions:s(),imageUrl:X,imageWidth:F?D.w:void 0}):s()})]})}),C&&(0,I.Fx)(j)&&j&&(0,d.jsx)(r.xu,{paddingY:2,children:(0,d.jsx)(U.Z,{boardId:x,notice:j.notices?.[0],sensitivity:j,viewParameter:h,viewType:5})}),$&&!c&&(0,d.jsx)(r.xu,{paddingX:2,children:(0,d.jsx)(R.Z,{boardId:x,horizontalAlignment:"start",isBoardEmpty:!y,toolSize:72})}),o&&(0,d.jsx)(r.xu,{children:o}),(A||P)&&(0,d.jsx)(E.Z,{boardId:x,surface:"board"})]})}},431394:function(e,t,o){o.d(t,{Z:()=>C});var a=o(667294),r=o(20256),i=o(667835),l=o(839626),s=o(821342),n=o(525839),d=o(588367),c=o(351222),_=o(647709),u=o(734871),h=o(958279),p=o(936021),b=o(607001),m=o(572227),f=o(785893);let x=()=>{let e=(0,u.Z)(),t=(0,a.useRef)(null),o=(0,n.ZP)(),[i,l]=(0,a.useState)(!1),[s,d]=(0,a.useState)(!1),c=(0,b.Z)(),_=(0,m.Z)();return(0,a.useEffect)(()=>{!i&&e>100&&d(!0)},[e,i]),(0,f.jsxs)(r.xu,{children:[(0,f.jsx)(r.hU,{ref:t,accessibilityLabel:o._('Create button', 'BoardHeader.CreateBoardButton', 'Accessibility label for button to create a board'),icon:"add",onClick:()=>{_({action:"click",item:"unauth-board-upsell-mweb"}),c({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"unauth_board_upsell_mweb",mobileOptions:{headingType:"lopBoardUpsell"}}),l(!0),d(!1)},size:"lg"}),s&&(0,f.jsx)(r.pl,{anchor:t.current,forceDirection:!0,id:"board-creation-upsell-popover",idealDirection:"down",message:o._('Want to curate your own ideas? Make a board', 'boardHeaderOverflowMenu.createBoardPopover.text', 'Text on popover to create a board'),onDismiss:()=>{l(!0),d(!1)}})]})};var g=o(581722),v=o(415602);function y(e){let t=(0,n.ZP)(),{isRequestedByMe:o,toggle:a,size:i}=e,l=o?t._('Cancel request', '[Button] Cancel request to join a group board as a collaborator', '[Button] Cancel request to join a group board as a collaborator'):t._('Join', 'BoardJoinButton.RequestToJoinText', '[Button] Request to join a group board as a collaborator');return(0,f.jsx)(r.zx,{fullWidth:!0,onClick:a,size:i,text:l})}function j(e){let{isRequestedByMe:t,boardId:o}=e,a=(0,g.I0)(),r=(0,s.Z)(),i=(0,v.tV)();return(0,f.jsx)(y,{...e,toggle:()=>{t?a((0,v.GJ)(o,r.isAuth?r.id:"")):a(i(o))}})}var w=o(946757),P=o(588836),A=o(932849);let z=()=>{};function C({blockedByMe:e=!1,board:t,canEdit:o=!1,isBoardPreviewMode:b=!1,isOwnerOrCollaborator:m=!1,isSensitive:g,isSeoBot:v=!1,onShowAbout:y,openSendBoardModal:C,setBoardPreviewMode:S,shareButtonRef:B,shouldUseFallbackUrl:I=!0,showAboutRecommendationOption:k=!1,showFollowOption:Z=!1,showOverflowMenuMobile:T,showReportOption:O=!1,showShareButtonMobile:R=!1,showShareOptionInOverflowMenu:E=!1,showSwitchPreviewMode:M=!1,slug:H="",stickyHeaderRef:U,username:L="",viewParameter:D,isUnauthMobileBoardUpsellEnabled:N}){let F=(0,i.vs)(),G=(0,n.ZP)(),$=(0,s.Z)(),{isAuth:W}=$,q=(0,u.Z)("debounce"),Y=!W&&!v,X=(0,c.ZP)((0,_.ZP)(),W),{header:V,id:K,name:J,collaborator_requests_enabled:Q,viewer_collaborator_join_requested:ee}=t,et=!!V?.large_image_url,[eo,ea]=(0,a.useState)(et),[er,ei]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{q<28?(et&&ea(!0),ei(!1)):(et&&ea(!1),ei(!0))},[et,q]),(0,a.useEffect)(()=>{ea(et)},[et]),(0,f.jsx)(w.Z,{overrideTop:X,position:et?"fixed":"sticky",style:et?{zIndex:499,width:`calc(100% - ${2*p.IM}px)`}:void 0,children:(0,f.jsx)(d.default,{isTransparentBackground:eo,paddingY:2,children:(0,f.jsxs)(r.xu,{ref:U,alignItems:"center",column:12,"data-test-id":"boardHeader",display:"flex",height:"100%",children:[!Y&&(0,f.jsx)(r.kC,{children:(0,f.jsx)(P.Z,{color:eo||F?"light":"darkGray",fallbackUrl:"/",shouldUseFallbackUrl:I,size:"lg"})}),er&&(0,f.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"start",marginEnd:0,marginStart:0,children:(0,f.jsx)(r.xv,{align:"start",lineClamp:1,overflow:"breakAll",weight:"bold",children:J})}),(0,f.jsx)(r.xu,{flex:"grow"}),M&&S&&(0,f.jsx)(A.Z,{isBoardPreviewMode:b,setBoardPreviewMode:S}),N&&(0,f.jsx)(x,{}),R&&C&&(0,f.jsxs)(r.xu,{"data-test-id":"share-board-button",children:[(0,f.jsx)(r.hU,{ref:B,accessibilityLabel:G._('Share board', 'boardHeaderOverflowMenu.iconButton.accessibilityLabel', 'Accessibility label for button to share board'),icon:"share",iconColor:eo||F?"light":"darkGray",onClick:C,size:"lg"}),(0,f.jsx)(l.N,{anchors:{4020:B?.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000251,scrollToDismiss:!0})]}),T&&(0,f.jsx)(r.xu,{flex:"none",children:(0,f.jsx)(h.Z,{bgColor:"transparent",board:t,hideShare:!E,iconColor:eo||F?"light":"darkGray",iconSize:Y?"lg":void 0,isOwnerOrCollaborator:m,isSensitive:g,onShowAbout:y||z,openSendBoardModal:C||z,showAboutRecommendationOption:k,showFollowOption:Z,showReportOption:O,slug:H,username:L,viewParameter:D,viewType:578})}),W&&!o&&(0,f.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:!e&&Q&&!$.isPrivateProfile&&(0,f.jsx)(r.xu,{flex:"none",paddingX:1,children:(0,f.jsx)(j,{boardId:K,isRequestedByMe:!!ee,size:"lg"})})})]})})})}},729969:function(e,t,o){o.d(t,{Z:()=>u});var a=o(20256),r=o(525839),i=o(936021),l=o(21946),s=o(785893);let n=new a.Ry(1),d=new a.H3([n]),c=new a.H3([d]);function _(){return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(181deg, rgba(0, 0, 0, 0.50) 0.8%, rgba(0, 0, 0, 0.20) 50.98%, rgba(0, 0, 0, 0.50) 99.19%)"}},height:"100%",left:!0,position:"absolute",width:"100%",zIndex:d})}function u({board:e}){let t=(0,r.ZP)(),o=(0,l.cS)(!0),{featured_board_metadata:d,name:u}=e,{board_subtitle:h}=d||{},p=h&&o,b=e.header?.large_image_url||"";return(0,s.jsx)(a.xu,{"data-test-id":"board-header-image-container",marginBottom:0,marginEnd:-2,marginStart:-2,width:`calc(100% + ${2*i.IM}px`,children:(0,s.jsxs)(a.zd,{height:250,width:"100%",children:[(0,s.jsx)(_,{}),(0,s.jsx)(a.xu,{height:"100%",left:!0,position:"absolute",width:"100%",zIndex:n,children:(0,s.jsx)(a.Ee,{alt:t._('Board Header Image', 'board.header.mobileBoardHeaderImage', 'alt for the image that is displayed in a boards header on mobile'),fit:"cover",naturalHeight:312,naturalWidth:472,role:"presentation",src:b})}),(0,s.jsx)(a.xu,{display:"flex",height:"100%",paddingX:4,paddingY:3,position:"relative",zIndex:c,children:(0,s.jsxs)(a.kC,{dataTestId:"board-name-container",direction:"column",justifyContent:"end",children:[p&&(0,s.jsx)(a.xu,{marginBottom:2,children:(0,s.jsx)(a.xv,{color:"light",weight:"bold",children:h})}),(0,s.jsx)(a.X6,{accessibilityLevel:1,color:"light",size:"600",children:u})]})})]})})}},476785:function(e,t,o){o.d(t,{Z:()=>c,q:()=>d});var a=o(667294),r=o(467925),i=o(369416),l=o(647709),s=o(348268),n=o(785893);let d="boardFeedAlignmentWrapper",c=({children:e,isGetServerRenderGridHeaderStyles:t,maxColumns:o,style:c})=>{let _=(0,l.ZP)(),{experimentalColumnWidth:u,experimentalGutter:h}=(0,r.Z)(null==o),p=(0,s.s)({trafficSource:"board",deviceType:_,experimentalGutter:h})||0,b=(0,s.SY)({deviceType:_,experimentalColumnWidth:u?236:void 0}),m=t&&(0,s.mb)({gutterWidth:p,itemWidth:b,className:d,maxColumns:o});return(0,n.jsxs)(a.Fragment,{children:[!!m&&(0,n.jsx)(i.Z,{unsafeCSS:m}),(0,n.jsx)("div",{className:d,style:c?{...c}:{margin:"auto"},children:e})]})}},958279:function(e,t,o){o.d(t,{Z:()=>O});var a,r=o(667294),i=o(581722),l=o(167912),s=o(616550),n=o(20256),d=o(521009),c=o(839626),_=o(982166),u=o(475498),h=o(525839),p=o(302148),b=o(941404),m=o(572227),f=o(87853),x=o(647709),g=o(222401),v=o(262344),y=o(352908),j=o(483190),w=o(843439),P=o(207691),A=o(947066),z=o(975740),C=o(785893);function S({overflowMenuButtonRef:e,isDesktop:t}){return(0,C.jsx)(c.N,{anchors:{[t?3001:4001]:e},idealDirection:"down",onAnchorTouch:"complete",placementId:t?18:1000251,scrollToDismiss:!0})}function B({handleClose:e,isMenuOpen:t,setMenuOpen:o,bgColor:a="lightGray",iconSize:i="sm",iconColor:l,children:s}){let d=(0,h.ZP)(),c=(0,r.useRef)(null);return(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(n.xu,{ref:c,children:(0,C.jsx)(n.hU,{accessibilityLabel:d._('More board options', 'boardHeaderOverflowMenu.iconButton.accessibilityLabel', 'Accessibility label for more board options overflow menu button'),bgColor:a,icon:"ellipsis",iconColor:l,onClick:()=>o(!t),selected:t,size:i})}),t&&(0,C.jsx)(n.Lt,{anchor:c.current,disableMobileUI:!0,id:"more-board-options-desktop",idealDirection:"down",onDismiss:e,zIndex:new n.Ry(1e3),children:s({handleClose:e})}),!t&&(0,C.jsx)(S,{isDesktop:!0,overflowMenuButtonRef:c.current})]})}function I({isSensitive:e,isOwnerOrCollaborator:t,onShowAbout:o,openSendBoardModal:a,username:l,hideShare:c,bgColor:I,iconColor:k,iconSize:Z,archivedByMeAt:T,boardName:O,id:R,privacy:E,followByMe:M,showAboutRecommendationOption:H,showFollowOption:U,showReportOption:L,slug:D}){let N=(0,h.ZP)(),F=(0,x.HG)(),G=(0,y.Z)(),$=(0,s.k6)(),W=(0,i.I0)(),{showToast:q}=(0,f.dI)(),Y=(0,m.Z)(),[X,V]=(0,r.useState)(!1),[K,J]=(0,r.useState)(!1),Q=(0,d.Z)(),[ee,et]=(0,r.useState)(M),eo=!!T,ea=(0,r.useRef)(null),er=(0,z.gC)()(R),ei=()=>{V(!1),Y({action:"click",item:"close-overflow-menu"})},el=()=>J(!1),es=()=>J(!0),en=eo?(0,p.nk)(N._('Unarchived {{ boardName }}', 'boardHeaderOverflowMenu.onBoardUnarchive.toast', 'Toast text on complete unarchiving board'),{boardName:O}).join(""):(0,p.nk)(N._('Archived {{ boardName }}', 'boardHeaderOverflowMenu.onBoardArchive.toast', 'Toast text on complete archiving board'),{boardName:O}).join(""),ed=(0,C.jsx)(n.xu,{height:32,width:32,children:(0,C.jsx)(g.default,{boardKey:er?{type:"deprecated",data:er}:null,type:"thumbnail",viewType:void 0})}),{lawImplementation:ec,inAppReporting:e_,createReportLink:eu}=(0,j.ZP)(),eh=ec&&function(e,t,o,a,r){if(!e)return null;let i=r({username:t,boardName:o}),l=`report-board-${e}`,s=`desktop.unauth.board.overflowmenu.${e}`,n=`mweb.unauth.board.overflowmenu.${e}`;return{href:i,label:a?.board||"",dataTestId:l,trackAction:s,mobileTrackAction:n}}(ec,l,D,e_,eu),ep=()=>{W((0,w.z)(R,l)).then(()=>{q(({hideToast:e})=>(0,C.jsx)(u.Z,{_dangerouslySetThumbnail:ed,onHide:e,text:en}))}),el(),ei()},eb=()=>{W((0,A.f)(R,l)).then(()=>{q(({hideToast:e})=>(0,C.jsx)(u.Z,{_dangerouslySetThumbnail:ed,onHide:e,text:en}))}),el(),ei()},em=()=>K?eo?eb:ep:()=>{},ef=eo?N._('Unarchive', 'boardHeaderOverflowMenu.archiveOptionTitle.UnarchiveBoard', 'Title for option UnarchiveBoard on Edit Board page'):N._('Archive', 'boardHeaderOverflowMenu.archiveOptionTitle.ArchiveBoard', 'Title for option ArchiveBoard on Edit Board page'),ex="secret"!==E&&!e&&!c,eg=t||ex||t||L||!!eh||H,[ev,ey]=(0,r.useState)(!1),ej=()=>ey(!1);if(!eg)return null;let ew={unfollow:N._('Unfollow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to unfollow board'),follow:N._('Follow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to follow board')},eP=()=>{o(),F?ej():ei()};return F?(0,C.jsx)(B,{bgColor:I,handleClose:ej,iconColor:k,iconSize:Z,isMenuOpen:ev,setMenuOpen:ey,children:()=>(0,C.jsxs)(n.Lt.Section,{label:N._('Board options', 'profileHeader.actionBar.overflow.header', 'Accessibility label header for board options flyout'),children:[H&&(0,C.jsx)(n.Lt.Item,{dataTestId:"about-recommendations",onSelect:eP,option:{label:N._('About boards made for you', 'BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption', 'Clickable text to open about boards made for you modal'),value:N._('About boards made for you', 'BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption', 'Clickable text to open about boards made for you modal')}}),t&&(0,C.jsx)(n.Lt.Item,{dataTestId:"edit-board",onSelect:G({fn:()=>{$.replace(`/board/${R}/edit/`)}}),option:{label:N._('Edit board', 'boardHeaderOverflowMenu.boardOptions.editButton', 'Button to edit board'),value:N._('Edit board', 'boardHeaderOverflowMenu.boardOptions.editButton', 'Button to edit board')}}),ex&&(0,C.jsx)(n.Lt.Item,{dataTestId:"share-board",onSelect:a,option:{label:N._('Share', 'boardHeaderOverflowMenu.boardOptions.shareBoardButton', 'Button to share board'),value:N._('Share', 'boardHeaderOverflowMenu.boardOptions.shareBoardButton', 'Button to share board')}}),t&&(0,C.jsx)(n.Lt.Item,{dataTestId:"archive-board",onSelect:es,option:{label:ef,value:ef}}),L&&(0,C.jsx)(n.Lt.Link,{dataTestId:"report-board",href:`/board/${R}/report/`,option:{label:N._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)'),value:N._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)')}}),eh&&(0,C.jsx)(n.Lt.Link,{dataTestId:eh.dataTestId,href:eh.href,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t(),(0,b.My)(eh.trackAction),window.open(eh.href,"_blank")},option:{label:eh.label,value:eh.label}}),(0,C.jsx)(v.Z,{fullName:O,isOpen:K,onConfirm:em(),onDismiss:()=>el(),type:T?"unarchive":"archive"})]})}):(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(n.xu,{display:"inlineBlock",children:(0,C.jsxs)(n.xu,{"data-test-id":"board-overflow-menu-button-mobile",children:[(0,C.jsx)(n.hU,{ref:ea,accessibilityLabel:N._('More board options', 'boardHeaderOverflowMenu.iconButton.accessibilityLabel', 'Accessibility label for more board options overflow menu button'),bgColor:I||"white",icon:"ellipsis",iconColor:k,onClick:()=>{V(!0),Y({action:"click",item:"overflow-menu"})},selected:X,size:Z||"lg"}),(0,C.jsx)(S,{isDesktop:F,overflowMenuButtonRef:ea.current})]})}),(0,C.jsx)(_.ZP,{accessibilityModalLabel:N._('Board options', 'boardHeaderOverflowMenu.boardOptions', 'Options heading on Modal on own board'),isOpen:X,mobileHideCloseIcon:!0,onDismiss:ei,type:"block_button",children:(0,C.jsx)(n.xu,{paddingX:5,paddingY:6,children:(0,C.jsxs)(n.kC,{direction:"column",gap:{row:0,column:2},children:[(0,C.jsx)(n.xv,{children:N._('Board options', 'boardHeaderOverflowMenu.boardOptions', 'Options heading on Modal on own board')}),H&&(0,C.jsx)(n.iP,{fullWidth:!1,onTap:eP,rounding:"circle",children:(0,C.jsx)(n.xu,{"data-test-id":"about-recommendations",children:(0,C.jsx)(n.X6,{size:"400",children:N._('About boards made for you', 'BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption', 'Clickable text to open about boards made for you modal')})})}),t&&(0,C.jsx)(n.iP,{fullWidth:!1,onTap:G({fn:()=>{$.replace(`/board/${R}/edit/`)}}),rounding:"circle",children:(0,C.jsx)(n.xu,{"data-test-id":"edit-board",children:(0,C.jsx)(n.X6,{size:"400",children:N._('Edit board', 'boardHeaderOverflowMenu.boardOptions.editButton', 'Button to edit board')})})}),ex&&(0,C.jsx)(n.iP,{fullWidth:!1,onTap:a,rounding:"circle",children:(0,C.jsx)(n.xu,{"data-test-id":"share-board",children:(0,C.jsx)(n.X6,{size:"400",children:N._('Share', 'boardHeaderOverflowMenu.boardOptions.shareBoardButton', 'Button to share board')})})}),t&&(0,C.jsx)(n.iP,{fullWidth:!1,onTap:es,rounding:"circle",children:(0,C.jsx)(n.xu,{"data-test-id":"archive-board",children:(0,C.jsx)(n.X6,{size:"400",children:ef})})}),U&&(0,C.jsx)(n.iP,{fullWidth:!1,onTap:()=>{ee?(W((0,P.f)(R,Q)),et(!1)):(W((0,P.Z)(R,Q)),et(!0))},rounding:"circle",children:ee?(0,C.jsx)(n.xu,{"data-test-id":"unfollow-board",children:(0,C.jsx)(n.X6,{size:"400",children:ew.unfollow})}):(0,C.jsx)(n.xu,{"data-test-id":"follow-board",children:(0,C.jsx)(n.X6,{size:"400",children:ew.follow})})}),L&&(0,C.jsx)(n.xu,{"data-test-id":"report-board",children:(0,C.jsx)(n.X6,{size:"400",children:(0,C.jsx)(n.rU,{accessibilityLabel:N._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)'),href:`/board/${R}/report/`,underline:"none",children:N._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)')})})}),eh&&(0,C.jsx)(n.xu,{"data-test-id":eh.dataTestId,children:(0,C.jsx)(n.X6,{size:"400",children:(0,C.jsx)(n.rU,{accessibilityLabel:eh.label,href:eh.href,onClick:()=>(0,b.My)(eh.mobileTrackAction),target:"blank",underline:"none",children:eh.label})})}),(0,C.jsx)(n.xu,{"data-test-id":"close-board-options-mobile",display:"flex",justifyContent:"center",marginTop:3,children:(0,C.jsx)(n.zx,{color:"gray",onClick:ei,size:"lg",text:N._('Close', 'boardHeaderOverflowMenu.boardOptions.closeModal', 'Accessibility label for close button on Modal on a own board')})}),(0,C.jsx)(v.Z,{fullName:O,isOpen:K,onConfirm:em(),onDismiss:()=>el(),type:T?"unarchive":"archive"})]})})})]})}function k({board:e,isSensitive:t,isOwnerOrCollaborator:o,onShowAbout:a,openSendBoardModal:r,username:i,hideShare:l,bgColor:s,iconSize:n,iconColor:d,showReportOption:c,viewType:_,viewParameter:u,showAboutRecommendationOption:h,showFollowOption:p,slug:b}){return(0,C.jsx)(I,{archivedByMeAt:e.archived_by_me_at,bgColor:s,boardName:e.name,followByMe:e.followed_by_me,hideShare:l,iconColor:d,iconSize:n,id:e.id,isOwnerOrCollaborator:o,isSensitive:t,onShowAbout:a,openSendBoardModal:r,privacy:e.privacy,showAboutRecommendationOption:h,showFollowOption:p,showReportOption:c,slug:b,username:i,viewParameter:u,viewType:_})}let Z=void 0!==a?a:a=o(333127);function T({boardRef:e,isSensitive:t,isOwnerOrCollaborator:o,onShowAbout:a,openSendBoardModal:r,username:i,hideShare:s,iconColor:n,bgColor:d,iconSize:c,showReportOption:_,viewType:u,viewParameter:h,showAboutRecommendationOption:p,showFollowOption:b,slug:m}){let{data:f}=(0,l.useFragment)(Z,e);return f?(0,C.jsx)(I,{archivedByMeAt:f.archivedByMeAt,bgColor:d,boardName:f.name??"",followByMe:f.followedByMe,hideShare:s,iconColor:n,iconSize:c,id:f.entityId,isOwnerOrCollaborator:o,isSensitive:t,onShowAbout:a,openSendBoardModal:r,privacy:f.privacy??"",showAboutRecommendationOption:p,showFollowOption:b,showReportOption:_,slug:m,username:i,viewParameter:h,viewType:u}):null}function O({isSensitive:e,isOwnerOrCollaborator:t,onShowAbout:o,openSendBoardModal:a,username:r,hideShare:i,bgColor:l,iconColor:s="darkGray",iconSize:n,showReportOption:d,viewType:c,viewParameter:_,showAboutRecommendationOption:u,showFollowOption:h,slug:p,...b}){return b.boardRef?(0,C.jsx)(T,{bgColor:l,boardRef:b.boardRef,hideShare:i,iconColor:s,iconSize:n,isOwnerOrCollaborator:t,isSensitive:e,onShowAbout:o,openSendBoardModal:a,showAboutRecommendationOption:u,showFollowOption:h,showReportOption:d,slug:p,username:r,viewParameter:_,viewType:c}):(0,C.jsx)(k,{bgColor:l,board:b.board,hideShare:i,iconColor:s,iconSize:n,isOwnerOrCollaborator:t,isSensitive:e,onShowAbout:o,openSendBoardModal:a,showAboutRecommendationOption:u,showFollowOption:h,showReportOption:d,slug:p,username:r,viewParameter:_,viewType:c})}},103345:function(e,t,o){o.d(t,{Z:()=>d});var a=o(667294),r=o(20256),i=o(667835),l=o(525839),s=o(872353),n=o(785893);function d({description:e,isSeoBot:t}){let o=(0,l.ZP)(),[d,c]=(0,a.useState)(!t),[_,u]=(0,a.useState)(!1),h=(0,a.useRef)(null),p=(0,i.vs)(),b=(0,s.j)(e),m=p?"#111111":"#FFFFFF";return((0,a.useEffect)(()=>{if(h.current){let e;u((e=h.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)}},[]),e)?(0,n.jsx)(r.xu,{"data-test-id":"board-description-container",flex:"grow",position:"relative",children:(0,n.jsxs)("div",{dir:b,children:[(0,n.jsxs)(r.xv,{ref:h,align:"ltr"===b?"forceLeft":void 0,lineClamp:2*!!d,size:"300",title:d?e:void 0,children:[e,!d&&(0,n.jsx)(r.xu,{display:"inlineBlock",children:(0,n.jsx)(r.iP,{fullWidth:!1,onTap:()=>c(!0),children:(0,n.jsx)(r.xv,{inline:!0,weight:"bold",children:o._('... less', 'boardPage.header.description.truncateDescription', 'Text for cta to show less text for the board description')})})})]}),d&&_&&(0,n.jsx)(r.xu,{as:"div",bottom:!0,color:p?"dark":"light",dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${m} 50%, ${m}00 100%)`,textAlign:"end"}},"data-test-id":"more-board-description",paddingX:1,position:"absolute",right:!0,width:140,children:(0,n.jsx)(r.iP,{fullWidth:!1,onTap:()=>c(!1),children:(0,n.jsx)(r.xv,{inline:!0,weight:"bold",children:o._('... more', 'boardPage.header.description.expandDescription', 'Text for cta to show full text for the board description')})})})]})}):null}},936021:function(e,t,o){o.d(t,{Sk:()=>eN,x0:()=>eq,IM:()=>eD,ZP:()=>eX,i0:()=>eY});var a=o(667294),r=o(581722),i=o(616550),l=o(20256),s=o(111330),n=o(980787),d=o(741272),c=o(839626),_=o(877956),u=o(475498),h=o(390843),p=o(525839),b=o(816358),m=o(573631),f=o(278533),x=o(914061),g=o(527728),v=o(274320),y=o(255957),j=o(594885),w=o(15667),P=o(461920),A=o(444185),z=o(886981),C=o(821806),S=o(753143),B=o(159527),I=o(123998),k=o(572227),Z=o(87853),T=o(378888),O=o(647709),R=o(341742),E=o(551651),M=o(958279),H=o(93966),U=o(369416),L=o(79293),D=o(640168),N=o(785893);let F="BoardPageSkeletonLoader__",G=()=>(0,N.jsxs)(a.Fragment,{children:[(0,N.jsx)(U.Z,{unsafeCSS:[{name:`${F}board_title`,width:280,height:51},{name:`${F}profile_pic`,width:51,height:51}].map(({name:e,width:t,height:o})=>(0,D.Z)({name:e,width:t,height:o})).join("")}),(0,N.jsxs)(l.xu,{paddingX:H.D6,paddingY:3,children:[(0,N.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:6,children:[(0,N.jsx)(l.xu,{children:(0,N.jsx)("div",{className:`${F}board_title`})}),(0,N.jsx)(l.xu,{children:(0,N.jsx)("div",{className:`${F}profile_pic`})})]}),(0,N.jsx)(L.Z,{})]})]});var $=o(26032),W=o(521009),q=o(657043),Y=o(821342),X=o(670622),V=o(302148),K=o(575108),J=o(744862),Q=o(603316);let ee=e=>{let t=(0,p.ZP)(),{user:o,invitedByUser:a,inviterFirstName:r}=e;return(0,N.jsxs)(l.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginBottom:3,marginEnd:-1,marginStart:-1,paddingX:4,paddingY:4,rounding:5,width:"100%",children:[(0,N.jsx)(l.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ffffff",zIndex:-1}},marginTop:-3,rounding:"circle",children:(0,N.jsx)(l.xu,{height:34,width:34,children:(0,N.jsx)(J.qE,{color:o?.avatar_color_index,name:o?o.username:"",src:o?o.image_medium_url??"":""})})}),(0,N.jsx)(l.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ffffff",zIndex:-2}},marginStart:-3,marginTop:3,rounding:"circle",children:(0,N.jsx)(l.xu,{height:34,width:34,children:(0,N.jsx)(J.qE,{color:a?.avatar_color_index,name:a?a.username:"",src:a?a.image_medium_url??"":""})})}),(0,N.jsxs)(l.xu,{marginStart:4,children:[(0,N.jsx)(l.xv,{weight:"bold",children:t._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,N.jsx)(l.xv,{children:(0,V.nk)(t._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:r})})]})]})};function et({boardId:e,inviteCode:t,inviterFirstName:o,invitedByUser:r,isSeamlessLanding:i,onAccept:l,user:s}){let{showToast:n}=(0,Z.dI)(),d=(0,p.ZP)(),[c,_]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{l&&K.Z.create("BoardInviteResource",{board_id:e,invited_user_id:s&&s.id,invite_code:t}).callGet().then(()=>{let e=l();e&&e.then(()=>{_(!0),i&&(0,Q.nP)("mweb.social.group_board.seamless.accepted")}).catch(e=>{n(({hideToast:t})=>(0,N.jsx)(u.Z,{onHide:t,text:e.message||d._('Oops! Something went wrong\u2026', 'Error during board page accepting', 'Error during board page accepting'),type:"error"}))})}).catch(e=>{n(({hideToast:t})=>(0,N.jsx)(u.Z,{onHide:t,text:e.message||d._('Oops! Something went wrong\u2026', 'Error during board page accepting', 'Error during board page accepting'),type:"error"}))})},[]),c?(0,N.jsx)(ee,{user:s,inviterFirstName:o,invitedByUser:r}):null}let eo=e=>!!(0,T.mB)(e.search).accept_invite;var ea=o(902658),er=o(689676),ei=o(156618),el=o(352908),es=o(548286),en=o(415602),ed=o(969009),ec=o(260002),e_=o(793698),eu=o(434671);function eh({inviteCreationDatetime:e,invitedByUser:t,inviterFirstName:o,onAccept:a,onDismiss:r,loginModal:s,isMwebUnauthBoardInviteLanding:n,setShowLoginModal:d,showLoginModal:c}){let _=(0,p.ZP)(),h=(0,X.Z)(),b=(0,i.TH)(),{showToast:m}=(0,Z.dI)(),f=`/${t?.username||""}`,x=(0,el.Z)(),g=(0,O.HG)(),v=x({fn:({event:e})=>{e.stopPropagation&&e.stopPropagation(),r()},modalHeader:(0,ei.gv)({firstName:o,i18n:_}),nextLocation:(0,ei.F4)(b)}),y=x({fn:({event:e})=>{e.stopPropagation&&e.stopPropagation(),a(),g||c||n||m(({hideToast:e})=>(0,N.jsx)(u.Z,{duration:4e3,onHide:e,text:_._('You\'re in! Save Pins, plan with collaborators, and more!', 'GroupBoardInviteBanner.handleAcceptButtonClick.acceptInviteToastForAuthUser', 'Toast text after accepting board collaborator invite.')}))},modalHeader:(0,ei.gv)({firstName:o,i18n:_}),nextLocation:(0,ei.F4)(b)});return(0,N.jsxs)(l.xu,{alignItems:"start",borderStyle:"shadow",color:"default",display:"flex",marginBottom:2,marginTop:2,maxWidth:400,padding:6,rounding:6,children:[g&&c&&s,(0,N.jsx)(l.xu,{marginEnd:2,children:(0,N.jsx)(l.HE,{accessibilityLabel:_._('Avatar of invited person', 'mweb.board.inviteCard.avatar', 'Avatar of invited person'),collaborators:[{name:o,src:(t instanceof er.Z?t.image_large_url:t?.image_medium_url)||void 0,color:t instanceof er.Z?t.avatar_color_index:void 0}],href:f,role:"link",size:"md"})}),(0,N.jsxs)(l.xu,{marginBottom:0,children:[(0,N.jsx)(l.xv,{color:"default",weight:"normal",children:(0,V.nk)(_._('{{ name }} invited you to collaborate on this board  {{age}}', 'mweb.board.inviteCard.inviteCopy', 'Invite copy in board page'),{name:(0,N.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,N.jsx)(l.rU,{display:"inlineBlock",href:f,tapStyle:"none",underline:"hover",children:t?.full_name||""})}),age:(0,N.jsx)(l.xv,{color:"subtle",inline:!0,children:e&&h(e,!0)})})}),(0,N.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,N.jsx)(l.xu,{display:"inlineBlock",marginEnd:2,marginTop:2,children:(0,N.jsx)(l.zx,{color:"gray",fullWidth:!0,onClick:v,size:"lg",text:_._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,N.jsx)(l.xu,{display:"inlineBlock",marginTop:2,children:(0,N.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:g&&d&&s?()=>d(!0):y,size:"lg",text:_._('Accept', 'accept board invite', 'accept board invite')})})]})]})]})}function ep({boardId:e}){let t=(0,i.TH)(),{inviter_first_name:r,board_collab_inviter:s,board_url:n,invite_code:d,sender:c,inviter_user_id:_}=(0,T.mB)(t.search),[u,h]=(0,a.useState)(!!(r&&n)),[b,m]=(0,a.useState)(!1),f=(0,i.k6)(),x=(0,p.ZP)(),g=_??c,v=(0,O.HG)(),{setUnauthBoardInvite:y}=(0,ea.i)(),j=(0,eu.Z)(),w=j?.invite?.sender,P=v&&!!w&&d&&s,A=r||w?.first_name||"",z=(0,a.lazy)(()=>Promise.all([o.e("91062"),o.e("32816")]).then(o.bind(o,990361)));if((P||!v&&d&&s&&_)&&!u&&h(!0),!u)return null;let C=(0,V.nk)(x._('Log in to accept {{ firstName }}\'s board invite', 'GroupBoardInviteBanner.login.firstName', 'Inviter\'s first name. firstName: name of inviter'),{firstName:A}).join(""),S=(0,N.jsxs)(l.xu,{height:"100%",width:"100%",children:[(0,N.jsx)(l.mh,{zIndex:new l.Ry(10001),children:(0,N.jsx)(l.xu,{alignItems:"center",display:"flex",height:"100%",paddingY:12,position:"fixed",width:"100%",children:(0,N.jsx)(z,{container:"limited_login",customLoginTagline:C,customSignupTagline:C,handleCloseButtonClick:()=>m(!1),nextUrlParam:`${t.pathname}${t.search}&accept_invite=True`,showCloseIcon:!0,signupFlow:{type:"login"},signupSource:"boardInvite"})})}),(0,N.jsx)(l.xu,{alignItems:"center",color:"dark",display:"flex",height:"100%",left:!0,opacity:.7,position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1e4)})]});return v?(0,N.jsx)(eh,{invitedByUser:w,inviterFirstName:A,loginModal:S,onAccept:()=>m(!0),onDismiss:()=>h(!1),setShowLoginModal:m,showLoginModal:b}):(0,N.jsx)(eh,{invitedByUser:w,inviterFirstName:A,isMwebUnauthBoardInviteLanding:!0,onAccept:async()=>{let o=`/invited/${t.search}&board_id=${e}&inviter_first_name=${w?.first_name||""}`;y({inviterId:g,boardId:e,hasAcceptedInvite:!1}),f.push(o)},onDismiss:()=>h(!1)})}function eb({boardId:e,boardImageRep:t,boardName:o}){let s=(0,i.TH)(),n=(0,r.I0)(),d=(0,Y.Z)(),c=d.isAuth?d.id:void 0,{invite_code:_,seamless:h}=(0,T.mB)(s.search),b=(0,ed.U)({board:e,invited_user:c??""}),m=(0,e_.mN)()(c??""),f=(0,W.Z)(),x=(0,O.HG)(),g=(0,p.ZP)(),{showToast:v}=(0,Z.dI)(),y=(0,a.useRef)(!1),[j,w]=(0,a.useState)(!1);(0,A.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}});let P=(0,r.v9)(({invites:e})=>e[b]?.created_at||void 0),C=(0,z.Z)({name:"BoardInviteResource",options:{field_set_key:"boardEdit",board_id:e,invite_code:_,invited_user_id:c}}),S=(0,r.v9)(t=>{let o=(0,ec.Z)(t)[e];return o?t.invites[o]:void 0}),B=(0,r.v9)(({users:e,invites:t})=>Object.keys(t).reduce((o,a)=>{let r=t[a];return r&&(o[a]=e[r.invited_by_user]),o},{})[b]),{unauthBoardInvite:I,setUnauthBoardInvite:k}=(0,ea.i)(),{boardId:E,inviterId:M,hasAcceptedInvite:H}=I||{},U=E&&M&&!H,L=E&&M&&H;if((0,R.Z)(()=>{U&&m&&(async()=>{y.current=!0;try{await n((0,en.SD)(e,m,f)),k({boardId:e,inviterId:M||"",hasAcceptedInvite:!0}),await C.refresh(),v(({hideToast:e})=>(0,N.jsx)(u.Z,{duration:5e3,onHide:e,text:(0,N.jsx)(l.xv,{children:(0,V.nk)(g._('You can now collaborate on {{boardName}}!', 'mweb_group_board_invite_banner.acceptInviteToast', 'Title on toast when user accepts a board invite from unauth invite, boardName: name of the board.'),{boardName:(0,N.jsx)(l.xv,{inline:!0,weight:"bold",children:o})})}),thumbnail:{image:(0,N.jsx)(l.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:t})}}))}catch(e){v(({hideToast:t})=>(0,N.jsx)(u.Z,{onHide:t,text:(0,q.Z)(e,"message")??"",type:"error"}))}finally{y.current=!1}})()}),!S||!B||!m||S&&L)return null;let D=B.first_name,F=()=>(w(!0),n((0,en.SD)(e,m,f)));return eo(s)?(x&&v(({hideToast:e})=>(0,N.jsx)(u.Z,{duration:5e3,onHide:e,text:g._('You\'re in! Save Pins, plan with collaborators, and more!', 'GroupBoardInviteBanner.handleAcceptButtonClick.acceptInviteToastForAuthUser', 'Toast text after accepting board collaborator invite.')})),(0,N.jsx)(et,{boardId:e,inviteCode:_,invitedByUser:B,inviterFirstName:D||"",isSeamlessLanding:!!h,onAccept:F,user:m})):!y.current&&!j&&!!S&&(0,N.jsx)(eh,{inviteCreationDatetime:P,invitedByUser:B,inviterFirstName:D||"",onAccept:F,onDismiss:()=>n((0,es.xR)(e,c??"",f))})}let em=({isAuthenticated:e,boardId:t,boardImageRep:o,boardName:a})=>e?(0,N.jsx)(eb,{boardId:t,boardImageRep:o,boardName:a}):(0,N.jsx)(ep,{boardId:t});var ef=o(319227),ex=o(788743);function eg({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:o}){let r=(0,p.ZP)(),i=(0,W.Z)();return(0,a.useEffect)(()=>{i({component:13860,event_type:13,view_type:5,aux_data:o})},[i]),(0,N.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)",paddingTop:260}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1),children:(0,N.jsxs)(l.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,N.jsx)(l.X6,{align:"center",color:"light",children:r._('This board may contain sensitive content', 'board.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,N.jsxs)(l.kC,{gap:{row:6,column:0},children:[(0,N.jsx)(l.zx,{color:"red",onClick:e,size:"lg",text:r._('Go back', 'board.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,N.jsx)(l.zx,{color:"white",onClick:t,size:"lg",text:r._('View anyway', 'board.sensitivityScreen.viewButton', 'Text on button that allows user to dismiss sensitivity screen and view board')})]}),(0,N.jsx)(l.xu,{padding:4,children:(0,N.jsx)(l.xv,{align:"center",color:"inverse",overflow:"normal",size:"200",children:(0,V.nk)(r._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'board.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,N.jsx)(l.rU,{href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",children:(0,N.jsx)(l.xv,{color:"inverse",inline:!0,size:"200",underline:!0,children:r._('Community Guidelines', 'board.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})}var ev=o(680713),ey=o(748454),ej=o(403252);let ew=()=>{let[e,t]=(0,a.useState)(!1),[o,r]=(0,a.useState)(!1),i=(0,ej.Z)(),s=(0,p.ZP)(),n=(0,k.Z)();(0,a.useEffect)(()=>{let e=ey.Yj*ey.H$,o=(0,B.Z)(()=>{let o=window.scrollY||document.documentElement.scrollTop;o<ey.Mz?t(!1):o<e?t(3!==Math.ceil(o/ey.Yj)):t(!1)},ey.DE);return window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)}},[]);let d=()=>{n({action:"click",item:"unauth-board-upsell-banner-dismiss-dweb"}),t(!1),r(!0)};return(0,N.jsx)(l.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{transition:"all 0.3s ease-in-out",transform:e&&!o?"translateY(0)":"translateY(370px)",marginLeft:i.enabled?"72px":"0"}},"data-test-id":"bottom-right-upsell",direction:"column",display:"flex",height:108,left:!0,position:"fixed",right:!0,zIndex:ev.Kf,children:(0,N.jsxs)(l.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{left:"50%",boxShadow:"0 3px 12px 0 rgba(0, 0, 0, 0.20)",transform:"translateX(-50%)"}},display:"flex",maxWidth:900,padding:4,position:"fixed",rounding:4,width:"100%",children:[(0,N.jsxs)(l.xu,{flex:"grow",marginEnd:4,children:[(0,N.jsxs)(l.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,N.jsx)(l.JO,{accessibilityLabel:"Pin icon",icon:"angled-pin",size:20}),(0,N.jsx)(l.xv,{size:"500",weight:"bold",children:s._('Save what you love', 'board.unauthBoardUpsellBanner.title', 'Title for unauth board upsell banner')})]}),(0,N.jsx)(l.xu,{marginStart:7,children:(0,N.jsx)(l.xv,{size:"300",children:s._('Hover over your favorite ideas to save.', 'board.unauthBoardUpsellBanner.description', 'Description for unauth board upsell banner')})})]}),(0,N.jsx)(l.xu,{marginEnd:10,children:(0,N.jsx)(l.zx,{onClick:d,size:"md",text:s._('Got it', 'board.unauthBoardUpsellBanner.dismissButton', 'Dismiss button text for unauth board upsell banner')})}),(0,N.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{right:"4px",top:"4px"}},position:"absolute",children:(0,N.jsx)(l.hU,{accessibilityLabel:s._('Dismiss banner', 'board.unauthBoardUpsellBanner.dismissIcon', 'Dismiss icon for unauth board upsell banner'),bgColor:"transparent",icon:"cancel",iconColor:"darkGray",onClick:d,size:"md"})})]})})};var eP=o(607001);let eA=({type:e="signup",bgColor:t="white"})=>{let o=(0,a.useRef)(null),r=(0,p.ZP)(),[i,s]=(0,a.useState)(!1),[n,d]=(0,a.useState)(!1),c=(0,eP.Z)(),_=(0,k.Z)();return(0,a.useEffect)(()=>{let e=setTimeout(()=>{s(!0)},800);return()=>clearTimeout(e)},[]),(0,N.jsxs)(l.xu,{children:[(0,N.jsx)(l.hU,{ref:o,accessibilityLabel:r._('Create button', 'BoardHeader.CreateBoardButton', 'Accessibility label for button to create a board'),bgColor:t,icon:"add",onClick:()=>{_({action:"click",item:"unauth-board-upsell-dweb"}),c({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"unauth_board_upsell_dweb",desktopOptions:{modalType:e,modalOptions:{source:"lopBoardUpsell",container:"lopBoardUpsell"}}}),s(!1),d(!0)},size:"lg",tooltip:n?{text:r._('Create a board', 'boardHeaderOverflowMenu.createBoardTooltip', 'Tooltip for button to create a board')}:void 0}),(0,N.jsx)(l.xu,{dangerouslySetInlineStyle:i?{__style:{transition:"opacity 0.3s"}}:void 0,opacity:+!!i,children:(0,N.jsx)(l.pl,{anchor:o.current,forceDirection:!0,id:"board-creation-upsell-popover",idealDirection:"down",message:r._('Want to curate your own ideas? Make a board', 'boardHeaderOverflowMenu.createBoardPopover.text', 'Text on popover to create a board'),onDismiss:()=>{i&&(s(!1),d(!0))}})})]})};var ez=o(888109),eC=o(431394),eS=o(729969),eB=o(693853),eI=o(532611),ek=o(602400),eZ=o(21946),eT=o(443934),eO=o(483190),eR=o(258644),eE=o(702226),eM=o(588836);function eH(e,t,o){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let eU=(0,a.lazy)(()=>Promise.all([o.e("25418"),o.e("40173"),o.e("68281"),o.e("77997")]).then(o.bind(o,826257))),eL=(0,a.lazy)(()=>Promise.all([o.e("25418"),o.e("40173"),o.e("57937")]).then(o.bind(o,89783))),eD=8,eN=5,eF=({boardId:e,children:t,hasFixedHeader:o,viewParameter:a})=>(0,N.jsx)(ek.H,{children:(0,N.jsx)(E.Z,{objectIdStr:e,viewParameter:a,viewType:5,children:(0,N.jsx)(I.Z,{objectId:e,view:5,viewParameter:a,children:(0,N.jsx)(x.default,{dataLayoutShiftBoundaryId:"BoardPageContainer",hasFixedHeader:o,children:t})})})}),eG=({board:e,blockedByMe:t,children:o,experience:_,isAuthenticated:u,isBoardPreviewMode:b,isSeoBot:f,location:x,setBoardPreviewMode:y,stickyHeaderRef:j,username:w})=>{let P=(0,i.k6)(),A=(0,m.b)(),z=(0,p.ZP)(),B=(0,el.Z)(),[I,Z]=(0,a.useState)(!1),[E,H]=(0,a.useState)(!1),{logContextEvent:U}=(0,n.u)(),L=(0,k.Z)(),{checkExperiment:D}=(0,v.ru)(),F=(0,r.I0)(),{canUseNativeApp:G}=(0,r.v9)(({session:e})=>e),{id:$,name:W,access:q,owner:Y,sensitivity:X,privacy:V,pin_count:K,section_count:J,sensitivity_screen:ee,collaborated_by_me:et,image_cover_url:ea,collaborator_permissions_setting:er}=e,ei=(0,O.HG)(),en=(0,O.ml)(),ed=(0,O.Wb)(),ec=(0,ex.Z)(!!et),e_={board_id:$,reason:ee?.reason||""},{slug:eu}=(0,i.UO)(),{isDirect:eh}=(0,g.Z)(),{previous:ep,forward:eb}=(0,h.ou)(),ev=0===ep.length&&0===eb.length;(0,R.Z)(()=>{A&&ev&&eh&&!u&&(ei?(0,Q.nP)("unauth.entry_channel.direct.landing_page.board_page.dweb",{sampleRate:1}):(0,Q.nP)("unauth.entry_channel.direct.landing_page.board_page.mweb",{sampleRate:1}))}),(0,R.Z)(()=>{u||((e,t)=>{let[o]=(0,S.M0)().getItem(s.tH)??[];if(!(o&&o.path===t.pathname)&&!t.state?.isFromNavFooterPage){let o=e.cover_pin,a=o?.pin_id,r=e.cover_images,i=o&&o.image_signature||null,l=r&&r["222x"]||null;(0,eT.p9)(t.pathname,i,a,l,"board")}})(e,x)}),(0,d.Z)({pageUniqueKey:$,containerPage:"board_page"});let ey=()=>{B({fn:e=>{e&&e.stopPropagation&&e.stopPropagation(),H(!0),L({action:"click",item:"main-share-button"})}})()};(0,a.useEffect)(()=>{"t"===(0,T.mB)(x.search).open_share&&ey()},[]),(0,a.useEffect)(()=>(u&&F((0,eR.FK)()),()=>{u&&F((0,eR.Cp)())}),[F,u]);let ej=(q||[]).includes("write"),eP=(0,ef.Z)(Y?.id),ek=(0,eI.Uz)(X),eE=ec||eP,eH="secret"===V,eD=!u&&!f,eN=!eE&&!eD,{hasApplicableLawForCountry:eG}=(0,eO.ZP)(),e$=ei&&eD,eW=eE||eN||eG,eq=!ei&&(u||!G||eD),eY=!!eW&&e$,eX=(0,a.useRef)(null),[eV,eK]=(0,a.useState)(!1),eJ=(0,eZ.cS)();(0,R.Z)(()=>{U({aux_data:{board_id:$,board_pin_count:K??0,board_section_count:J??0},component:178,event_type:13,view_parameter:eP?3069:3070,view_type:5})});let[eQ,e0]=(0,a.useState)(!eP&&!ec&&!!ee?.show_warning),e1=eP?3069:3070,e2=!ei&&!eH,e6=!e2&&!e$&&!eH,{featured_board_metadata:e3}=e,{has_expanded_sections:e8}=e3||{},e4=e8&&eP&&y&&eJ,e5=e.header?.large_image_url||null,e7=u&&!ej,{anyEnabled:e9}=eD&&en?D("unauth_board_upsell_mweb"):{anyEnabled:!1},{anyEnabled:te,group:tt}=eD&&!en?D("unauth_board_upsell_dweb"):{anyEnabled:!1,group:""},to=eD&&!en&&D("unauth_board_upsell_save_dweb").group||"";return(0,N.jsxs)(eF,{boardId:$,hasFixedHeader:eq,viewParameter:e1,children:[_&&(0,N.jsx)(c.iH,{placementId:1000251}),(0,N.jsx)(c._f,{customFooterHeight:eP||ec?72:0,experience:_}),(0,N.jsx)(c.nj,{experience:_}),(0,N.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:eQ?{filter:"blur(20px)"}:{}},children:[("enabled_banner_immediate"===to||"enabled_no_open_banner_immediate"===to)&&(0,N.jsx)(ew,{}),ei&&!eD&&(0,N.jsx)(l.xu,{paddingX:2,children:(0,N.jsx)(eM.Z,{color:"darkGray",fallbackUrl:`/${w}/`,padding:3,size:"lg"})}),eq&&(0,N.jsx)(eC.Z,{blockedByMe:t,board:e,canEdit:ej,isBoardPreviewMode:b,isOwnerOrCollaborator:eE,isSensitive:ek,isSeoBot:f,isUnauthMobileBoardUpsellEnabled:e9,openSendBoardModal:ey,setBoardPreviewMode:y,shareButtonRef:eX,shouldUseFallbackUrl:eo(x),showFollowOption:e7,showOverflowMenuMobile:!!eW,showReportOption:eN,showShareButtonMobile:e2,showShareOptionInOverflowMenu:e6,showSwitchPreviewMode:e4,slug:eu,stickyHeaderRef:j,username:w,viewParameter:e1}),(en||ed)&&!!e5&&(0,N.jsx)(eS.Z,{board:e}),(0,N.jsx)(l.kC,{justifyContent:"center",children:(0,N.jsx)(em,{boardId:$,boardImageRep:ea??"",boardName:W??"",isAuthenticated:u})}),(u||eD)&&(0,N.jsxs)(a.Fragment,{children:[(0,N.jsx)(C.Z,{children:(0,N.jsx)(eU,{component:13216,element:72,hideContactsSuggestions:!u,isOpen:E,objectId:String($),objectType:2,onDismiss:e=>{e&&e.stopPropagation&&e.stopPropagation(),H(!1)},viewParameter:e1,viewType:5})}),I&&(0,N.jsx)(eB.Z,{boardCollabPermissionsSetting:eP&&er,isOpen:I,objectId:$,objectType:2,onDismiss:()=>Z(!1)})]}),(0,N.jsx)(ez.Z,{blockedByMe:t,board:e,getUnauthDesktopBoardActions:()=>(0,N.jsxs)(l.kC,{gap:2,children:[te&&(0,N.jsx)(eA,{bgColor:e5?"white":"transparent",type:"enabled_signup"===tt?"signup":"login"}),(0,N.jsxs)(l.xu,{ref:eX,alignContent:"center",alignItems:"center","data-test-id":"share-board-button",direction:"row",display:"flex",justifyContent:"center",marginBottom:2,children:[(0,N.jsx)(l.hU,{accessibilityLabel:z._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board'),bgColor:e5?"white":"transparent",icon:"share",onClick:()=>{L({action:"click",item:"main-share-button"}),eK(!0)},selected:eV,size:"lg",tooltip:{text:z._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board')}}),(0,N.jsx)(c.N,{anchors:{4020:eX.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000251,scrollToDismiss:!0}),eV&&(0,N.jsx)(C.Z,{children:(0,N.jsx)(eL,{anchor:eX.current,component:13216,objectId:$,objectType:2,onDismiss:()=>eK(!1),title:z._('Send this board', 'Sharesheet.ShareSocialBar', 'social media sharing board'),viewType:5})})]}),eY&&(0,N.jsx)(l.xu,{children:(0,N.jsx)(M.Z,{bgColor:e5?"white":"transparent",board:e,hideShare:!e6,iconSize:"lg",isOwnerOrCollaborator:eE,isSensitive:ek,onShowAbout:()=>{},openSendBoardModal:ey,showAboutRecommendationOption:!1,showReportOption:eN,slug:eu,username:w,viewParameter:e1,viewType:578})})]}),isAuthenticated:u,isBoardPreviewMode:b,isSeoBot:f,setInviteCollaboratorsModalIsOpen:Z,viewParameter:e1,children:o})]}),eQ&&(0,N.jsx)(l.xu,{marginStart:-2,children:(0,N.jsx)(eg,{handleGoBack:()=>{U({event_type:101,component:13860,element:73,view_type:5,aux_data:e_}),A||P.replace("/"),P.goBack()},hideSensitivityScreen:()=>{F((0,es.of)($)),U({event_type:101,component:13860,element:12448,view_type:5,aux_data:e_}),e0(!1)},sensitivityScreenAuxData:e_})})]})};class e$ extends a.Component{constructor(...e){super(...e),eH(this,"stickyHeaderRef",(0,a.createRef)()),eH(this,"logScrollEvent",(0,B.Z)(()=>{let e=this.props.board?this.props.board.id:0;this.props.logContextEvent({event_type:110,view_type:5,view_parameter:3070,aux_data:{unauth_page_board_id:e}})},300))}componentDidMount(){let{board:e,dispatch:t,isAuthenticated:o,isViewerBoardOwner:a,isViewerCollaborator:r,isSeoBot:i,location:l}=this.props;if(e){let o="other";a?o="own":r&&(o="collaborator"),t((0,_.pz)([1000251],i,{board_id:e.id,board_ownership:o}))}(0,f.Z)(),o?(0,T.mB)(l.search).seamless&&(0,Q.nP)("mweb.social.group_board.seamless.land"):((0,eT.Mt)({key:s._b,lastVisitedPage:l.pathname}),window.addEventListener("scroll",this.logScrollEvent)),this.stickyHeaderRef&&this.stickyHeaderRef.current&&b.Z.addObstruction("top",this.stickyHeaderRef.current)}componentWillUnmount(){this.props.isAuthenticated||window.removeEventListener("scroll",this.logScrollEvent),this.stickyHeaderRef&&this.stickyHeaderRef.current&&b.Z.removeObstruction("top",this.stickyHeaderRef.current)}render(){let{board:e,children:t,experience:o,i18n:a,isAuthenticated:r,isBoardPreviewMode:i,isSeoBot:s,location:n,setBoardPreviewMode:d,user:c}=this.props;return e&&c?(0,N.jsx)(eG,{blockedByMe:c.blocked_by_me,board:e,experience:o,isAuthenticated:r,isBoardPreviewMode:i,isSeoBot:s,location:n,setBoardPreviewMode:d,stickyHeaderRef:this.stickyHeaderRef,username:c.username??"",children:t}):(0,N.jsx)(l.xu,{column:12,paddingY:2,children:r?(0,N.jsx)(l.xH,{accessibilityLabel:a._('Loading feed', ' - ', ' -- '),show:!0}):(0,N.jsx)(G,{})})}}let eW=({boardId:e})=>{let{slug:t,username:o}=(0,i.UO)();return(0,A.Z)({name:"BoardInvitesResource",options:{...e?{board_id:e}:{username:o,slug:t},status_filters:"new,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),null};function eq({isBoardPreviewMode:e,children:t,setIsBoardPreviewMode:o}){let l=(0,p.ZP)(),s=(0,j.Z)(),d=(0,i.TH)(),{slug:_,username:u}=(0,i.UO)(),h=(0,r.I0)(),{logContextEvent:b}=(0,n.u)(),{isAuthenticated:m,isBot:f}=(0,w.B)(),x=`/${u||""}/${(0,$.X)(_||"")}/`,g=(0,r.v9)(e=>(0,eE.Z)(e)[x]),v=g?.owner,P=(0,c._P)({id:1000251}),A=(0,ef.Z)(g?.owner?.id),z=(0,ex.Z)(!!g?.collaborated_by_me);return(0,N.jsxs)(a.Fragment,{children:[g&&(g.access||[]).includes("write")&&(0,N.jsx)(eW,{boardId:g.id}),(0,N.jsx)(y.Z,{measureGridVisuallyComplete:!0,surface:"board",children:(0,N.jsx)(e$,{board:g,dispatch:h,experience:P,i18n:l,isAuthenticated:m,isBoardPreviewMode:e,isSeoBot:f,isViewerBoardOwner:A,isViewerCollaborator:z,location:d,logContextEvent:b,pwtStaticContext:s,setBoardPreviewMode:o,user:v,children:t})})]})}function eY({children:e}){let t=(0,p.ZP)(),{isAuthenticated:o,isBot:a}=(0,w.B)(),r=(0,i.TH)(),{slug:l,username:s}=(0,i.UO)(),{showToast:n}=(0,Z.dI)(),{error:d}=(0,z.Z)({name:"BoardResource",options:(({username:e,field_set_key:t,slug:o,getPageMetadata:a,invite_code:r})=>({field_set_key:t||"profile_grid_item",is_mobile_fork:!0,username:e,slug:o,get_page_metadata:a,invite_code:r}))({username:decodeURIComponent(s||""),slug:(0,$.$)(l||"")})}),c=d&&o&&{pathname:r.pathname.match(/\/[^\/]*\//g),search:r.search},_=(0,z.Z)(a?null:{name:"UserResource",options:{field_set_key:"profile",username:decodeURIComponent(s||"")}}),h=!a&&(0,P.Z)(_);return!o&&d?(0,N.jsx)(i.l_,{to:{pathname:"/ideas/",state:{showError:!0}}}):c?(n(({hideToast:e})=>(0,N.jsx)(u.Z,{duration:7e3,onHide:e,text:o?t._('We couldn\'t find that Pinner\'s board but here are some of their other boards!', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to'):t._('We can\'t find that board. Please log in and give it another try!', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to'),type:"error"})),(0,N.jsx)(i.l_,{to:c})):h?(0,N.jsx)(i.l_,{to:h}):e}function eX({children:e}){return(0,N.jsx)(eY,{children:(0,N.jsx)(eq,{children:e})})}},419480:function(e,t,o){o.d(t,{Z:()=>s});var a=o(667294),r=o(20256),i=o(525839),l=o(785893);function s({setting:e,viewerIsOwner:t}){let o=(0,i.ZP)(),s={0:{name:o._('Do (almost) everything', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:o._('Add, move or delete Pins and sections, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')},1:{name:o._('Save and comment', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:t?o._('Save Pins, organize them, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting'):o._('Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!', 'save.board.BoardPage.ModalContents.BoardPermissionDescription.SaveOnly.Collab', 'Text explaining collaborator permission setting')},INVITE_SETTING:{name:o._('Invite other people', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:o._('Collaborators can invite others to this board', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')}};return(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(r.X6,{accessibilityLevel:2,size:"400",children:s[e].name}),(0,l.jsx)(r.xu,{paddingY:1,children:(0,l.jsx)(r.xv,{color:"subtle",size:"300",children:s[e].description})})]})}},185191:function(e,t,o){o.d(t,{Z:()=>_});var a=o(581722),r=o(20256),i=o(667294),l=o(839626),s=o(15667),n=o(785893);let d=88,c=({toolSize:e=d,boardTool:{icon:t,link:o,text:a,tool:c}})=>{let[_,u]=(0,i.useState)(!1),{isRTL:h}=(0,s.B)(),p=(0,i.useRef)(null),b=(e=>{switch(e){case 1:return 4004;case 2:return 4005;default:return}})(c);return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(r.Tg,{ref:p,accessibilityLabel:a,href:o,onBlur:()=>u(!1),onFocus:()=>u(!0),rounding:6,children:(0,n.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,n.jsx)(r.xu,{alignItems:"center",color:_?"lightWash":"secondary",display:"flex",height:e,justifyContent:"center",rounding:6,width:e,children:(0,n.jsx)(r.JO,{accessibilityLabel:a,color:"default",icon:"text-align-left"===t&&h?"text-align-right":t,size:24})}),(0,n.jsx)(r.xu,{paddingY:1,width:e,children:(0,n.jsx)(r.xv,{align:"center",lineClamp:2,size:"100",weight:"bold",children:a})})]})}),b&&(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(l.cs,{anchors:{[b]:p.current},placementId:1000251,positionRelativeToAnchor:!1}),(0,n.jsx)(l.N,{anchors:{[b]:p.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000251,scrollToDismiss:!0})]})]})};function _({boardId:e,sectionId:t,horizontalAlignment:o="center",toolSize:i,isBoardEmpty:l}){let s="";t?s=t:e&&(s=e);let d=t?`section-tools:${s}`:`board-tools:${s}`,_=((0,a.v9)(({feeds:e})=>e[d])||[]).filter(({tool:e})=>!l||2!==e);return!_||_.length<1?null:(0,n.jsx)(r.xu,{"data-test-id":"board-tools-container",children:(0,n.jsx)(r.kC,{alignItems:"center",justifyContent:o,width:"100%",children:(0,n.jsx)(r.kC,{alignItems:"stretch",gap:2,justifyContent:"start",children:_.map(e=>(0,n.jsx)(r.xu,{children:(0,n.jsx)(c,{boardTool:e,toolSize:i})},e.id))})})})}c.displayName="BoardTool"},26032:function(e,t,o){o.d(t,{$:()=>r,X:()=>i});var a=o(492316);let r=e=>decodeURIComponent(e),i=e=>encodeURIComponent((0,a.t)(e))},191641:function(e,t,o){o.d(t,{Z:()=>l});var a=o(20256),r=o(661314),i=o(785893);function l({boardId:e,surface:t}){return(0,i.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,i.jsx)(r.Z,{bgColor:"white",boardId:e,buttonPadding:4,elementType:10643,iconButtonColor:"darkGray",iconButtonSize:"xl",viewType:"board"===t?5:164})})}},319227:function(e,t,o){o.d(t,{Z:()=>r});var a=o(821342);function r(e){let t=(0,a.Z)();return t.isAuth&&e===t.id}},788743:function(e,t,o){o.d(t,{Z:()=>r});var a=o(821342);function r(e){return(0,a.Z)().isAuth&&e}},693853:function(e,t,o){o.d(t,{Z:()=>Y});var a=o(667294),r=o(616550),i=o(20256),l=o(575108),s=o(521009),n=o(706987),d=o(784821),c=o(935709),_=o(306171),u=o(982166),h=o(475498),p=o(525839),b=o(467221),m=o(692385),f=o(87853),x=o(419480),g=o(581722),v=o(289032),y=o(821342),j=o(536652),w=o(444185),P=o(159527),A=o(657043),z=o(744862),C=o(415602),S=o(969009),B=o(785893);function I(e,t,o){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class k extends a.PureComponent{constructor(...e){super(...e),I(this,"state",{isSent:!1}),I(this,"onInlineSend",async()=>{let{inviteCollaborator:e,viewingUserId:t,boardId:o,recipient:a,showToast:r}=this.props;this.setState({isSent:!0});try{await e(o,a?.id??"",t),r(({hideToast:e})=>(0,B.jsx)(h.Z,{onHide:e,text:this.props.i18n._('1 invite sent!', 'BoardCollabSuggestionCell.onInlineSend.confirmationToast', 'Toast message after sending out an invitation to collaborate on a board.')}))}catch(e){this.setState({isSent:!1}),r(({hideToast:t})=>(0,B.jsx)(h.Z,{onHide:t,text:(0,A.Z)(e,"message")||this.props.i18n._('Sorry! There was an error adding collaborators', 'Toast for adding collaborator error', 'Toast for adding collaborator error'),type:"error"}))}})}render(){let{invite:e,legoBoardModalsEnabled:t,recipient:o}=this.props,{isSent:a}=this.state,r=!!(a||e),l=o?.avatar_color_index;return(0,B.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:2,position:"relative",width:"100%",children:[(0,B.jsx)(i.xu,{children:(0,B.jsx)(z.qE,{accessibilityLabel:"",color:l,name:o?.full_name??"",size:"md",src:o?.image_large_url??""})}),(0,B.jsx)(i.xu,{flex:"grow",paddingX:2,children:t?(0,B.jsxs)(i.xu,{children:[(0,B.jsx)(i.X6,{accessibilityLevel:2,lineClamp:1,size:"400",children:o?.full_name}),(0,B.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"100",children:o?.username})]}):(0,B.jsx)(i.xv,{lineClamp:1,weight:"bold",children:o?.full_name})}),(0,B.jsx)(i.xu,{flex:"none",marginStart:2,right:!0,children:r?(0,B.jsx)(i.xu,{marginEnd:2,children:(0,B.jsx)(i.xv,{color:"subtle",size:"300",weight:"bold",children:this.props.i18n._('Invited', 'Disabled button after a user invites someone else', 'Disabled button after a user invites someone else')})}):(0,B.jsx)(i.zx,{color:"red",disabled:r,onClick:()=>{this.onInlineSend()},size:"lg",text:this.props.i18n._('Invite', 'Button to invite a contact to collaborate on a group board', 'Button to invite a contact to collaborate on a group board')})})]})}}function Z(e){let t=(0,p.ZP)(),{showToast:o}=(0,f.dI)();(0,w.Z)({name:"BoardInviteResource",options:{board_id:e.boardId,invited_user_id:e.recipient?.id}});let a=(0,y.Z)(),r=(0,g.I0)(),i=(0,C.DK)(),l=(0,S.U)({board:e.boardId,invited_user:e.recipient?.id??""}),s=(0,g.v9)(({invites:e})=>e[l]);return(0,B.jsx)(k,{...e,i18n:t,invite:s,inviteCollaborator:(e,t)=>r(i(e,[t])),showToast:o,viewingUserId:a.isAuth?a.id:""})}var T=o(793698),O=o(671347),R=o(603316);function E(e,t,o){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let M={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class H extends a.PureComponent{constructor(e){super(e),E(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[]}),E(this,"onSearchChange",({value:e})=>{let{userId:t,searchContacts:o}=this.props;this.setState({value:e},o({options:{user:t,term:e}}))}),E(this,"getContactSuggestions",()=>{let{suggestions:e,userId:t,users:o}=this.props,{value:a,defaultSuggestions:r}=this.state;if(!a)return r.filter(e=>e.id&&o[e.id])||[];let i=`share-suggestions:${t}:${a}`,l=`share-suggestions:${t}:${a.slice(0,-1)}`;return e[i]||e[l]||[]}),E(this,"renderContactSuggestions",()=>{let{fetching:e,users:t,boardId:o,legoBoardModalsEnabled:a,isFullHeight:r}=this.props,{value:l}=this.state,s=this.getContactSuggestions(),n=Math.min(s.length,4),d=r?"100%":`calc(8.5vh * ${n})`;return e?(0,B.jsx)(i.xu,{height:d,paddingY:2,children:(0,B.jsx)(i.xH,{accessibilityLabel:this.props.i18n._('Searching for contacts', 'Placeholder text for spinner on share menu', 'Placeholder text for spinner on share menu'),show:!0})}):0===s.length?r&&l.trim()&&(0,B.jsx)(i.xu,{marginTop:4,children:(0,B.jsx)(i.xv,{align:"center",children:this.props.i18n._('Sorry, we can\'t find anyone by that name.', 'Text to show empty state when a contact can not be found', 'Text to show empty state when a contact can not be found')})}):(0,B.jsx)(i.xu,{height:d,children:s.map(e=>(0,B.jsx)(Z,{boardId:o,legoBoardModalsEnabled:!!a,recipient:t[e.id]},e.id))})}),this.scrollerRef=(0,a.createRef)()}componentDidUpdate(e){let{fetching:t}=e,{value:o}=this.state,a=t&&!this.props.fetching,r=this.getContactSuggestions();if(!o&&a){let e=r.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:5,view_parameter:3059})}}componentDidMount(){l.Z.create("ShareSuggestionsResource",{suggestion_type:"group_board",board:this.props.boardId}).callGet().then(e=>{let t=e.resource_response.data;this.setState({defaultSuggestions:t})}).catch(()=>{(0,R.nP)("mweb_share_menu_load_suggestions.fail.board_invite",{sampleRate:1})})}render(){let{showScrollShadow:e}=this.state,{expandContactsList:t}=this.props,o=(0,P.Z)(()=>{let e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})},100);return(0,B.jsxs)(i.xu,{color:"default",direction:"column",display:"flex",height:"90%",paddingX:0,children:[(0,B.jsx)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:e?M:null},paddingX:4,paddingY:2,children:(0,B.jsx)(O.Z,{accessibilityLabel:this.props.i18n._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),autoFocus:!1,id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:t,placeholder:this.props.i18n._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:this.state.value})}),(0,B.jsx)(i.xu,{ref:this.scrollerRef,direction:"column",display:"flex",onScroll:o,overflow:"scrollY",paddingX:4,paddingY:1,children:this.renderContactSuggestions()})]})}}function U(e){let t=(0,p.ZP)(),o=(0,g.I0)(),a=(0,g.v9)(({resources:e})=>Object.values(e.ShareSuggestionsTypeaheadResource||{}).some(e=>e.fetching)),r=(0,g.v9)(({feeds:e})=>Object.keys(e).filter(e=>e.includes("share-suggestions")).reduce((t,o)=>({...t,[o]:e[o]}),{})),i=(0,y.Z)(),l=i.isAuth?i.id:void 0,n=(0,T.dM)(),d=(0,s.Z)();return(0,w.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:l}}),(0,B.jsx)(H,{...e,fetching:a,i18n:t,logContextEvent:d,searchContacts:e=>{(0,v.Z)(o((0,j.U)("ShareSuggestionsTypeaheadResource",e)),200)},suggestions:r,userId:l??"",users:n})}var L=o(914407),D=o(522169);function N(e,t,o){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let F=({text:e})=>(0,B.jsx)(i.xv,{align:"center",size:"100",children:(0,B.jsx)(m.Z,{maxHeightPx:30,maxWidthPx:70,children:e})}),G=({heading:e,legoBoardModalsEnabled:t,onDismiss:o})=>{let a=(0,p.ZP)();return(0,B.jsxs)(i.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,B.jsx)(i.xu,{alignItems:"center",display:"flex",padding:2,children:(0,B.jsx)(i.hU,{accessibilityLabel:a._('Close', 'close share menu', 'close share menu'),icon:"cancel",iconColor:"darkGray",onClick:o,padding:4,size:t?"lg":"sm"})}),(0,B.jsx)(i.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginEnd:12,children:(0,B.jsx)(i.xv,{align:"center",size:"400",weight:"bold",children:e})})]})},$=({children:e,isOpen:t,legoBoardModalsEnabled:o,onDismiss:a,shouldRenderFullHeight:r})=>{let i=(0,p.ZP)(),l=i._('Invite collaborators', 'mweb.inviteSheet.header.label', 'Heading for the add collaborators sharesheet'),s={accessibilityModalLabel:"",mobileAccessibilityCloseIconLabel:i._('close send modal', ' - ', ' -- '),heading:l,isOpen:t,onDismiss:a,type:"board_collab_share_menu"};return r?(0,B.jsxs)(L.Z,{accessibilityModalLabel:l,isOpen:t,children:[(0,B.jsx)(G,{heading:l,legoBoardModalsEnabled:o,onDismiss:a}),e]}):(0,B.jsx)(u.ZP,{...s,children:e})};class W extends a.PureComponent{constructor(...e){super(...e),N(this,"state",{invitePath:"",inviteCode:null,Clipboard:null,fbLoaded:!1}),N(this,"setClipboard",e=>{let{Clipboard:t}=this.state;if(this.copyButtonRef=e,!e||!t)return;let o=new t(e,{text:()=>this.state.invitePath});o.on("success",e=>{this.showCopyToast(e)}),o.on("error",()=>{throw Error("<ShareMenu /> error: copy command failed")})}),N(this,"showCopyToast",e=>{this.logShare(12),this.props.onDismiss(e),this.props.showToast(({hideToast:e})=>(0,B.jsx)(h.Z,{onHide:e,text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard')}))}),N(this,"handleMessengerClick",()=>{this.logShare(6),this.fetchFreshInviteCode(6)}),N(this,"handleTwitterClick",()=>{this.logShare(9),this.fetchFreshInviteCode(9)}),N(this,"handleWhatsappClick",()=>{this.logShare(10),this.fetchFreshInviteCode(10)}),N(this,"handleFacebookClick",()=>{let{inviteCode:e,invitePath:t,fbLoaded:o}=this.state;o&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},t=>{t&&!t.error_message&&this.logShare(5,e)}),this.fetchFreshInviteCode(5)}),N(this,"copyButtonRef",null)}componentDidMount(){this.fetchFreshInviteCode(12),(0,b.we)("en_US").then(()=>{this.setState({fbLoaded:!0})}),o.e("74459").then(o.t.bind(o,842152,23)).then(({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}),this.props.logContextEvent({event_type:7120,element:331,view_type:5,view_parameter:3059})}componentDidUpdate({objectId:e}){let{objectId:t}=this.props;e!==t&&this.fetchFreshInviteCode(12)}async fetchFreshInviteCode(e){let{objectId:t,objectType:o,fetchFreshInviteCode:a}=this.props,{invitePath:r,inviteCode:i}=await a(e,t,o);r&&this.setState({invitePath:r}),i&&this.setState({inviteCode:i})}logShare(e,t=this.state.inviteCode){let{objectId:o,objectType:a}=this.props;l.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:4,invite_object:a,invite_channel:e},invite_code:t,object_id:o}).callCreate()}render(){let{boardCollabPermissionsSetting:e,history:t,legoBoardModalsEnabled:o,objectId:r,onExpand:l,shouldRenderFullHeight:s}=this.props,{invitePath:u}=this.state,h=`fb-messenger://share/?link=${encodeURIComponent(u)}&app_id=${b.GH}`,p=`twitter://post?message=${encodeURIComponent(u)}`,m=`whatsapp://send?text=${encodeURIComponent(u)}`,f=({children:e,marginEnd:t})=>(0,B.jsx)(i.xu,{direction:"column",display:"flex",marginEnd:t,width:o?void 0:78,children:e}),g=({children:e})=>(0,B.jsx)(i.xu,{display:"flex",justifyContent:"center",paddingX:o?void 0:3,children:e}),v=this.props.i18n._('Copy link', 'Copy link icon', 'Copy link icon'),y=this.props.i18n._('Messenger', 'Facebook Messenger App', 'Facebook Messenger App'),j=o?44:48;return(0,B.jsxs)(a.Fragment,{children:[!s&&(0,B.jsxs)(i.xu,{children:[(0,B.jsx)(i.xu,{height:4}),[0,1].includes(e)&&(0,B.jsx)(i.iP,{onTap:()=>t.push(`/board/${r}/permissions`),children:(0,B.jsxs)(i.xu,{marginBottom:8,paddingX:4,children:[(0,B.jsx)(i.xu,{paddingY:2,children:(0,B.jsx)(i.xv,{size:"100",children:this.props.i18n._('Collaborators can...', 'boardEdit.EditCollaborators', 'Text before showing collaborator permissions on a board')})}),(0,B.jsxs)(i.kC,{alignItems:"start",justifyContent:"between",children:[(0,B.jsx)(i.xu,{width:"60%",children:(0,B.jsx)(x.Z,{setting:e})}),(0,B.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('See permission options', 'boardEdit.EditCollaborators', 'accessibility label on button'),icon:"arrow-forward"})]})]})}),(0,B.jsxs)(i.xu,{display:"flex",justifyContent:"around",marginEnd:4,marginStart:4,overflow:"scrollX",width:"100%",children:[(0,B.jsxs)(f,{marginEnd:2,children:[(0,B.jsx)(g,{children:(0,B.jsx)(i.xu,{ref:this.setClipboard,children:(0,B.jsx)(i.Sj,{bgColor:"lightGray",icon:"link",size:"lg"})})}),(0,B.jsx)(F,{text:v})]}),(0,B.jsxs)(f,{marginEnd:2,children:[(0,B.jsx)(g,{children:(0,B.jsx)(i.rU,{href:h,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},rel:"nofollow",children:(0,B.jsx)(d.Z,{size:j})})}),(0,B.jsx)(F,{text:y})]}),(0,B.jsxs)(f,{marginEnd:2,children:[(0,B.jsx)(g,{children:(0,B.jsx)(i.rU,{href:m,onClick:this.handleWhatsappClick,rel:"nofollow",children:(0,B.jsx)(c.Z,{size:j})})}),(0,B.jsx)(F,{text:this.props.i18n._('WhatsApp', 'WhatsApp App', 'WhatsApp App')})]}),(0,B.jsxs)(f,{marginEnd:2,children:[(0,B.jsx)(g,{children:(0,B.jsx)(i.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t(),this.handleFacebookClick()},rel:"nofollow",children:(0,B.jsx)(n.Z,{size:j})})}),(0,B.jsx)(F,{text:this.props.i18n._('Facebook', 'Facebook App', 'Facebook App')})]}),(0,B.jsxs)(f,{children:[(0,B.jsx)(g,{children:(0,B.jsx)(i.rU,{href:p,onClick:this.handleTwitterClick,rel:"nofollow",children:(0,B.jsx)(_.Z,{size:j})})}),(0,B.jsx)(F,{text:this.props.i18n._('X', 'Twitter App', 'Twitter App Label')})]})]}),(0,B.jsx)(i.xu,{height:16})]}),(0,B.jsx)(U,{boardId:r,expandContactsList:l,isFullHeight:s,legoBoardModalsEnabled:o})]})}}function q(e){let t=(0,r.k6)(),o=(0,p.ZP)(),a=(0,s.Z)(),{showToast:i}=(0,f.dI)(),l=(0,D.D3)();return(0,B.jsx)(W,{...e,fetchFreshInviteCode:l,history:t,i18n:o,logContextEvent:a,showToast:i})}let Y=({boardCollabPermissionsSetting:e,isOpen:t,onDismiss:o,objectId:a,objectType:r})=>(0,B.jsx)($,{isOpen:t,legoBoardModalsEnabled:!0,onDismiss:o,shouldRenderFullHeight:!0,children:(0,B.jsx)(q,{boardCollabPermissionsSetting:e,legoBoardModalsEnabled:!0,objectId:a,objectType:r,onDismiss:o,shouldRenderFullHeight:!0})})},262344:function(e,t,o){o.d(t,{Z:()=>p});var a=o(20256),r=o(982166),i=o(525839),l=o(302148),s=o(785893);let n="archive",d="delete",c="deleteSection",_="leave",u="remove",h="unarchive",p=({type:e,fullName:t,isOpen:o,onConfirm:p,onDismiss:b})=>{var m,f,x,g,v,y,j,w;let P=(0,i.ZP)();return(0,s.jsx)(r.ZP,{accessibilityModalLabel:"",isOpen:o,mobileHideCloseIcon:!0,onDismiss:b,type:"edit_wraning_modal",children:(0,s.jsx)(a.xu,{padding:3,children:(0,s.jsxs)(a.xu,{marginBottom:2,marginTop:3,children:[(0,s.jsx)(a.xu,{children:(0,s.jsx)(a.X6,{align:"center",overflow:"normal",size:"600",children:(m=e,f=t,x=P,m===d?x._('Delete Board?', 'confirmation of the act of deleting a board', 'confirmation of the act of deleting a board'):m===_?x._('Leave this Board?', 'confirmation of the act of leaving a board', 'confirmation of the act of leaving a board'):m===u?(0,l.nk)(x._('Are you sure you want to remove {{ fullName }}?', ' - ', ' -- '),{fullName:f}):m===c?x._('Delete section?', ' - ', ' -- '):m===n?x._('Archive this board?', 'modal heading for board archive confirmation', 'modal heading for board archive confirmation'):m===h?x._('Unarchive this board?', 'modal heading for board unarchive confirmation', 'modal heading for board unarchive confirmation'):null)})}),(0,s.jsx)(a.xu,{marginBottom:8,marginTop:2,children:(0,s.jsx)(a.xv,{align:"center",children:(g=e,v=t,y=P,g===_?y._(`If you leave this board, it won't show up on your
    profile and you won't be able to save Pins to it anymore.`, 'the effect of leaving a board', 'the effect of leaving a board'):g===d?y._('You won\'t be able to get it back.', 'the effect of deleting a board', 'the effect of deleting a board'):g===c?y._('Once you delete a section and all its Pins, you can\'t undo it!', ' - ', ' -- '):g===n?(0,l.nk)(y._('If you archive {{ boardName }}, we\'ll hide it from your profile and you won\'t be able to save new Pins to it. If you change your mind, you can unarchive it.', ' - ', ' -- '),{boardName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:v},v)}):g===h?(0,l.nk)(y._('If you unarchive {{ boardName }}, it will show up on your profile and you\'ll be able to save new Pins to it.', ' - ', ' -- '),{boardName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:v},v)}):null)})}),(0,s.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",justifyContent:"center",children:[(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},"data-test-id":"confirmButtonContainer",padding:1,width:"100%",children:(0,s.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:p,size:"lg",text:(j=e,w=P,j===d?w._('Delete', ' - ', ' -- '):j===_?w._('Leave board', ' - ', ' -- '):j===u?w._('Remove', ' - ', ' -- '):j===c?w._('Delete section', ' - ', ' -- '):j===n?w._('Archive', 'button label on confirming board archive', 'button label on confirming board archive'):j===h?w._('Unarchive', 'button label on confirming board unarchive', 'button label on confirming board unarchive'):"")})}),(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"no-wrap"}},padding:1,width:"100%",children:(0,s.jsx)(a.zx,{fullWidth:!0,onClick:b,size:"lg",text:P._('Cancel', ' - ', ' -- ')})})]})]})})})}},689676:function(e,t,o){o.d(t,{Z:()=>p});var a=o(667294),r=o(581722),i=o(20256),l=o(744862),s=o(525839),n=o(302148),d=o(38817),c=o(683532),_=o(676244),u=o(149728),h=o(785893);function p({isSelf:e,showVerified:t=!1,user:o={},onFollowChange:p}){let[b,m]=(0,a.useState)(o.explicitly_followed_by_me||!1),[f,x]=(0,a.useState)(!1),g=(0,r.I0)(),v=(0,s.ZP)(),y=()=>{x(!1),g((0,_.fv)(o.id)),m(!1),p&&p(o,!1)},{verified_identity:j,full_name:w,is_verified_merchant:P,is_private_profile:A,explicitly_followed_by_me:z,username:C}=o,S=j?.verified,B=o.image_medium_url||o.image_small_url;return(0,h.jsxs)(i.xu,{alignItems:"center","aria-label":v._('User card', 'FollowersModal.User.card', 'Card for display user follower'),direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingY:1,role:"group",children:[f&&(0,h.jsx)(c.Z,{firstName:w??"",handleUnfollowUser:y,onDismiss:()=>{x(!1)}}),(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{wordBreak:"break-word"}},flex:"grow",paddingX:1,children:(0,h.jsx)(i.Tg,{href:`/${C}/`,children:(0,h.jsxs)(i.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,h.jsx)(i.xu,{width:50,children:(0,h.jsx)(l.qE,{accessibilityLabel:v._('User profile picture', 'FollowersModal.User.profilePicture', 'accessibility label for avatar main profile picture'),color:o?.avatar_color_index,name:(0,n.nk)(v._('Avatar for {{ fullName }}', 'avatar.name', 'avatar for user'),{fullName:w}).join(" "),size:"fit",src:B??""})}),(0,h.jsx)(i.X6,{accessibilityLevel:3,size:"300",children:(0,h.jsx)(i.xv,{inline:!0,lineClamp:3,size:"300",weight:"bold",children:t&&(P||S)?(0,h.jsx)(u.Z,{badgeSize:"sm",badgeSpacing:2,fullName:w??"",isVerifiedIdentity:S,isVerifiedMerchant:P}):w})}),A&&(0,h.jsx)(i.xu,{children:(0,h.jsx)(i.JO,{accessibilityLabel:v._('private icon', 'privateProfileHeaderAuthDesktop.privateIcon', 'private icon'),icon:"lock",inline:!0})})]})})}),(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},paddingX:1,children:(!A||z)&&(0,h.jsx)(d.Z,{followEventType:45,id:o.id,isFollowed:b,isUserMe:!!e,onFollow:e=>{g((0,_.ZN)(e)),m(!0),p&&p(o,!0)},onUnfollow:()=>{A?x(!0):y()},pinKey:null,textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},21946:function(e,t,o){o.d(t,{cS:()=>l});var a=o(274320),r=o(15667),i=o(647709);function l(e=!1){let{isAuthenticated:t}=(0,r.B)(),o=(0,i.HG)(),{checkExperiment:s}=(0,a.ru)(),n=!!t&&s(o?"dweb_curated_articles_to_board_shift":"mweb_curated_articles_to_board_shift",{dangerouslySkipActivation:e}).anyEnabled,d=!t&&s(o?"dweb_curated_articles_to_board_shift_unauth":"mweb_curated_articles_to_board_shift_unauth",{dangerouslySkipActivation:e}).anyEnabled;return n||d}},492316:function(e,t,o){function a(e){if(!e)return e;let t=e.replace(/%26/gi,"&");return(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/%3F/gi,"?")).replace(/%23/gi,"#")).replace(/%2B/gi,"+")).replace(/%3B/gi,";")).replace(/%2C/gi,",")).replace(/%2F/gi,"/")).replace(/%3A/gi,":")).replace(/%40/gi,"@")).replace(/%3D/gi,"=")).replace(/%24/gi,"$")}function r(e){return Object.keys(e).reduce((t,o)=>({...t,[o]:a(e[o]??"")}),{})}o.d(t,{Z:()=>r,t:()=>a})},683532:function(e,t,o){o.d(t,{Z:()=>d});var a=o(20256),r=o(982166),i=o(525839),l=o(302148),s=o(647709),n=o(785893);function d({onDismiss:e,firstName:t,handleUnfollowUser:o}){let d=(0,i.ZP)(),c=(0,s.HG)(),_=(0,l.nk)(d._('Unfollow {{ firstName }}?', 'unfollowUser.modal.header', 'header text asking if we should unfollow the user. firstName: name of the user to unfollow'),{firstName:t}).join(""),u=d._('You will no longer be able to view their profile, Pins, boards, followers or following lists. They will not be notified.', 'unFollowUser.modal.description', 'explanation of what removing another user means'),h=d._('Cancel', 'unfollowUser.modal.cancel', 'Cancel unfollowing a user'),p=d._('Unfollow', 'unfollowUser.modal.button.unfollow', 'Button to confirm removing a user');return c?(0,n.jsx)(r.ZP,{accessibilityModalLabel:_,footer:(0,n.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,n.jsx)(a.xu,{padding:1,children:(0,n.jsx)(a.zx,{fullWidth:!0,onClick:e,size:"lg",text:h})}),(0,n.jsx)(a.xu,{padding:1,children:(0,n.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:o,size:"lg",text:p})})]}),heading:_,onDismiss:e,role:"alertdialog",size:"md",children:(0,n.jsx)(a.xu,{"data-test-id":"unfollow-text",marginEnd:6,marginStart:6,children:(0,n.jsx)(a.xv,{children:u})})}):(0,n.jsxs)(r.ZP,{accessibilityModalLabel:_,mobileHideCloseIcon:!0,onDismiss:e,type:"unFollow_button",children:[(0,n.jsx)(a.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,n.jsx)(a.X6,{accessibilityLevel:1,size:"600",children:_})}),(0,n.jsx)(a.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:(0,n.jsx)(a.xv,{children:u})}),(0,n.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,n.jsx)(a.xu,{padding:1,children:(0,n.jsx)(a.zx,{fullWidth:!0,onClick:e,size:"md",text:h})}),(0,n.jsx)(a.xu,{padding:1,children:(0,n.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:o,size:"md",text:p})})]})]})}},843439:function(e,t,o){o.d(t,{x:()=>l,z:()=>s});var a=o(575108),r=o(189976);function i(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function l(e,t){return o=>(o(i(e)),a.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}let s=(e,t)=>o=>a.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(a=>(o((0,r.Qv)("archived-boards",[{id:e,type:"board"}])),o(i(e,t)),a))},947066:function(e,t,o){o.d(t,{Y:()=>l,f:()=>s});var a=o(575108),r=o(189976);function i(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function l(e,t){return o=>(o(i(e)),a.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}let s=(e,t)=>o=>a.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(a=>(o((0,r.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),o(i(e)),a))},676244:function(e,t,o){o.d(t,{KF:()=>c,ZN:()=>s,fv:()=>d,kE:()=>u,yA:()=>n});var a=o(575108),r=o(686319),i=o(401450);function l(e,t,o,r){return a.Z.create("UserFollowResource",{user_id:e,invite_code:r||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:o})}function s(e,t=null,o,a){return r=>{l(e,t,o,a).callCreate().catch(()=>r((0,i.P_)(e,!1))),r((0,i.P_)(e,!0))}}function n(e,t=null,o,a){return async r=>{r((0,i.P_)(e,!0)),await l(e,t,o,a).callCreate().catch(t=>{throw r((0,i.P_)(e,!1)),t})}}function d(e,t=null,o){return a=>{l(e,t,o).callDelete().catch(()=>a((0,i.P_)(e,!0))),a((0,i.P_)(e,!1))}}function c(e,t=null,o){return async a=>{a((0,i.P_)(e,!1)),await l(e,t,o).callDelete().catch(t=>{throw a((0,i.P_)(e,!0)),t})}}let _=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),u=e=>t=>{e.length>0&&((0,r.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(_(e,!1))),t(_(e,!0)))}},63064:function(e,t,o){o.d(t,{Z:()=>r});var a=o(991384);let r=function(e,t){return(o,r)=>{let i=t(o,r);if(r.payload&&!Array.isArray(r.payload)){let{normalizedResponse:t}=r.payload;if(t&&t.entities&&t.entities[e]){var l;return Object.keys(l=t.entities[e]).reduce((e,t)=>({...e,[t]:(0,a.Z)(e[t],l[t])}),i)}}return i}}},969009:function(e,t,o){o.d(t,{U:()=>r,Z:()=>l});var a=o(63064);let r=e=>`${e.board}:${e.invited_user??""}`,i=(e,t)=>({...e,[r(t)]:{...e[r(t)],...t}}),l=(0,a.Z)("collaboratorinvite",(e,t)=>{switch(e=e||{},t.type){case"BOARD_COLLABORATOR_DELETE":return i(e,{board:t.payload.boardId,invited_user:t.payload.userId,status:"not_invited"});case"BOARD_COLLABORATOR_ADD":let{boardId:o,viewingUser:a,status:l,collaboratingUsers:s}=t.payload;return s.map(e=>e?.id).filter(Boolean).reduce((e,t)=>{let s={access:["delete"],board:o,invited_user:t,invited_by_user:a,status:l,type:"collaboratorinvite"},n=r(s);return e[n]&&"not_invited"!==e[n].status?e:i(e,s)},{...e});case"BOARD_INVITE_ACCEPTED_BY_VIEWER":return i(e,{board:t.payload.boardId,invited_user:t.payload.collaboratingUser?.id,status:"accepted"});case"BOARD_INVITE_APPROVED_BY_VIEWER":let n=t.payload.isRequestToJoin?"accepted":"new";return i(e,{board:t.payload.boardId,invited_user:t.payload.collaboratingUser?.id??"",status:n});case"BOARD_INVITE_DENIED_BY_VIEWER":let d=r({board:t.payload.boardId,invited_user:t.payload.userId}),{[d]:c,..._}=e;return _;default:return e}})},702226:function(e,t,o){o.d(t,{Z:()=>a});let a=(0,o(442279).createSelector)(e=>e.boards,e=>Object.keys(e).reduce((t,o)=>{let a=e[o];t[a.url??""]=a;let r=a.url?.toLocaleLowerCase();r&&a.url!==r&&(t[r]=a);let{oldSlugUrl:i}=a;return i&&(t[i]=a),t},{}))},161774:function(e,t,o){o.d(t,{Z:()=>n});var a=o(20256),r=o(525839),i=o(302148),l=o(15667),s=o(785893);function n(e){let{addButtonRef:t,collaboratorCount:o,nonDisplayedCollaboratorCount:n,displayedCollaborators:d,onClick:c,showAddButton:_,avatarSize:u="md",ref:h}=e,p=(0,r.ZP)(),{isRTL:b}=(0,l.B)(),m=d.map(e=>e.name),f="";switch(n?"default":m.length){case 3:f=(0,i.Wc)(p._('{{ first }}, {{ second }}, and {{ last }}', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames'),{first:`${m[0]}`,second:`${m[1]}`,last:`${m[2]}`});break;case 2:f=(0,i.Wc)(p._('{{ first }} and {{ second }}', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.'),{first:`${m[0]}`,second:`${m[1]}`});break;default:f=m.join(", ")}let x=n?(0,i.Wc)(p.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', n, 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.aboveTwoCollaborators', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:f,leftCount:`${n}`}):(0,i.Wc)(p._('Collaborators: {{ userNames }}.', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.notAboveTwoCollaborators', 'Accessibility label that lists the names of collaborators'),{userNames:f}),g=d.length>1?[...d,...n?Array(n).fill({name:""}):[]]:d,v=(d.length>1||0===o)&&_,y=p._('Invite collaborators.', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.inviteCollaborators', 'It informs the users that they can invite other collaborators.');return(0,s.jsxs)(a.xu,{"data-test-id":"user-rep-avatar",position:"relative",rounding:"pill",children:[v?(0,s.jsx)(a.xu,{ref:t,height:48,left:b,position:"absolute",right:!b,rounding:"circle",top:!0,width:48}):null,(0,s.jsx)(a.xu,{height:"fit"===u?16:void 0,width:"fit"===u?16:void 0,children:(0,s.jsx)(a.HE,{ref:h,accessibilityLabel:v?`${x} ${y}`:`${x}`,addCollaborators:v,collaborators:g,onClick:c,role:"button",size:u})})]})}},854167:function(e,t,o){o.d(t,{Z:()=>c});var a=o(667294),r=o(20256),i=o(679422),l=o(525839),s=o(896273),n=o(785893);class d extends a.Component{constructor(...e){var t,o,a;super(...e),o={flyoutOpen:!1},(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?a:a+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}render(){let{board:e,bgColor:t="white",children:o,iconColor:i="gray",onCreatePincode:l}=this.props,{flyoutOpen:d}=this.state,c={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url},_=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},u=o&&o({active:d,onClick:()=>_()})||(0,n.jsx)(r.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:i,onClick:({event:e})=>_(e),selected:d,size:"lg"});return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(r.xu,{ref:e=>{this.anchor=e},children:u}),this.state.flyoutOpen&&(0,n.jsx)(r.mh,{children:(0,n.jsx)(r.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>_(),positionRelativeToAnchor:!1,size:"flexible",children:(0,n.jsx)(s.Z,{component:13216,onCreatePincodeClick:l?()=>{_(),l()}:void 0,onHide:()=>_(),sendType:"board",sharedObject:c,viewType:5})})})]})}}let c=e=>{let t=(0,l.ZP)(),o=(0,i.Z)();return(0,n.jsx)(d,{...e,i18n:t,requireAuth:o,sendBoardButtonRef:e.sendBoardButtonRef})}},558926:function(e,t,o){o.d(t,{Z:()=>z});var a=o(667294),r=o(20256),i=o(355940),l=o(900675),s=o(444185),n=o(947810),d=o(984126),c=o(616550),_=o(980787),u=o(839626),h=o(821342),p=o(15667),b=o(378888),m=o(341742),f=o(199593),x=o(966269),g=o(975740),v=o(244526),y=o(785893);let j=88,w=30,P=({boardTool:e,boardId:t,boardSectionId:o,iconSize:i=w,index:l,toolSize:s=j})=>{let[n,d]=(0,a.useState)(!1),P=(0,v.$)(),{icon:A,link:z,text:C,tool:S}=e,{section_slug:B}=(0,c.UO)(),I=z.split("/").slice(0,3),k=z.split("/").slice(4),Z=z.split("/")[3]!==B&&o&&B?[...I,B,...k].join("/"):z,{isRTL:T}=(0,p.B)(),{logContextEvent:O}=(0,_.u)(),{owner:R,pin_count:E,section_count:M}=(0,g.gC)()(t)||{},H=(0,h.Z)(),U=H.isAuth?H.id:"",L=R?.id===U?3069:3070,D=0===S,N=e=>{1===S&&O({event_type:e,view_type:o?164:5,view_parameter:L,element:10600,aux_data:{board_id:t,board_pin_count:E,board_section_count:M,board_section_id:o,grid_index:l}}),D&&O({event_type:e,view_type:o?164:5,view_parameter:L,component:14926,element:11990,aux_data:{board_id:t,board_session_id:P}})};(0,m.Z)(()=>{N(120),D&&N(13)});let F=(0,a.useRef)(null),{setGroupBoardMessageButton:G}=(0,x.Z)(),{conversations:{showConversationsDropdown:$},conversationOpen:W,dropdownOpen:q,dropdownClose:Y}=(0,f.Z)(),X=(0,c.TH)(),{conversation_id:V,tab:K}=(0,b.mB)(X.search),J=4===S&&!!V&&"inbox"===K;J&&G(F.current);let Q=(e=>{switch(e){case 0:return 3003;case 1:return 3004;case 2:return 3005;default:return}})(S);return(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)(r.Tg,{ref:F,accessibilityLabel:C,href:J?"":Z,onBlur:()=>d(!1),onFocus:()=>d(!0),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onTap:()=>{J&&(N(102),$?Y():(q(),W(V))),D&&N(101)},rounding:6,children:(0,y.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,y.jsx)(r.xu,{alignItems:"center",alignSelf:"center",color:n?"lightWash":"secondary",display:"flex",height:s,justifyContent:"center",rounding:6,width:s,children:(0,y.jsx)(r.JO,{accessibilityLabel:C,color:"default",icon:"text-align-left"===A&&T?"text-align-right":A,size:i})}),(0,y.jsx)(r.xu,{paddingY:1,width:s,children:(0,y.jsx)(r.xv,{align:"center",lineClamp:2,size:"100",weight:"bold",children:C})})]})}),Q&&(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)(u.cs,{anchors:{[Q]:F.current},placementId:18,positionRelativeToAnchor:!1}),(0,y.jsx)(u.N,{anchors:{[Q]:F.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})]})};function A(e){let{boardId:t,sectionId:o,iconSize:a,isBoardEmpty:i,toolSize:s,boardOrSectionToolsRef:d}=e,c=(0,n.Z)(),{data:_}=(0,l.Z)(d);if(!_||!_.length)return null;let u=_.filter(({tool:e})=>!c||2===e).filter(({tool:e})=>!i||2!==e);return u.length?(0,y.jsx)(r.xu,{"data-test-id":"board-tools",children:(0,y.jsx)(r.kC,{alignItems:"start",justifyContent:"center",width:"100%",children:u.map((e,i)=>(0,y.jsx)(r.xu,{"data-test-id":e.text,padding:1,children:(0,y.jsx)(P,{boardId:t,boardSectionId:o,boardTool:e,iconSize:a,index:i,toolSize:s})},e.id))})}):null}function z(e){let{sectionId:t,boardId:o}=e,r=(0,n.Z)(),l=!!t,{ref:c}=(0,s.Z)({name:l?"SectionToolsFeedResource":"BoardToolsFeedResource",options:l?{sectionId:t,orbacSubjectId:r}:{boardId:o,orbacSubjectId:r}});return(0,y.jsx)(i.Z,{name:"BoardToolsContainer_ResourceError",children:(0,y.jsx)(a.Suspense,{fallback:(0,y.jsx)(d.Z,{}),children:(0,y.jsx)(A,{...e,boardOrSectionToolsRef:c})})})}P.displayName="BoardTool"},147403:function(e,t,o){o.d(t,{Z:()=>a});let a=(0,o(667294).createContext)({showAbout:!1,setShowAbout:()=>{}})},889168:function(e,t,o){o.d(t,{Z:()=>n});var a=o(20256),r=o(744862),i=o(525839),l=o(647709),s=o(785893);function n(e){let t=(0,i.ZP)(),o=(0,l.HG)()?"300":"200",{user:n}=e,{full_name:d="",image_medium_url:c,username:_}=n||{};return(0,s.jsxs)(a.kC,{alignItems:"center",dataTestId:"sponsor-avatar-and-name",gap:2,children:[(0,s.jsx)(a.Tg,{href:`/${_}/`,rounding:"circle",children:(0,s.jsx)(r.qE,{name:d,size:"sm",src:c})}),(0,s.jsxs)(a.xu,{children:[(0,s.jsx)(a.xu,{marginBottom:1,children:(0,s.jsx)(a.xv,{size:o,children:t._('Featured sponsor', 'board.Headers.BoardHeader.BoardHeaderDetails.featuredSponsor', 'Text to tell the viewer for board with set sponsor user')})}),(0,s.jsx)(a.xv,{size:o,weight:"bold",children:(0,s.jsx)(a.rU,{display:"inlineBlock",href:`/${_}/`,underline:"none",children:d})})]})]})}},415245:function(e,t,o){o.d(t,{Z:()=>P});var a=o(667294),r=o(20256),i=o(670622),l=o(525839),s=o(906553),n=o(302148),d=o(15667),c=o(734263),_=o(785893);let u=()=>{let e=(0,l.ZP)();return(0,_.jsxs)(r.kC,{alignItems:"center",direction:"row",gap:1,children:[(0,_.jsx)(r.JO,{accessibilityLabel:e._('Pinterest logo', 'board.editorialBoardTag.pinterestLogo', 'Accessibility label for Pinterest icon on editorial boards'),color:"error",icon:"pinterest"}),(0,_.jsx)(r.xv,{color:"error",size:"200",children:e._('Featured creator', 'board.editorialBoardTag.featuredCreatorText', 'Featured creator tag for editorial boards')})]})};var h=o(147403),p=o(980787),b=o(982166),m=o(647709),f=o(291948);function x({showAbout:e,setShowAbout:t}){let o=(0,l.ZP)(),i=(0,m.HG)(),{logContextEvent:s}=(0,p.u)(),[n,d]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{e&&!n&&(d(!0),s({element:16099,event_type:102,view_type:48,view_parameter:4110})),!e&&n&&d(!1)},[n,s,e]),!e)return null;let c=o._('About boards made for you', 'boardHeader.automagicalBoardTag.aboutDrawer.modal.title', 'Made for you about modal title'),u=o._('Discover more of the styles you\'re into with boards made just for you. Check in regularly for curated fresh ideas inspired by what you already love on Pinterest.', 'boardHeader.automagicalBoardTag.aboutDrawer.modal.body', 'Made for you about modal body'),h=i?(0,_.jsxs)(r.kC,{justifyContent:"between",children:[(0,_.jsx)(r.xu,{marginTop:2,paddingX:2,children:(0,_.jsx)(r.X6,{accessibilityLevel:1,size:"600",children:c})}),(0,_.jsx)(r.hU,{accessibilityLabel:o._('Close', 'profileHeader.aboutDrawer.closeModalButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:()=>t(!1),size:"lg"})]}):(0,_.jsx)(r.xu,{marginTop:4,paddingX:4,children:(0,_.jsx)(r.X6,{accessibilityLevel:1,size:"400",children:c})}),x=i?null:(0,_.jsx)(r.xu,{paddingY:6,children:(0,_.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,_.jsx)(r.zx,{color:"gray",onClick:()=>t(!1),size:"lg",text:"Close"})})});return(0,_.jsx)(b.ZP,{accessibilityModalLabel:o._('About boards made for you', 'boardHeader.automagicalBoardTag.aboutDrawer.modal', 'Accessibility label for modal that shows boards made for you'),footer:x,heading:h,layerZIndex:new r.H3([f.Z]),onDismiss:()=>t(!1),size:"sm",children:(0,_.jsx)(r.xu,{marginBottom:8*!!i,paddingX:i?8:4,paddingY:4*!i,children:(0,_.jsx)(r.xv,{size:"300",children:u})})})}function g({size:e="200"}){let t=(0,l.ZP)(),{showAbout:o,setShowAbout:i}=(0,a.useContext)(h.Z);return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(r.iP,{accessibilityLabel:t._('Expand about About boards made for you', 'boardHeader.automagicalBoardTag.moreTextAccessibilityLabel', 'Accessibility label to expand about About boards made for you'),fullWidth:!1,onTap:()=>{i(!0)},children:(0,_.jsxs)(r.kC,{alignItems:"center",direction:"row",gap:1,children:[(0,_.jsx)(r.JO,{accessibilityLabel:t._('Pinterest logo', 'board.editorialBoardTag.pinterestLogo', 'Accessibility label for Pinterest icon on editorial boards'),color:"brandPrimary",icon:"pinterest"}),(0,_.jsx)(r.xv,{size:e,weight:"bold",children:t._('Made for you', 'boardHeader.automagicalBoardTag.label', 'Made for you tag for editorial boards')})]})}),(0,_.jsx)(x,{setShowAbout:i,showAbout:o})]})}function v({size:e="200"}){let t=(0, l.ZP)()._('Featured board', 'boardHeader.featuredBoardTag.label', 'Label for a secret board');return(0,_.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{display:"inline-flex"}},children:(0,_.jsxs)(r.kC,{alignItems:"center",gap:1,children:[(0,_.jsx)(r.JO,{accessibilityLabel:t,color:"default",icon:"tag"}),(0,_.jsx)(r.xv,{align:"center",color:"default",size:e,children:t})]})})}function y(e){let t=(0,l.ZP)(),{color:o,size:a}=e;return(0,_.jsx)(r.JO,{accessibilityLabel:t._('secret board', 'accessible label for secret board icon', 'accessible label for secret board icon'),color:o,icon:"lock",size:a})}let j=({children:e})=>{let t=e.filter(e=>!!e);return(0,_.jsx)(r.kC,{dataTestId:"board-count-info",children:t.map((e,o)=>(0,_.jsxs)(a.Fragment,{children:[e,o<t.length-1&&(0,_.jsx)(c.Z,{color:"subtle"})]},o))})},w=({size:e,children:t,dataTestId:o})=>(0,_.jsx)(r.xv,{color:"subtle",dataTestId:o,size:e,children:t});function P({fontSize:e,isArchived:t,isAutomagical:o=!1,isFeaturedBoard:a=!1,isSecret:c,lastModified:h,pinCount:p,sectionCount:b,showEditorialBoardTag:m,upcomingUpdateDateText:f}){let x=(0,l.ZP)(),P=(0,s.Z)(),{locale:A}=(0,d.B)(),z=(0,i.Z)();return(0,_.jsxs)(r.kC,{alignItems:"center",dataTestId:"board-summary-container",justifyContent:"start",children:[t&&(0,_.jsxs)(r.kC,{alignItems:"center",dataTestId:"archived-board-icon-label",gap:1,children:[(0,_.jsx)(r.JO,{accessibilityLabel:x._('Icon indicating a board that is archived', 'board.Headers.BoardHeader.BoardHeaderDetails.archived', 'Accessible label for archived board icon'),color:"subtle",icon:"file-box",size:16}),(0,_.jsxs)(r.xv,{color:"subtle",size:e,children:[x._('Archived', 'board.Headers.BoardHeader.BoardHeaderDetails.archived', 'Label indicating that the board is archived'),"  ·  "]})]}),c&&(0,_.jsxs)(r.kC,{alignItems:"center",dataTestId:"secret-board-icon-label",gap:1,children:[(0,_.jsx)(y,{color:"subtle",size:16}),(0,_.jsxs)(r.xv,{color:"subtle",size:e,children:[x._('Secret', 'board.Headers.BoardHeader.BoardHeaderDetails.secret', 'Label indicating that the board is secret'),"  ·  "]})]}),(0,_.jsxs)(j,{children:[a&&(0,_.jsx)(v,{}),m&&!a&&(0,_.jsx)(u,{}),o&&(0,_.jsx)(g,{}),(0,_.jsx)(w,{dataTestId:"pin-count",size:e,children:(0,n.nk)(x.ngettext('{{ count }} Pin', '{{ count }} Pins', p, 'board.Headers.BoardHeader.BoardSummary.count', 'Label for the number of pins belonging to a board. count: The number of pins'),{count:P(A,p,{})})}),b>0&&(0,_.jsx)(w,{size:e,children:b>0&&(0,n.nk)(x.ngettext('{{ sectionCount }} Section', '{{ sectionCount }} Sections', b, 'board.Headers.BoardHeader.BoardSummary.sectionCount', 'Label for the number of sections belonging to a board. sectionCount: The number of sections'),{sectionCount:P(A,b,{})})}),o&&f&&(0,_.jsx)(w,{dataTestId:"upcoming-update-date",size:e,children:f}),h&&(0,_.jsx)(w,{dataTestId:"last-updated-date",size:e,children:(0,n.nk)(x._('{{ lastModifiedDate }}', 'boardPage.header.attribution.lastModified', 'Label displaying how many days ago the board was last modified. lastModifiedDate: The date the board was last modified'),{lastModifiedDate:z(h,!0)})})]})]})}},441178:function(e,t,o){o.d(t,{Z:()=>l});var a=o(20256),r=o(525839),i=o(785893);function l({boardActions:e,imageUrl:t,imageWidth:o}){let l=(0,r.ZP)();return(0,i.jsx)(a.zd,{height:360,rounding:6,wash:!0,width:o||540,children:(0,i.jsx)(a.Ee,{alt:l._('Board Header Image', 'save.board.headers.boardHeader.boardHeaderImage', 'alt for the image that is displayed in a boards header on desktop'),fit:"cover",naturalHeight:360,naturalWidth:o||540,role:"presentation",src:t,children:(0,i.jsx)(a.kC,{justifyContent:"end",children:(0,i.jsx)(a.xu,{"data-test-id":"board-actions",paddingX:4,paddingY:4,children:e})})})})}},600693:function(e,t,o){o.d(t,{Z:()=>u});var a=o(667294),r=o(20256),i=o(980787),l=o(839626),s=o(525839),n=o(25837),d=o(277168),c=o(896273),_=o(785893);function u({board:e,onArchiveClick:t,onCreatePincode:o,onEditBoardClick:u,onEditSectionClick:h,onMergeClick:p,onShowAbout:b,onUnarchiveClick:m,showArchiveOnly:f=!1,showCreatePinCodeOption:x,surface:g,excludeShareOption:v,size:y="sm",bgColor:j="lightGray"}){let w=(0,s.ZP)(),P=(0,a.useRef)(null),{logContextEvent:A}=(0,i.u)(),[z,C]=(0,a.useState)(!1),[S,B]=(0,a.useState)("boardOptions"),I="automagical"===e.layout,k=()=>{C(!1),B("boardOptions")},Z={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url,ownerId:e.owner?.id},T=()=>{C(e=>!e),B("boardOptions")},O=!!e.archived_by_me_at,R=["section"===g?function({handleClose:e,onEditClick:t,setMenuType:o},a,r){return{items:[{dataTestId:"edit-section-button",text:a._('Edit Section', 'BoardHeader.getSectionOptionsCategory.EditOption', 'Clickable text to enter board editing mode'),onClick:()=>{t(),e()}},{text:a._('Share', 'BoardHeader.getSectionOptionsCategory.ShareOption', 'Clickable text to show share options'),onClick:()=>{(0,d.Z)(r),o("boardShare")}}],label:a._('Section options', 'BoardHeader.getSectionOptionsCategory.OptionsCategory', 'Category of section options in section flyout')}}({handleClose:k,onEditClick:h,setMenuType:B},w,A):function({handleClose:e,isArchived:t,isAutomagical:o,onArchiveClick:a,onCreatePincode:r,onEditClick:i,onMergeClick:l,onShowAbout:s,onUnarchiveClick:n,setMenuType:c,showCreatePinCodeOption:_,isAdOnlyPins:u,excludeShareOption:h},p,b,m){let f=[];return o?f.push({dataTestId:"aboutRecommendationsButton",text:p._('About boards made for you', 'BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption', 'Clickable text to open about boards made for you modal'),onClick:()=>{s?.(),e()}}):(m||f.push({dataTestId:"editBoardButton",text:p._('Edit board', 'BoardHeader.BoardOptionsFlyout.EditOption', 'Clickable text to enter board editing mode'),onClick:()=>{i(),e()}}),h||f.push({dataTestId:"shareBoardButton",text:p._('Share', 'BoardHeader.BoardOptionsFlyout.ShareOption', 'Clickable text to show share options'),onClick:()=>{(0,d.Z)(b),c("boardShare")}}),u||t||f.push({dataTestId:"mergeBoardButton",text:p._('Merge', 'BoardHeader.BoardOptionsFlyout.MergeOption', 'Clickable text to open merge board modal'),onClick:()=>{l(),e()}}),t?f.push({dataTestId:"unarchiveBoardButton",text:p._('Unarchive', 'BoardHeader.BoardOptionsFlyout.UnarchiveOption', 'Clickable text to open unarchive modal'),onClick:()=>{n(),e()}}):f.push({dataTestId:"archiveBoardButton",text:p._('Archive', 'BoardHeader.BoardOptionsFlyout.ArchiveOption', 'Clickable text to open archive modal'),onClick:()=>{a(),e()}}),_&&!m&&f.push({dataTestId:"createPinCodeBoardButton",text:p._('Create Pincode', 'BoardHeader.BoardOptionsFlyout.PincodeOption', 'Clickable text to trigger Pincode modal'),onClick:()=>{r(),e()}})),{items:f,label:p._('Board options', 'BoardHeader.BoardOptionsFlyout.OptionsCategory', 'Category of board options in board flyout')}}({handleClose:k,isArchived:O,isAutomagical:I,onArchiveClick:t,onCreatePincode:o,onEditClick:u,onMergeClick:p,onShowAbout:b,onUnarchiveClick:m,setMenuType:B,showCreatePinCodeOption:x,isAdOnlyPins:e.is_ads_only,excludeShareOption:v},w,A,f)];return(0,_.jsxs)(r.xu,{position:"relative",zIndex:new r.Ry(n.fe-1),children:[(0,_.jsx)(r.xu,{ref:P,"data-test-id":"more-board-options",children:(0,_.jsx)(r.hU,{accessibilityLabel:w._('More Board options', 'BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel', 'Accessibility label on icon button'),bgColor:j,icon:"ellipsis",iconColor:"darkGray",onClick:T,selected:z,size:y})}),(0,_.jsx)(l.cs,{anchors:{3001:P.current},onCompleteByAnchor:{3001:T},placementId:18}),(0,_.jsx)(l.N,{anchors:{3001:P.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0}),z&&("boardOptions"===S?(0,_.jsx)(r.Lt,{anchor:P.current,disableMobileUI:!0,id:"board_options",onDismiss:k,children:R.map(({items:e,label:t})=>(0,_.jsx)(r.Lt.Section,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:o,text:a})=>(0,_.jsx)(r.Lt.Item,{dataTestId:e,onSelect:o,option:{label:a,value:a},selected:t?{label:a,value:a}:null},a))},t))}):(0,_.jsx)(r.J2,{anchor:P.current,onDismiss:k,size:"flexible",children:(0,_.jsx)(c.Z,{component:13216,onCreatePincodeClick:o,onHide:k,sendType:"board",sharedObject:Z,viewType:5})}))]})}},774354:function(e,t,o){o.d(t,{Z:()=>q});var a=o(20256),r=o(476785),i=o(936021),l=o(319227),s=o(21946),n=o(667294),d=o(628710),c=o(525839),_=o(103345),u=o(616550),h=o(980787),p=o(355940),b=o(839626),m=o(821342),f=o(821806),x=o(448505),g=o(7872),v=o(161774),y=o(785893);let j=(0,n.lazy)(()=>Promise.resolve().then(o.bind(o,535877)));function w({avatarSize:e,board:t,displayedCollaborators:o,isBoardPreviewMode:r,nonDisplayedCollaboratorCount:i,handleShowCollabAndPermissionsModal:l,showPersonAddIconForInvite:s}){let d,[c,_]=(0,n.useState)(!1),w=(0,m.Z)(),P=(0,n.useRef)(null),A=(0,n.useRef)(void 0),z=(0,u.k6)(),C=(0,x.Z)(),{logContextEvent:S}=(0,h.u)(),B=(0,g.KY)(w,t,C),I=B&&!r,k=(I||t.collaborator_invites_enabled&&t.collaborated_by_me)&&!s,Z=(d=()=>z.push(o[0].href??"/"),o[0].is_ads_only_profile&&o[0].ads_only_profile_site&&(d=()=>{S({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorAvatarGroup"}}),window.open(o[0].ads_only_profile_site,"_blank")}),o.length>1&&(d=()=>_(!c)),I&&(B||t.collaborated_by_me)&&(d=l),d),T=[501003];I&&t.is_collaborative&&T.push(502335);let O=o.map(({name:e,src:t})=>e&&t?{name:e,src:t.endsWith("/default_75.png")?"":t}:{name:e,src:t});return(0,y.jsxs)(n.Fragment,{children:[(0,y.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(v.Z,{ref:P,addButtonRef:A,avatarSize:e,collaboratorCount:t.collaborator_count||0,displayedCollaborators:O,nonDisplayedCollaboratorCount:i,onClick:Z,showAddButton:k??!1}),(0,y.jsx)(b.cs,{anchors:{3002:A.current},placementId:18,positionRelativeToAnchor:!1}),(0,y.jsx)(b.Qp,{anchor:A.current,customWrapper:({children:e})=>(0,y.jsx)(a.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:new a.Ry(2),children:e}),experienceIds:T,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})]}),c&&(0,y.jsx)(p.Z,{name:"SafeSuspense_CollaboratorAvatarGroup_BoardCollabFlyout",children:(0,y.jsx)(f.Z,{children:(0,y.jsx)(j,{anchor:P.current,board:t,onDismiss:()=>{_(!1),P.current&&P.current.focus()}})})})]})}var P=o(558926),A=o(889168),z=o(415245),C=o(559136),S=o(302148),B=o(535877);function I({board:e,collaborators:t,overflowNumber:o}){let r=(0,c.ZP)(),i=(0,n.useRef)(null),{logContextEvent:l}=(0,h.u)(),[s,d]=(0,n.useState)(!1),_=t.map((e,t)=>{if(e.isDim)return null;let o=e.is_ads_only_profile&&e.ads_only_profile_site,r=(o?e.ads_only_profile_site:e.href)||"",i=e.href?e.href:e.name+t;return(0,y.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,y.jsx)(a.rU,{display:"inlineBlock",href:r,onClick:()=>{o&&l({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorNames"}})},rel:o?"nofollow":"none",target:o?"blank":null,underline:"none",children:e.name})},i)}).filter(Boolean);return o&&_.push((0,y.jsx)(a.xu,{ref:i,display:"inlineBlock",children:(0,y.jsx)(a.iP,{onTap:()=>d(!0),children:(0,y.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,S.nk)(r.ngettext('{{ overflowNumber }} other', '{{ overflowNumber }} others', o, 'legoBoardPageHeader.collaboratorNames.others', 'number of additional collaborators not listed, overflowNumber:number of collaborators'),{overflowNumber:o})})})},"overflowText")),(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(a.xv,{inline:!0,children:(0,C.Z)(_,r)}),s&&(0,y.jsx)(B.default,{anchor:i.current,board:e,onDismiss:()=>d(!1)})]})}var k=o(581722),Z=o(679422),T=o(87853),O=o(415602);function R(e){let t=(0,c.ZP)(),{onClick:o,requested:r,size:i,useAlternateText:l}=e;return(0,y.jsx)(a.zx,{fullWidth:!0,onClick:o,size:i||"md",text:(r?function(e,t){return t?e._('Cancel', 'BoardPage.BoardJoinButton.cancel', '[Button] Cancel request to join a group board as a collaborator'):e._('Cancel request', '[Button] Cancel request to join a group board as a collaborator', '[Button] Cancel request to join a group board as a collaborator')}:function(e,t){return t?e._('Join', 'BoardPage.BoardJoinButton.join', '[Button] Request to join a group board as a collaborator'):e._('Request to join', '[Button] Request to join a group board as a collaborator', '[Button] Request to join a group board as a collaborator')})(t,l)})}var E=o(475498);function M(e){let t=(0,c.ZP)(),{boardImage:o,boardName:r,boardUrl:i,onHide:l}=e,s=(0,y.jsx)(a.xv,{children:(0,S.nk)(t._('You\'ve cancelled the request to collaborate on {{ boardName }}', 'Board.JoinButton.CancelToast', 'Toast text stating that a user has cancelled a request to join a board'),{boardName:(0,y.jsx)(a.xv,{inline:!0,weight:"bold",children:r})})});return(0,y.jsx)(E.Z,{duration:3e3,href:i,imageUrl:o,onHide:l,text:s})}function H(e){let t=(0,c.ZP)(),{boardImage:o,boardName:r,boardUrl:i,onHide:l}=e,s=(0,y.jsx)(a.xv,{children:(0,S.nk)(t._('You\'ve requested to join {{ boardName }}', 'Board.JoinButton.RequestToast', 'Toast text stating that a user has requested to join a board'),{boardName:(0,y.jsx)(a.xv,{inline:!0,weight:"bold",children:r})})});return(0,y.jsx)(E.Z,{href:i,imageUrl:o,onHide:l,text:s})}function U(e){let{boardId:t,boardImage:o,boardName:r,boardUrl:i,isRequestedByMe:l,showPulsar:s,size:n,variant:d}=e,{logContextEvent:c}=(0,h.u)(),_=(0,k.I0)(),u=(0,m.Z)(),p=(0,T.dI)(),b=u.isAuth&&u.id||"",f=(0,Z.Z)(),x=(0,O.tV)(),g=({event:e})=>{e.preventDefault(),e.stopPropagation(),f?f():l?(_((0,O.GJ)(t,b)),p.showOneToast(({hideToast:e})=>(0,y.jsx)(M,{boardImage:o,boardName:r,boardUrl:i,onHide:e}))):(_(x(t)),p.showOneToast(({hideToast:e})=>(0,y.jsx)(H,{boardImage:o,boardName:r,boardUrl:i,onHide:e})));let{action:a,id:s,logContextEvent:n,url:d}={action:l?"request":"cancel",id:t,logContextEvent:c,url:i};n({event_type:101,component:1,element:"request"===a?7499:7547,object_id_str:s,view_type:4,aux_data:{current_page_url:d}})};return b?(0,y.jsxs)(a.xu,{display:"flex",position:"relative",children:[(0,y.jsx)(R,{onClick:g,requested:l,size:n,useAlternateText:"lego"===d}),s&&(0,y.jsx)(a.iP,{onTap:e=>{g(e)},children:(0,y.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,y.jsx)(a.o3,{paused:l})})})]}):null}function L({board:e,boardName:t,collaborators:o,isArchived:r,isBoardPreviewMode:i,isSecret:l,nonDisplayedCollaboratorCount:u,pinCount:h,sectionCount:p,description:b,showPulsar:m,showJoinButton:f,isOwnerOrCollaborator:x,handleShowCollabAndPermissionsModal:g}){let v=(0,c.ZP)(),j=(0,s.cS)(),{automagical_board_metadata:C,featured_board_metadata:S,featured_in:B,id:k,image_cover_url:Z,layout:T,owner:O={},should_show_board_collaborators:R,url:E,viewer_collaborator_join_requested:M}=e,{curator:H,is_sponsored_content:L}=S||{},{upcoming_update_date_text:D}=C||{},N=L&&j?H:null,F=x&&!i,G="automagical"===T,$=[];H&&!F&&j?$.push((0,d.Z)(H)):R&&o.length?$.push(...o):O&&$.push((0,d.Z)(O));let W=S?.board_tag,q="number"==typeof W&&W>=0&&j;return(0,y.jsxs)(a.kC,{alignItems:"start",dataTestId:"board-header-details",direction:"column",gap:6,justifyContent:"start",maxWidth:640,children:[(0,y.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:3,justifyContent:"start",children:[(()=>{let{board_subtitle:e}=S||{};return e&&j?(0,y.jsx)(a.xu,{marginBottom:-1,children:(0,y.jsx)(a.xv,{weight:"bold",children:e})}):null})(),(0,y.jsx)(a.X6,{id:"board-name",size:"700",children:t}),(0,y.jsx)(z.Z,{fontSize:"200",isArchived:r,isAutomagical:G,isFeaturedBoard:"featured_board"===T&&!!B?.includes("FEATURED_BOARDS"),isSecret:l,pinCount:h,sectionCount:p,showEditorialBoardTag:q,upcomingUpdateDateText:D??""}),!!b&&(0,y.jsx)(_.Z,{description:b})]}),!G&&(0,y.jsxs)(n.Fragment,{children:[F&&(0,y.jsx)(a.xu,{marginBottom:2,children:(0,y.jsx)(a.HE,{accessibilityLabel:$.length>1?v._('Board with collaborators. Keep inviting collaborators. Opens a modal.', 'BoardHeaderDetails.AvatarGroup.InviteMoreCollaborators.accessibilityLabel', 'The board has collaborators. User can add additional collaborators. Opens modal to invite collaborators.'):v._('Invite collaborators. Opens a modal.', 'BoardHeaderDetails.AvatarGroup.InviteCollaborators.accessibilityLabel', 'The board has no collaborators. User can add collaborators. Opens modal to invite collaborators.'),addCollaborators:!0,collaborators:$,onClick:g,role:"button",size:"sm"})}),F&&(0,y.jsx)(P.Z,{boardId:k,iconSize:24,isBoardEmpty:!h,toolSize:72}),!F&&N&&(0,y.jsx)(A.Z,{user:N}),!F&&!N&&(0,y.jsxs)(a.kC,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",gap:2,children:[(0,y.jsx)(w,{avatarSize:"sm",board:e,displayedCollaborators:$,handleShowCollabAndPermissionsModal:()=>{},isBoardPreviewMode:i,nonDisplayedCollaboratorCount:u}),(0,y.jsxs)(a.xv,{children:[v._('by ', 'board.Headers.BoardHeader.BoardHeaderDetails.by', 'Text to tell the viewer who the board is owned and collaborated by'),(0,y.jsx)(I,{board:e,collaborators:$,overflowNumber:u})]})]})]}),f&&(0,y.jsx)(U,{boardId:k,boardImage:Z??"",boardName:t,boardUrl:E,isRequestedByMe:!!M,showPulsar:m,size:"lg",variant:"lego"})]})}var D=o(441178),N=o(932849),F=o(854167),G=o(277168);function $({board:e,handleCreatePincode:t,iconColor:o,isShowShareIcon:r}){let{logContextEvent:i}=(0,h.u)(),l=(0,c.ZP)(),s=(0,Z.Z)(),d=(0,n.useRef)(null);return(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(F.Z,{ref:d,board:e,iconColor:o,onCreatePincode:t,onOpen:()=>{if(s)return void s();(0,G.Z)(i)},children:r?void 0:({onClick:e})=>(0,y.jsx)(a.xu,{"data-test-id":"board-share-button-auth",children:(0,y.jsx)(a.zx,{ref:d,color:"gray",fullWidth:!0,onClick:e,size:"lg",text:l._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board')})})}),(0,y.jsx)(b.N,{anchors:{3018:d.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}var W=o(679269);function q({board:e,boardName:t,collaborators:o,isArchived:n,isBoardPreviewMode:d,isSecret:c,nonDisplayedCollaboratorCount:_,overFlowActionsButton:u,pinCount:h,sectionCount:p,description:b,isOwnerOrCollaborator:m,handleShowCollabAndPermissionsModal:f,onCreatePincode:x,setBoardPreviewMode:g,showPulsar:v,showJoinButton:j}){let{featured_board_metadata:w,layout:P,header:A,owner:z}=e,{isSmallerImage:C,isSmallScreen:S}=(0,W.Z)(),B=(0,l.Z)(z?.id),I=(0,s.cS)(),k="automagical"===P,Z=A?.large_image_url||null,T=w?.has_expanded_sections&&B&&g&&I,O=()=>(0,y.jsxs)(a.kC,{dataTestId:"board-actions-container",gap:2,children:[T&&!k&&(0,y.jsx)(N.Z,{isBoardPreviewMode:d,setBoardPreviewMode:g}),!c&&!k&&(0,y.jsx)($,{board:e,handleCreatePincode:x,iconColor:"darkGray",isShowShareIcon:!0}),u]}),R=()=>(0,y.jsx)(L,{board:e,boardName:t,collaborators:o,description:b,handleShowCollabAndPermissionsModal:f,isArchived:n,isBoardPreviewMode:d,isOwnerOrCollaborator:m,isSecret:c,nonDisplayedCollaboratorCount:_,pinCount:h,sectionCount:p,showJoinButton:j,showPulsar:v}),E=()=>Z?(0,y.jsx)(D.Z,{boardActions:O(),imageUrl:Z,imageWidth:C?W.w:void 0}):O();return(0,y.jsx)(r.Z,{isGetServerRenderGridHeaderStyles:!0,maxColumns:i.Sk,children:(0,y.jsxs)(a.kC,{alignItems:S||!Z||m&&!d?"start":"center",dataTestId:"board-header-with-image",direction:S&&Z?"column":"row",gap:8*!!Z,justifyContent:"between",children:[(0,y.jsx)(a.xu,{children:S&&Z?E():R()}),(0,y.jsx)(a.xu,{maxWidth:S?550:void 0,children:S&&Z?R():E()})]})})}},932849:function(e,t,o){o.d(t,{Z:()=>l});var a=o(20256),r=o(525839),i=o(785893);function l({isBoardPreviewMode:e,setBoardPreviewMode:t}){let o=(0,r.ZP)();return(0,i.jsx)(a.hU,{accessibilityLabel:o._('Board preview', 'boardPreview.iconButton.accessibilityLabel', 'Accessibility label for the board preview button'),bgColor:"white",icon:e?"eye-hide":"eye",iconColor:"darkGray",onClick:()=>t(!e),size:"lg"})}},840321:function(e,t,o){o.d(t,{Z:()=>a});let a=({boardCollaboratorCount:e,collaborators:t,showOnlyOwner:o=!1,ownerName:a=""})=>{let r=e?e+1:t.length,i=r>3,l=t.find(e=>e.name===a);!l&&t.length>0&&(l=t[0]);let s=o?[l]:t.slice(0,i?2:3),n=i?r-s.length:0;return{displayedCollaborators:s,nonDisplayedCollaboratorCount:n}}},679269:function(e,t,o){o.d(t,{Z:()=>i,w:()=>r});var a=o(667294);let r=484;function i(){let[e,t]=(0,a.useState)(!1),[o,r]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=()=>{let{innerWidth:e}=window;t(e<780),r(e<1024)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{isSmallerImage:e,isSmallScreen:o}}},277168:function(e,t,o){o.d(t,{Z:()=>a});function a(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}},244526:function(e,t,o){o.d(t,{$:()=>h,h:()=>p});var a=o(667294),r=o(616550),i=o(172045),l=o(121836),s=o(729434),n=o(390843),d=o(238589),c=o(982234),_=o(785893);let{Provider:u,getMaybe:h}=(0,s.Z)("BoardSessionIdcontext");function p({children:e}){let{previous:t,current:o,forward:s}=(0,n.ou)(),h=(0,a.useRef)(!1),p=(0,r.TH)(),b=o?.match?.path||"",m=s.length>0&&s[s.length-1]?.match?.path||"",[,f,x]=p.state?.from?.pathname.split("/")||[],[,,g,v]=p.pathname.split("/"),y=m?.includes("/:username/:slug")||"/pin/:id"===m,j=!t.length,w=!(!v&&("/pin/:id"===b||b?.includes("/:username/:slug/_tools"))||j||y||x===g||!f)||!("_saved"!==g&&g),P=(0,a.useMemo)(()=>{let e,t="undefined"!=typeof window;if(t){let t=(0,d.Nl)().getItem(l.U5);e=t?.boardSessionId}if((0,c.Z)(l.U5)&&(w||!e)&&!h.current){h.current=!0;let e=(0,i.Z)();return t&&(0,d.Nl)().setItem(l.U5,{boardSessionId:e}),e}return e},[w]);return(0,a.useEffect)(()=>()=>{"undefined"!=typeof window&&w&&(0,d.Nl)().removeItem(l.U5)},[w]),(0,_.jsx)(u,{value:P,children:e})}},896273:function(e,t,o){o.d(t,{Z:()=>c});var a=o(667294),r=o(20256),i=o(355940),l=o(525839),s=o(821806),n=o(785893);let d=(0,a.lazy)(()=>Promise.all([o.e("54796"),o.e("37408")]).then(o.bind(o,773895)));function c(e){let t=(0,l.ZP)();return(0,n.jsx)(i.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,n.jsx)(s.Z,{fallback:(0,n.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,n.jsx)(r.xH,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,n.jsx)(d,{...e})})})}},522169:function(e,t,o){o.d(t,{D3:()=>p,Iz:()=>b,Rh:()=>_,pW:()=>d,sF:()=>u,tA:()=>c});var a,r=o(167912),i=o(575108),l=o(467221),s=o(721534);let n={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function d({country:e,isDesktop:t,shouldShowNativeShare:o}){let{FBMessenger:a,WhatsApp:r,Facebook:i,Twitter:l,Email:s,Line:d,Telegram:c,Viber:_,Sms:u,CopyLink:h,ShareVia:p}=n;function b(){switch(e){case"US":return t?[r,i,l,s]:[u,a,r,i,l];case"ID":return t?[r,d,s,i]:[r,c,u,d,s,i];case"JP":case"TH":case"TW":return t?[d,l,s,i]:[d,s,u,l,i];case"GR":return t?[r,i,l,s]:[_,a,r,u,i,l];case"IR":case"IQ":return t?[r,i,l,s]:[r,c,u,a,l];case"UA":case"RU":return t?[r,i,l,s]:[r,_,c,i,a,u,l];default:return t?[r,i,l,s]:[r,a,u,i,l]}}return t?[h,...b()]:[...b(),h,...o?[p]:[]]}function c({invitePath:e,inviteTitle:t,objectType:o,i18n:a,isDesktop:r}){let i=a._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===o&&(i=a._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));let s=`mailto:?subject=${encodeURIComponent(i)}&body=${encodeURIComponent(e)}`,n=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${l.GH}`,d=`${t}
${e}`,c=r?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,_=r?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,u=r?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,h=`viber://forward?text=${encodeURIComponent(d)}`;return{emailShareLink:s,messengerShareLink:n,twitterShareLink:c,whatsappShareLink:_,lineShareLink:u,telegramShareLink:`tg://msg?text=${encodeURIComponent(d)}`,viberShareLink:h,smsShareLink:`sms:?&body=${encodeURIComponent(d)}`}}function _(e,t,o,a){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},e=>{e&&!e.error_message&&a&&a()})}function u(e,t,o,a){if(!o||!t)return;let r=new t(o,{container:o.parentElement,text:()=>e});r.on("success",e=>{a&&a(e)}),r.on("error",()=>{throw Error("<ShareMenu /> error: copy command failed")})}let h=void 0!==a?a:a=o(167666);function p(){let e=(()=>{let e=(0,r.useRelayEnvironment)();return async(t,o,a,i)=>{let l={invite_category:t,invite_object:o,invite_channel:a};return await new Promise((t,o)=>(0,r.fetchQuery)(e,h,{inviteType:JSON.stringify(l),objectId:i}).subscribe({next:e=>{e.v3InviteUserExternalQuery&&"data"in e.v3InviteUserExternalQuery&&e.v3InviteUserExternalQuery?.data&&t({inviteCode:e.v3InviteUserExternalQuery?.data?.inviteCode??"",invitePath:e.v3InviteUserExternalQuery?.data?.inviteUrl??"",title:e.v3InviteUserExternalQuery?.data?.title??"",message:e.v3InviteUserExternalQuery?.data?.message??""})},error:e=>o(e)}))}})();return async(t,o,a)=>await e(3,a,t,o)}async function b({inviteChannel:e,inviteCode:t,objectId:o,objectType:a,component:r,clientTrackingParams:l,logContextEvent:n,view_parameter:d,view_type:c,socialShareComponent:_}){let u;n({aux_data:{invite_object:a},object_id_str:o,component:r,clientTrackingParams:l,element:s.cc[e],event_type:102,view_type:c,view_parameter:d}),u=2===a?s.LO:3===a?s.Pu:s.dB,n({event_type:10399,component:14122===r?14312:14123===r?14310:_||r,object_id_str:o,clientTrackingParams:l,view_type:c,view_parameter:d,aux_data:{invite_object:a},element:u[e]}),i.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:a,invite_channel:e},invite_code:t,object_id:o,client_tracking_params:l}).callCreate()}},671347:function(e,t,o){o.d(t,{Z:()=>s});var a=o(667294),r=o(20256),i=o(785893);function l(e,t,o){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class s extends a.Component{constructor(...e){super(...e),l(this,"setSearchRef",e=>{e&&(this.searchRef=e)}),l(this,"searchRef",null)}componentDidMount(){this.props.autoFocus&&this.searchRef?.focus()}render(){let{accessibilityLabel:e,id:t,onBlur:o,onChange:a,onFocus:l,placeholder:s,value:n}=this.props;return(0,i.jsx)(r.Um,{ref:this.setSearchRef,accessibilityLabel:e,id:t,onBlur:o,onChange:a,onFocus:l,placeholder:s,size:"lg",value:n})}}},872353:function(e,t,o){o.d(t,{j:()=>r});let a=RegExp("^[^A-Za-zÀ-ÖØ-öA-Za-zÀ-ÖØ-ö︀-﹯﻽-￿]*[֑-߿יִ-﷽ﹰ-ﻼ]");function r(e){return a.test(e||"")?"rtl":"ltr"}},434671:function(e,t,o){o.d(t,{Z:()=>d});var a=o(667294),r=o(616550),i=o(506662),l=o(579275),s=o(886981),n=o(936371);let d=e=>{let t=(0,n.uH)(),o=(0,r.TH)(),[d]=(0,a.useState)(o),c=o.pathname===d.pathname&&o.search===d.search&&((0,i.ey)(o)&&((0,i.fY)(o)&&"pin"||(0,i.am)(o)&&"board"||(0,l.Z)(o)&&"profile")||null)||null,[_,u]=(0,a.useState)(null),{isLoaded:h,data:p}=(0,s.Z)(!e&&t&&c?{name:"InviteCodeMetadataResource",options:{invite_code:t}}:null);return(0,a.useEffect)(()=>{h&&p&&u(p??null)},[h,p]),t&&c?{invite:_,pageType:c}:null}},666767:function(e,t,o){o.d(t,{M:()=>i});let{Provider:a,getMaybe:r}=(0,o(729434).Z)("LazyComponent");function i(){let e=r();return e?t=>e.addToBeLoaded(t):()=>{}}},78762:function(e,t,o){o.d(t,{Z:()=>n});var a=o(667294),r=o(782259),i=o(603316),l=o(666767),s=o(785893);function n(e,t,n,d){let c=t?.ssr??!0?a.Suspense:r.Z,_=new Map,u=new Map;function h(e){return n?n(e):d?t?.dynamicRequestKey&&e?d.replace("[request]",e[t.dynamicRequestKey]):d:"static"}function p(r){(0,l.M)(),t?.dynamicRequestKey;let _=h(r);if(!u.has(_)){let t=n?.(r);u.set(_,function({chunkName:e,dynamicImport:t,moduleId:r,props:l}){let s=(0,a.lazy)(()=>t(l)),n=function(e){if(e&&o.m[e])return o(e).default}(r);return(0,i.nP)("webapp.lazyComponent.initComponentToRender",{tags:{chunkName:e??"unknown",hasModuleInCache:!!n,moduleId:r??"unknown"}}),n||s}({chunkName:d,dynamicImport:e,moduleId:t,props:r}))}let p=u.get(_);return(0,s.jsx)(c,{fallback:r.fallback||t?.fallback,children:(0,s.jsx)(p,{...r,ref:r.ref})})}return p.preload=t=>{let o=h(t),a=u.get(o);_.get(o)||a||_.set(o,(async()=>{if(!a){let a=await e(t);u.set(o,a.default),_.delete(o)}})())},p}},64834:function(e,t,o){o.d(t,{Z:()=>r,u:()=>a});let a="HIDDEN_ON_SERVER_ERROR",r=e=>e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(a)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/54062-d970d676836d8d4f.mjs.map