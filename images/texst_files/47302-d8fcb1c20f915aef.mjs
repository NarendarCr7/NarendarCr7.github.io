(self.modernJsonp=self.modernJsonp||[]).push([["47302"],{836606:function(e,t,a){var n;a.r(t),a.d(t,{default:()=>l});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContextMenuClickthroughLogging_pin",selections:[{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="2e5b5b40b1637d8a6791055ce968f21a";let l=i},719738:function(e,t,a){var n;a.r(t),a.d(t,{default:()=>l});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};i.hash="3d7a6d04f923d00acfb2887f852aea16";let l=i},414772:function(e,t,a){a.d(t,{Bk:()=>o,Oo:()=>c,tS:()=>p,z8:()=>d});var n=a(667294),i=a(111330),l=a(753143),r=a(982234),s=a(785893);let c="rightClickImage",o=e=>{let t=e===c;return{dismissCountKey:t?"postRightClickUpsellDismissCount":"postDownloadUpsellDismissCount",lastDismissedKey:t?"postRightClickUpsellLastDismissed":"postDownloadUpsellLastDismissed"}},u=(0,n.createContext)(null);function d({pin:e,children:t}){let[a,d]=(0,n.useState)(!1),[p,m]=(0,n.useState)(null),[g,h]=(0,n.useState)(!1),[y,_]=(0,n.useState)(!1),k=!!e.savedInfo,w=(0,n.useCallback)(()=>{h(!0),d(!1)},[]),f=(0,n.useCallback)(()=>{_(!0),d(!1)},[]),v=(0,n.useCallback)(()=>{if(d(!1),(0,r.Z)(i.mD)&&(0,r.Z)(i.cw)){let e=(0,l.M0)(),t=e.getItem(i.cw),a=e.getItem(i.mD),{dismissCountKey:n,lastDismissedKey:r}=o(p),s=(t||{})[n]||0;e.setItem(i.cw,{...t,[n]:s+1}),e.setItem(i.mD,{...a,[r]:Date.now()})}p===c&&m(null)},[p]),b=(0,n.useMemo)(()=>({isPinSaved:k,showPostDownloadUpsell:a,setShowPostDownloadUpsell:d,upsellVariant:p,setUpsellVariant:m,saveToBoardFromPostDownloadUpsell:g,setSaveToBoardFromPostDownloadUpsell:h,shareFromPostDownloadUpsell:y,setShareFromPostDownloadUpsell:_,handlePostDownloadUpsellSave:w,handlePostDownloadUpsellShare:f,handlePostDownloadUpsellDismiss:v}),[k,a,d,p,m,g,h,y,_,w,f,v]);return(0,s.jsx)(u.Provider,{value:b,children:t})}function p(){return(0,n.useContext)(u)||{}}},741137:function(e,t,a){a.d(t,{Z:()=>u});var n=a(667294),i=a(414772),l=a(111330),r=a(821342),s=a(274320),c=a(753143),o=a(982234);function u(){let{showPostDownloadUpsell:e=!1,setShowPostDownloadUpsell:t=()=>{},setUpsellVariant:a=()=>{},isPinSaved:u=!0}=(0,i.tS)(),d=(0,c.M0)(),{isAuth:p}=(0,r.Z)(),{checkExperiment:m}=(0,s.ru)(),g=(0,n.useCallback)((e,t)=>{let a={..."number"==typeof e?{postDownloadUpsellDismissCount:e}:e||{},[t]:0};d.setItem(l.cw,a)},[d]),h=(0,n.useCallback)(e=>{if(!p||u||!(0,o.Z)(l.mD)||!(0,o.Z)(l.cw))return!1;let{dismissCountKey:t,lastDismissedKey:a}=(0,i.Bk)(e||null),n=d.getItem(l.cw),r=0;if("number"==typeof n){let e={postDownloadUpsellDismissCount:n};d.setItem(l.cw,e),r=e[t]||0}else r=(n||{})[t]||0;let s=d.getItem(l.mD),c=null;if("number"==typeof s){let e={postDownloadUpsellLastDismissed:s};d.setItem(l.mD,e),c=e[a]||null}else c=(s||{})[a]||null;return c?Date.now()-c>864e5?(g(n,t),!0):r<2:(g(n,t),!0)},[p,u,d,g]);return{handlePostDownloadUpsell:(0,n.useCallback)(()=>{!e&&m("sg_dweb_post_download_share_upsell").anyEnabled&&h()&&t(!0)},[m,h,t,e]),handlePostRightClickPinImageUpsell:(0,n.useCallback)(()=>{!e&&m("sg_dweb_post_right_click_pin_image_share_upsell").anyEnabled&&h(i.Oo)&&(a(i.Oo),t(!0))},[e,m,h,a,t])}}},501392:function(e,t,a){a.d(t,{Z:()=>r});var n=a(274320),i=a(15667),l=a(647709);function r({dangerouslySkipActivation:e}){let{isAuthenticated:t,userAgent:{browserName:a,browserVersion:r}}=(0,i.B)(),s=(0,l.HG)(),{checkExperiment:c}=(0,n.ru)();return{isEnabled:"Chrome"===a&&Number(r.split(".")[0])>=135&&t&&s&&c("closeup_google_css_carousel_dweb",{dangerouslySkipActivation:e}).anyEnabled}}},629178:function(e,t,a){a.d(t,{Z:()=>c});var n=a(667294),i=a(616550),l=a(15667),r=a(647709),s=a(688170);let c=({isShufflePin:e})=>{let{isAuthenticated:t}=(0,l.B)(),a=(0,r.HG)(),c=(0,s.C)((0,i.TH)());return(0,n.useMemo)(()=>({isCloseupMediaViewerEnabled:t&&a&&c&&!e}),[t,a,c,e])}},617778:function(e,t,a){a.d(t,{Z:()=>f});var n,i=a(667294);a(167912);var l=a(741137),r=a(980787),s=a(686319),c=a(415546),o=a(453179),u=a(776250),d=a(274320),p=a(431338),m=a(774429),g=a(785893);let h=void 0!==n?n:n=a(836606),y=e=>(e??"").split(".").pop()??"",_=["png","jpg","jpeg","gif","bmp","tiff","webp","mp4","m4v","quicktime"],k=/\/pin\/([^/]+)/,w=e=>{let t=e?.match(k);return t?t[1]:null};function f({clientTrackingParams:e,children:t,enableDLCollection:a=!1,hovered:n,pinKey:f,slotIndex:v,trafficSource:b,viewType:C}){let{logContextEvent:x}=(0,r.u)(),{checkExperiment:D}=(0,d.FJ)(),S=D("web_metrics_right_click_visibility_change").anyEnabled,[I,P]=(0,i.useState)(),[M,L]=(0,i.useState)(""),E=(0,c.Z)(h,f),{entityId:Z,trackedLink:F,link:K,adData:T,dpaCreativeType:R,utmLink:A}=E,j=(0,o.Zt)({trackedLink:F,link:K,utmLink:A})||"",$=T?.ceAltImageSignature,U=(0,m.Z)({clickthroughType:"rightClick",location:"contextMenu"}),{handlePostRightClickPinImageUpsell:H}=(0,l.Z)(),N=(0,i.useCallback)(e=>{let t=k.test(e),a=_.includes(y(e));U(t?"Closeup":a?"Image":"Outbound")},[U]),O=(0,u.Z)({hasPin:!!E,hasPinRichMetadata:!!E.richMetadata,hasPinRichMetadataProducts:!!E.richMetadata?.products,hasPinRichMetadataArticle:!!E.richMetadata?.article,hasPinRichMetadataRecipe:!!E.richMetadata?.recipe,hasPinStoryPinData:!!E.storyPinData}),z=(0,p.Z)(E),B=(0,i.useCallback)(()=>{let t=z();(0,s.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:Z,url:j,client_tracking_params:e,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:Z,...v||{},...t})}}).then(n=>{n&&(a?(x({view_type:3,event_type:8948,component:15166,element:15926,object_id_str:Z,aux_data:{collection_pin_click_position:0,click_type:"clickthrough"},event_data:{dcoEventData:{clientCreativeType:R,ceAltImageSignature:$}}}),x({view_type:3,event_type:12,component:15166,element:15926,object_id_str:Z,aux_data:{collection_pin_click_position:0,clickthrough_type:"rightClick"},event_data:{dcoEventData:{clientCreativeType:R,ceAltImageSignature:$}}}),x({view_type:3,event_type:7762,component:15166,element:15926,object_id_str:Z,aux_data:{clickthrough_type:"rightClick"},event_data:{dcoEventData:{clientCreativeType:R,ceAltImageSignature:$}}})):(x({event_type:12,object_id_str:Z,view_type:C,view_parameter:O,clientTrackingParams:e,aux_data:{clickthrough_type:"rightClick",...v||{},...t}}),x({event_type:8948,view_type:C,object_id_str:Z,view_parameter:O,clientTrackingParams:e,aux_data:{click_type:"clickthrough",closeup_navigation_type:b&&(0,o.sV)(b)?"deeplink":"click",clickthrough_type:"rightClick",...v||{},...t}})))})},[z,Z,j,e,v,a,x,C,O,b,R,$]),q=(0,i.useCallback)(()=>{let t=z();x({event_type:8948,view_type:C,object_id_str:Z,view_parameter:O,clientTrackingParams:e,aux_data:{click_type:"rightClick",closeup_navigation_type:b&&(0,o.sV)(b)?"deeplink":"click",...v||{},...t}})},[z,x,C,Z,O,e,b,v]),V=(0,i.useCallback)(()=>{x({event_type:16615,object_id_str:Z,view_type:C||3,view_parameter:(0,u.Z)({hasPin:!!E,hasPinRichMetadata:!!E.richMetadata,hasPinRichMetadataProducts:!!E.richMetadata?.products,hasPinRichMetadataArticle:!!E.richMetadata?.article,hasPinRichMetadataRecipe:!!E.richMetadata?.recipe,hasPinStoryPinData:!!E.storyPinData})||139,aux_data:{click_type:"rightClick"}})},[Z,E,C,x]),G=(0,i.useCallback)(e=>{let t=k.test(e);_.includes(y(e))?(V(),H()):t?q():B()},[H,q,V,B]),W=(0,i.useCallback)(e=>{let t=e.target,a=e.target?.src;for(;t&&"A"!==t.tagName;)t=t.parentElement;let n=t?t.href:a||"";""!==n&&(N(n),S&&G(n),L(n),P(!0))},[N,G,S]);return(0,i.useEffect)(()=>{let e=void 0!==window.document?.hidden?"visibilitychange":void 0!==window.document?.msHidden?"msvisibilitychange":void 0!==window.document?.webkitHidden?"webkitvisibilitychange":void 0;if(!e||S)return;let t=a=>{if(!I)return;let n=k.test(M),i=_.includes(y(M));w(a.target?.activeElement?.attributes?.href?.value||"")===w(M)&&(i?(V(),H()):n?q():B()),P(!1),window.removeEventListener(e,t,!1)};return I&&window&&window.addEventListener(e,t,!1),()=>window.removeEventListener(e,t)},[I]),(0,i.useEffect)(()=>(n&&window.addEventListener("contextmenu",W),()=>{window.removeEventListener("contextmenu",W)}),[W,n]),(0,g.jsx)(i.Fragment,{children:t})}},642407:function(e,t,a){a.d(t,{AL:()=>m,CT:()=>p,FA:()=>w,Kw:()=>b,MS:()=>o,O3:()=>S,OI:()=>r,Rk:()=>I,SP:()=>i,Wm:()=>n,Y4:()=>x,Zn:()=>d,at:()=>f,dH:()=>g,e4:()=>u,eX:()=>v,eq:()=>k,iC:()=>s,jf:()=>y,m6:()=>h,mW:()=>M,ps:()=>D,tT:()=>c,xZ:()=>l,xh:()=>_,yG:()=>P,yz:()=>C});let n=446,i=16,l=48,r={x:0,y:0,w:0,h:0},s=`
  .preview-crop-area-enter {
    opacity: 0;
  }

  .preview-crop-area-enter-active {
    opacity: 1;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit {
    opacity: 1;
  }

  .preview-crop-area-exit-active {
    opacity: 0;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit-done {
    opacity: 0;
  }
`,c="anchor",o=2,u=20,d=14,p=16,m=10,g=8,h=1,y=.75,_=4,k=3,w={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},f="cropper-background",v="cropper-cropbox",b=32,C=20,x=10,D=1,S=0,I=120,P=2,M=.2},27152:function(e,t,a){async function n(e){return new Promise((t,a)=>{let n=document.createElement("img");n.onerror=()=>a(Error(`Image failed to load with src ${e}`)),n.onload=()=>t(!0),n.src=e})}async function i(e){try{let t=await fetch(e,{method:"HEAD"}),a=(await t.blob()).type.startsWith("image/");{let t=await n(e);return a&&t}}catch(e){return!1}}a.d(t,{Z:()=>i})},728994:function(e,t,a){a.d(t,{Z:()=>s});var n,i=a(667294);a(167912);var l=a(415546);let r=void 0!==n?n:n=a(719738);function s({pinKey:e,maxWidth:t}){let a=(0,l.Z)(r,e),n=a?.imageSpec_564x||a?.imageSpec_736x||a?.imageSpec_orig||a?.imageSpec_474x||a?.imageSpec_236x,s=n?.width||1,c=n?.height||1,o=n?.url||"",u=function(e,t,a=564){return e>a&&(t*=a/e,e=a),{width:e,height:t}}(s,c,t);return{getNormalizedPinImage:(0,i.useCallback)(()=>({width:u.width,height:u.height,url:o}),[u.height,u.width,o])}}},776250:function(e,t,a){a.d(t,{Z:()=>n});function n({hasPin:e,hasPinRichMetadata:t,hasPinRichMetadataProducts:a,hasPinRichMetadataArticle:n,hasPinRichMetadataRecipe:i,hasPinStoryPinData:l}){if(e){if(t)return a?144:n?141:i?145:139;if(l)return 157}return 140}},7525:function(e,t,a){a.d(t,{Z:()=>l});var n=a(667294),i=a(27152);function l(e){let[t,a]=(0,n.useState)(null);return(0,n.useEffect)(()=>{!async function(){a(await (0,i.Z)(e))}()},[e]),t}},774429:function(e,t,a){a.d(t,{Z:()=>r});var n=a(667294),i=a(15667),l=a(603316);function r({clickthroughType:e,location:t}){let a=(0,i.B)();return(0,n.useCallback)(n=>{let{userAgent:i,country:r}=a;(0,l.nP)("webapp.metrics.clickthrough.missing",{tags:{clickthrough_type:e,appType:i.isMobile?"WEB_MOBILE":"WEB_DENZEL",country:r??"unknown",browserName:i.browserName,osName:i.osName,browserType:i.browserType,browserVersion:i.browserVersion,typeOfClick:n??"unknown",location:t}})},[a,e,t])}},331854:function(e,t,a){a.d(t,{Z:()=>s});var n=a(667294);let i=new Map,l=null,r=e=>{e.forEach(e=>{let t=i.get(e.target);t&&t(e)})};function s({onVisibilityChanged:e,trackFullVisible:t,rootMargin:a}){let s=(0,n.useRef)(null),c=!1,o=()=>{let t;s.current instanceof HTMLElement&&(t=s.current,i.has(t))&&c&&(e(!1),c=!1)},u=(0,n.useCallback)(a=>{s.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",a)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(r,n),i.set(e,a),l.observe(e)})(s.current,a,a=>{if(!i.has(s.current))return;let n=t?a.intersectionRatio>=1:a.intersectionRatio>=.5,l=t?0===a.intersectionRatio:!n;!c&&n?(c=a.intersectionRatio>0||a.isIntersecting)&&e(!0):c&&l&&o()})},[s.current]);return(0,n.useEffect)(()=>(u(a),()=>{if(s.current instanceof HTMLElement){var e;o(),e=s.current,l.unobserve(e),i.delete(e)}}),[u]),s}},870358:function(e,t,a){a.d(t,{Z:()=>n});function n({cropArea:e,cropSource:t,requestParams:a,searchQuery:n,surfaceType:i,title:l,trafficSource:r}){let s=[];if(e){let{x:t,y:a,w:n,h:i}=e;t>=0&&a>=0&&n>=0&&i>=0&&s.push(`x=${t}`,`y=${a}`,`w=${n}`,`h=${i}`)}return t&&s.push(`cropSource=${t}`),i&&s.push(`surfaceType=${i}`),l&&s.push(`full_feed_title=${encodeURIComponent(l)}`),n&&s.push(`q=${n}`),r&&"unknown"!==r&&s.push(`rs=${r}`),a&&s.push(`requestParams=${encodeURIComponent(a)}`),s.length?`?${s.join("&")}`:""}},688170:function(e,t,a){a.d(t,{C:()=>n,_:()=>i});let n=e=>!!e&&/^\/pin\/[\w-]+\/?$/.test(e.pathname),i=e=>{let t=[...e].reverse().find(({location:e})=>e&&!n(e));return t&&t.location&&(({pathname:e})=>/^\/search\/pins\//.test(e))(t.location)?(({pathname:e,search:t})=>{let a=/^\/search\/pins\/(\?.*)$/.exec(e),n=(t||a&&a[1]||"").substr(1).split("&").map(e=>e.split("=")).find(e=>"q"===e[0]);return n?decodeURIComponent(n[1]):""})(t.location):""}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/47302-d8fcb1c20f915aef.mjs.map