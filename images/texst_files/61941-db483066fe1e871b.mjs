(self.modernJsonp=self.modernJsonp||[]).push([["61941"],{152426:function(e,t,l){l.d(t,{Ee:()=>i,Gt:()=>_,L8:()=>n,TS:()=>o,ZP:()=>r,lY:()=>s,li:()=>a,xX:()=>c,z2:()=>d});let i=500,r=3e3,o=3e3,s=1e3,a=1,n=10,d="14d",c="30/30/30",_="AD_EVENT"},217986:function(e,t,l){l.d(t,{Z:()=>c});var i=l(20256),r=l(152426),o=l(475498),s=l(525839),a=l(87853),n=l(77836),d=l(785893);function c({handleDelete:e,onDismiss:t,isPublishedCollage:l=!1}){let c=(0,s.ZP)(),{showToast:_}=(0,a.dI)(),u=async()=>{await e(),_(({hideToast:e})=>(0,d.jsx)(o.Z,{duration:r.ZP,onHide:e,text:l?c._('Your collage was deleted!', 'CollageDraftCard.published.toast.delete', 'Text for the toast message when a collage is deleted'):c._('Your draft was deleted!', 'CollageDraftCard.toast.delete', 'Text for the toast message when a draft is deleted')}))},h=l?c._('Delete collage', 'publishedCollage.ConfirmationModal.accessibilityLabel', 'Accessibility label for delete collage button'):c._('Delete draft', 'draftCard.modal.accessibilityLabel', 'Accessibility label for delete draft button'),p=l?c._('Once you delete a collage, you can\'t undo it!', 'publishedCollage.modal.warningMessage', 'Text for the delete collage warning message'):c._('Once you delete a draft, you can\'t undo it!', 'collageDraftCard.modal.warningMessage', 'Text for the delete collage draft warning message');return(0,d.jsx)(i.mh,{zIndex:n.pS,children:(0,d.jsx)(i.WB,{accessibilityModalLabel:c._('Are you sure to delete this collage?', 'collages.modal.header.accessibilityLabel', 'Accessibility label for the collage draft deletion modal'),heading:c._('Are you sure?', 'collages.modal.header', 'Header text of the collage draft deletion modal'),onDismiss:t,primaryAction:{accessibilityLabel:h,dataTestId:"collage-draft-delete-button",label:c._('Delete', 'collages.modal.delete', 'Button text for deleting a draft'),onClick:u},secondaryAction:{accessibilityLabel:c._('Cancel delete collage', 'collages.modal.cancelDelete.AccessibilityLabel', 'Accessibility label for the cancel delete draft button'),dataTestId:"cancel-delete-collage-draft-button",label:c._('Cancel', 'collages.modal.cancelDelete', 'Text for the cancel delete draft button'),onClick:t},children:(0,d.jsx)(i.xv,{children:p})})})}},318812:function(e,t,l){l.d(t,{Fy:()=>o,ZP:()=>s,_G:()=>r});var i=l(375584);let r=e=>i.Fd[e]??i.U5.MORE_IDEAS,o=e=>i.lJ[e]??0,s="/collage-creation-tool"},375584:function(e,t,l){l.d(t,{Fd:()=>h,Gb:()=>g,Nc:()=>s,U5:()=>u,V5:()=>b,Xu:()=>o,_4:()=>x,b6:()=>m,bP:()=>d,fw:()=>_,hb:()=>f,jz:()=>c,lJ:()=>p,m2:()=>r,pI:()=>n,qb:()=>a,yW:()=>i});let i=170,r=4,o=5,s=232,a=539,n=9/16,d=236,c=94,_=4,u={MORE_IDEAS:"MORE_IDEAS",DRAFTS:"DRAFTS",SEARCH:"SEARCH",YOUR_BOARDS:"YOUR_BOARDS"},h={0:"MORE_IDEAS",1:"YOUR_BOARDS",2:"DRAFTS",3:"SEARCH"},p={MORE_IDEAS:0,YOUR_BOARDS:1,DRAFTS:2,SEARCH:3},f=420,m=264,x="#ffffff",b=5e3,g={PIN:1,TEXT:2,IMAGE:3}},80691:function(e,t,l){l.d(t,{Z:()=>r});var i=l(686319);async function r(e){return(0,i.Z)({url:`/v3/shuffles/${e}/`,method:"DELETE"})}},345314:function(e,t,l){l.d(t,{Z:()=>a});var i=l(667294),r=l(791948),o=l(886981);let s={url:"/v3/users/me/shuffles/",data:{is_draft:!0,transform_to_pins:!1,fields:["shuffle.id","shuffle.images","shuffle.updated_at"]}},a=()=>{let{data:e,fetchMore:t,isFetching:l,refresh:a}=(0,o.Z)({name:"ApiResource",options:s}),n=(0,r.w1)();return{fetchMore:t,invalidateDrafts:(0,i.useCallback)(()=>{n("ApiResource",s)},[n]),isFetching:l,shuffles:e,refresh:a}}},21954:function(e,t,l){l.d(t,{m:()=>_,r:()=>u});var i=l(667294),r=l(729434),o=l(839626),s=l(274320),a=l(15667),n=l(886981),d=l(785893);let{Provider:c,get:_}=(0,r.Z)("PinRep");function u({children:e}){let{isAuthenticated:t}=(0,a.B)(),{checkExperiment:l}=(0,s.ru)(),{experience:r}=(0,o.Ow)(1000069),[_,u]=(0,i.useState)(!0),[h,p]=(0,i.useState)(!1),[f,m]=(0,i.useState)(!1),[x,b]=(0,i.useState)(null),[g,y]=(0,i.useState)(null),P=(0,o.oS)(1000069),{anyEnabled:v}=l("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),w=(0,n.Z)(t&&v?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,i.useEffect)(()=>{if(!t)return void u(!1);r&&(!r||r?.experience_id===500417&&r?.display_data.hide_footer)?P.viewExperience(1000069,500417):u(!1),p(!0)},[r]);let j=(0,i.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:f,hasSimplifiedPinGridExpLoaded:h,hidePinRepFooter:_,quickSaveBoardId:w,setHasMetSaveRequirementOnUseCaseFeed:m,setUseCaseFeedOriginalPinId:y,setUseCaseFeedRepinId:b,useCaseFeedOriginalPinId:g,useCaseFeedRepinId:x}),[f,h,_,w,m,y,b,g,x]);return(0,d.jsx)(c,{value:j,children:e})}},902803:function(e,t,l){l.d(t,{Z:()=>_});var i=l(20256),r=l(525839),o=l(906553),s=l(302148),a=l(15667),n=l(298097),d=l(913852),c=l(785893);function _({images:e,name:t,onClick:l,pinCount:_}){let u=(0,r.ZP)(),{locale:h}=(0,a.B)(),p=(0,o.Z)();return(0,c.jsx)(i.iP,{dataTestId:"pin-cluster",onTap:l,children:(0,c.jsxs)(i.kC,{direction:"column",children:[(0,c.jsxs)(i.xu,{minHeight:157,minWidth:236,position:"relative",children:[(0,c.jsx)(i.xu,{bottom:!0,color:"dark",left:!0,opacity:.4,position:"absolute",right:!0,rounding:4,top:!0,zIndex:d.mM}),(0,c.jsx)(n.Z,{fullSize:!0,images:e,layout:"square"}),(0,c.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",zIndex:d.c6,children:(0,c.jsx)(i.zx,{color:"white",dataTestId:"create-pin-cluster-button",onClick:({event:e})=>{e.stopPropagation(),l()},size:"lg",text:u._('Create', 'pinCluster.createButton', 'Button to create board')})})]}),(0,c.jsx)(i.xu,{padding:2,children:(0,c.jsxs)(i.kC,{direction:"column",gap:1,children:[(0,c.jsx)(i.X6,{accessibilityLevel:3,lineClamp:1,size:"400",children:t}),(0,c.jsx)(i.xu,{children:_&&(0,c.jsx)(i.xv,{lineClamp:1,size:"100",children:(0,s.nk)(u.ngettext('{{ count }} Pin', '{{ count }} Pins', _, 'pinCluster.pinCount', 'label for n amount of pins. count:number of Pins'),{count:p(h,_,{})})})})]})})]})})}},824213:function(e,t,l){l.d(t,{ZP:()=>a,om:()=>d,zz:()=>c});var i=l(525839),r=l(274320),o=l(72918),s=l(886981);function a(){let e=(0,i.ZP)(),{data:t,isLoaded:l,refresh:r}=(0,s.Z)({name:"ApiResource",options:{url:"/v3/users/profile/pins/clusters/",data:{exclude_quick_save_pins:!0,max_cluster_limit:10}}});return l&&t?{isLoaded:l,pinClusters:t.objects.map(t=>{let l=t.names[0],i=l&&l.charAt(0).toUpperCase()+l.slice(1);return{id:t.id,images:t.thumbnails.map(t=>({url:t["236x"].url,name:e._('Board suggestion image', 'boardSuggestions.thumbnail.image', 'Alt text for image shown in board suggestion')})),name:i,pinCount:t.pin_count}}),refreshPinClusters:r}:{isLoaded:l,pinClusters:[],refreshPinClusters:()=>{}}}function n(e){return{url:`/v3/users/profile/pins/cluster/${e}/feed/`,data:{fields:["pin.id","pin.images[170x,136x136,236x,474x,736x,orig]"]}}}function d(e,t){let l=(0,s.Z)({name:"ApiResource",options:n(e)}),{checkExperiment:i}=(0,r.ru)(),o=(0,s.Z)(t&&i("web_curation_save_nrt_auto_org",{dangerouslySkipActivation:!0}).anyEnabled?{name:"ApiResource",options:{url:`/v3/pins/${t}/`,data:{fields:["pin.id","pin.images[170x,136x136,236x,474x,736x,orig]"]}}}:null),{fetchMore:a,isFetching:d,isLoaded:c}=l,{data:_}=l;return _||(_=[]),t&&o.data&&o.isLoaded&&(_=[o.data,..._]),{clusterPins:_,fetchMore:a,isFetching:d,isLoaded:c}}function c(e){return(0,o.jB)("ApiResource",n(e))}},327025:function(e,t,l){l.d(t,{C:()=>o,Z:()=>s});var i=l(667294),r=l(886981);let o={url:"/v3/users/me/shuffles/",data:{is_draft:!1,transform_to_pins:!0,fields:["pin.type","pin.id","pin.images","pin.description","pin.pinner"]}},s=()=>{let{data:e,fetchMore:t,isFetching:l,refresh:s,isRefreshing:a}=(0,r.Z)({name:"ApiResource",options:o});return(0,i.useEffect)(()=>{void 0===e&&s()},[e]),{fetchMore:t,isFetching:l,isRefreshing:a,publishedCollages:e,refresh:s}}},515829:function(e,t,l){l.d(t,{Z:()=>d});var i=l(417365),r=l(140725),o=l(821342),s=l(858845),a=l(742438),n=l(785893);function d(e){let t,l=(0,a.Z)(),d=(0,o.Z)(),c=(0,s.Z)({user:l.data,viewer:d});return(d.isAuth&&c&&(t=d.id),(0,r.Q)({object_id_str:t,view_type:4,view_parameter:c?3106:3107}),l&&l.data)?(0,n.jsx)(i.Z,{}):null}},788836:function(e,t,l){l.d(t,{Z:()=>A});var i=l(667294),r=l(581722),o=l(616550),s=l(20256),a=l(138),n=l(865540),d=l(729082),c=l(980787),_=l(679422),u=l(821342),h=l(525839),p=l(274320),f=l(72918),m=l(448505),x=l(7872),b=l(644024),g=l(789302),y=l(964577),P=l(878788),v=l(70993),w=l(664973),j=l(785893);function A({currentTab:e}){let t=(0,h.ZP)(),[l,A]=(0,i.useState)(!1),E=(0,o.k6)(),C=(0,r.I0)(),z=(0,u.Z)(),{checkExperiment:Z}=(0,p.ru)(),B=(0,m.Z)(),R=(0,x.lJ)(z,B),k=(0,_.Z)(),{logContextEvent:T}=(0,c.u)(),S=(0,n.Z)(!0),I=Z("web_curation_board_create_entry_points").anyEnabled;return(0,j.jsxs)(i.Fragment,{children:[(0,j.jsx)(w.Z,{onCreateBoard:()=>{if(k)return void k();T({component:13056,element:249,event_type:101,view_parameter:3106,view_type:4,aux_data:{source:y.Z.PROFILE}}),A(!0)},onCreatePin:()=>{if(k)return void k();T({component:13056,element:10643,event_type:101,view_parameter:3106,view_type:4}),E.push("/pin-builder/")},onCreateStoryPin:()=>{if(k)return void k();T({aux_data:{entry_type:"profile_plus_button"},component:13056,element:10949,event_type:101,view_parameter:3106,view_type:4}),E.push({pathname:(0,a.Z)(S),state:{entry_type:"profile_plus_button"}})},onOpen:()=>{let e=z.isAuth&&E.location.pathname.startsWith(`/${z.username}/`)&&!1===z.isPartner&&!E.location.pathname.includes(v.qV)&&Z("web_retrieval_hub_profile_split_").anyEnabled,t=e&&[v.sz.enabled_with_unorganized_feed,v.sz.enabled_with_log_fix].includes(Z("web_retrieval_hub_profile_split_").group);e&&T({event_type:101,view_type:4,view_parameter:t?3106:4047,component:14461,element:1208})},surface:e===P.un.RETRIEVAL_HUB_PINS?"profilePins":"profileBoards",children:({active:l,openFlyout:i,accessibilityControls:r,accessibilityExpanded:o})=>I?(0,j.jsx)(s.zx,{accessibilityControls:r,accessibilityExpanded:o,accessibilityHaspopup:!0,accessibilityLabel:t._('Create a Pin or a board', 'profileHeader.actionBar.createButton', 'Accessibility label for button to open Create menu'),color:"red",onClick:i,selected:l,size:"lg",text:t._('Create', 'profileHeader.actionBar.createButton', 'Text for button to open Create menu')}):(0,j.jsx)(b.Z,{accessibilityControls:r,accessibilityExpanded:o,accessibilityLabel:"pins"===e?t._('Create a Pin', 'profileHeader.actionBar.createButtonPin', 'Accessibility label for button to open Create menu'):t._('Create a Pin or a board', 'profileHeader.actionBar.createButton', 'Accessibility label for button to open Create menu'),icon:"add",onClick:i,selected:l})}),l&&(0,j.jsx)(g.Z,{boardCreateSource:"profile",onBoardCreate:e=>{if(k)return void k();let t=R&&(0,d.Z)(e.privacy)?`?orbac_subject_id=${R}`:"";C((0,f.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),E.push(`${e.url||""}${t}`,{newBoard:!0})},onClose:()=>A(!1),shouldShowAddCollaborators:!0})]})}},450705:function(e,t,l){l.d(t,{Z:()=>y});var i=l(667294),r=l(616550),o=l(20256),s=l(575108),a=l(980787),n=l(821342),d=l(525839),c=l(274320),_=l(886981),u=l(448505),h=l(7872),p=l(821115),f=l(604488),m=l(70993),x=l(493812),b=l(785893);let g={alphabetical:10430,last_pinned_to:10431,last_activity:10431,last_pin_added:10431,custom:10434};function y({user:e,setVisibilityControlsModalOpen:t}){let l=(0,x.WG)(),{logContextEvent:y}=(0,a.u)(),P=(0,d.ZP)(),v=(0,n.Z)(),w=(0,u.Z)(),j=(0,h.Ms)(v,w),{checkExperiment:A}=(0,c.ru)(),E=(0,r.k6)(),{data:C}=(0,_.Z)({name:"UserMetadataResource",options:{user:{id:j}}}),z=l?.profileBoardView,Z=l?.boardSortOrder.get(j||"")??"",B=l?.profilePinDensity,R=(0,f.Z)({hasCustomOrder:!!e.has_custom_board_sorting_order,isOwnProfile:!0,mostRecentBoardSortOrder:C?.most_recent_board_sort_order,updatedBoardOrder:Z});(0,i.useEffect)(()=>{if(C&&!z){let{profile_board_rep_view_type:e}=C;l?.setProfileBoardView(e&&"list"!==e?e:"wide")}},[C,z]),(0,i.useEffect)(()=>{if(C&&""===B){let{board_pin_rep_view_type:e}=C;l?.setProfilePinDensity(e??"regular")}},[C,B]);let k=e=>()=>{let t=v.isAuth&&!1===v.isPartner&&E.location.pathname.startsWith(`/${v.username}/`)&&!E.location.pathname.includes(m.qV)&&A("web_retrieval_hub_profile_split_").anyEnabled,i=t&&[m.sz.enabled_with_unorganized_feed,m.sz.enabled_with_log_fix].includes(A("web_retrieval_hub_profile_split_").group);t?y({event_type:101,component:14461,element:10612,view_parameter:i?3106:4047,view_type:4}):y({event_type:101,component:13149,element:g[e]}),s.Z.create("UserMetadataResource",{most_recent_board_sort_order:e,orbac_subject_id:(0,h.lJ)(v,w)}).callUpdate(),l?.updateBoardSortOrder((0,h.Ms)(v,w),e)},T=[{label:P._('A to Z', 'profileHeader.actionBar.organizeFlyout.aToZ', 'Organize menu option to sort boards alphabetically'),isSelected:"alphabetical"===R,clickHandler:k("alphabetical")},{label:P._('Custom', 'profileHeader.actionBar.organizeFlyout.dragAndDrop', 'Organize menu option to sort boards by drag-and-drop'),isSelected:"custom"===R,clickHandler:k("custom")}];T.push({label:P._('Last Pin Added', 'profileHeader.actionBar.organizeFlyout.lastPinAdded', 'Organize menu option to sort boards by last pin added'),isSelected:"last_pinned_to"===R,clickHandler:k("last_pinned_to")});let S=[{label:P._('Sort by', 'profileHeader.actionBar.organizeFlyout.sortBoardsBy', 'Category heading on Organize menu on user profile'),items:T},t?{label:P._('Profile layout', 'profileHeader.actionBar.organizeFlyout.layout', 'Category heading on Organize menu on user profile'),items:[{label:P._('Edit board visibility', 'profileHeader.actionBar.organizeFlyout.manageVisibility', 'Organize menu option to control visibility of boards'),clickHandler:()=>{t(!0),y({event_type:101,view_type:215,view_parameter:3106,component:13996,element:12786})}}]}:null].map(e=>e).filter(Boolean);return(0,b.jsx)(o.xu,{"data-test-id":"profile-organize-button",children:(0,b.jsx)(p.Z,{icon:"filter",label:P._('Organize', 'profileHeader.actionBar.organize', 'Accessibility label for button to open organization and view tools flyout'),children:({handleClose:e})=>S.map(({items:t,label:l})=>(0,b.jsx)(o.Lt.Section,{label:l,children:t.map(({clickHandler:t,isSelected:l,label:i})=>(0,b.jsx)(o.Lt.Item,{onSelect:()=>{e(),t()},option:{label:i,value:i},selected:l?{label:i,value:i}:null},i))},l))})})}},417365:function(e,t,l){l.d(t,{Z:()=>eP});var i=l(616550),r=l(667294),o=l(20256),s=l(581722),a=l(21954),n=l(437175),d=l(902803),c=l(824213),_=l(980787),u=l(525839),h=l(964577),p=l(875280),f=l(434674),m=l(785893);function x({hasBoards:e=!1}){let t=(0,i.k6)(),l=(0,u.ZP)(),{isLoaded:s,pinClusters:a}=(0,c.ZP)(),{logContextEvent:n}=(0,_.u)();if((0,r.useEffect)(()=>{s&&n({event_type:15165,view_type:4,view_parameter:3106,aux_data:{content_ids:a.map(({id:e})=>`pincluster:${e}`).join("|").concat("|")}})},[s,n,a]),!s||0===a.length)return null;let x=(0,p.m)("square"),b=e?(0,m.jsx)(o.X6,{accessibilityLevel:2,size:"400",children:l._('Board suggestions', 'boardSuggestions.heading', 'Heading for Board Suggestions section on profile')}):(0,m.jsxs)(o.kC,{direction:"column",gap:3,children:[(0,m.jsx)(o.X6,{accessibilityLevel:2,size:"400",children:l._('Keep track of what inspires you', 'boardSuggestions.headingNoBoards', 'Heading for Board Suggestions section on profile when user has no boards')}),(0,m.jsx)(o.xv,{children:l._('Boards let you organize the Pins you save into collections. Start from a cluster below, or create your own.', 'boardSuggestions.text', 'Guide text instructing users how to use a board suggestion cluster')})]});return(0,m.jsxs)(o.kC,{direction:"column",children:[(0,m.jsx)(o.xu,{marginBottom:5,marginTop:8,paddingX:5,children:b}),(0,m.jsx)(f.Z,{itemWidth:x,maxColumns:12,children:a.map(({id:e,images:l,name:i,pinCount:r})=>(0,m.jsx)(o.xu,{maxWidth:x,overflow:"hidden",padding:2,children:(0,m.jsx)(d.Z,{images:l,name:i,onClick:()=>{n({event_type:14567,view_type:4,view_parameter:3106,aux_data:{cluster_selected_name:i,cluster_selected_index:e,source:h.Z.PIN_CLUSTER}}),t.push(`/board/create/cluster/${e}`)},pinCount:r})},e))})]})}var b=l(302148);function g({boardlessPins:e,organizeIdeasButton:t,openBoardlessModal:l,user:i}){let s=(0,u.ZP)(),a=e?.slice(0,6),{quick_saves_pin_count:n}=i;return(0,m.jsx)(o.xu,{"data-test-id":"self-profile-boardless-pins-section",display:"flex",height:228,justifyContent:"start",marginEnd:"auto",marginStart:"auto",maxWidth:"fit-content",overflow:"hidden",position:"relative",rounding:4,children:(0,m.jsxs)(o.iP,{onTap:l,children:[a?.map((e,t)=>(0,m.jsx)(o.xu,{display:"inlineBlock",height:228,marginEnd:0,overflow:"hidden",position:"relative",width:142,children:5===t?(e=>{let{title:t,images:l}=e,i=l&&l["236x"];return(0,m.jsxs)(o.xu,{"data-test-id":"self-profile-boardless-pins-count-div",display:"inlineBlock",height:228,marginEnd:0,overflow:"hidden",position:"relative",width:142,children:[i?.url&&(0,m.jsx)(o.Ee,{alt:t??"Boardless pin count",color:"lightGray",fit:"cover",naturalHeight:i?.height??0,naturalWidth:i?.width??0,src:i.url}),(0,m.jsx)(o.xu,{color:"dark",display:"flex",height:"100%",opacity:.8,position:"absolute",right:!0,top:!0,width:"100%",children:(0,m.jsx)(o.xu,{"data-test-id":"self-profile-boardless-pins-count",margin:"auto",children:(0,m.jsx)(o.xv,{color:"inverse",weight:"bold",children:(0,b.nk)(s._("+{{pinCount}}","SelfProfileHeader.boardless.pins.count","Count of boardless pins"),{pinCount:n})})})})]})})(e):(e=>{let{title:t,images:l}=e,i=l&&l["236x"];return(0,m.jsx)(r.Fragment,{children:i&&i.url&&(0,m.jsx)(o.Ee,{alt:t??"Boardless pin",color:"lightGray",fit:"cover",naturalHeight:i.height??0,naturalWidth:i.width??0,src:i.url})})})(e)},`boardless-pin-${e.id}`)),(0,m.jsx)(o.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(o.xu,{margin:"auto",children:t})})]})})}var y=l(469167),P=l(467925),v=l(274320),w=l(355363),j=l(845421),A=l(839626),E=l(349417);function C({boardThumbs:e}){let t=(0,u.ZP)();return(0,m.jsx)(o.xu,{"aria-label":t._('Collage of images', 'profile.boardlessPinsUpsell.imageCollage', 'Collage of images on upsell'),role:"img",children:(0,m.jsx)(o.zd,{height:110,rounding:4,width:110,children:(0,m.jsx)(o.gM,{columns:2,cover:!0,gutter:1,height:110,renderImage:({index:t,width:l,height:i})=>{let r=e[0],s=e.slice(1),a=0===t?r:s[t-1];return(0,m.jsx)(o.zd,{height:i,width:l,children:a.url&&(0,m.jsx)(o.Ee,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:a.height??1,naturalWidth:a.width??1,src:a.url})})},width:110})})})}function z(){let e=(0,u.ZP)(),t=(0,E.JI)();return(0,m.jsx)(A.a3,{eligibleIds:[503446],placementId:19,children:({complete:l,dismiss:i,experience:{display_data:r}})=>{let{button_text:s,images:a,subtitle:n,title:d}=r,c=a.map(e=>e["170x"]);return(0,m.jsx)(o.kC,{justifyContent:"center",children:(0,m.jsx)(o.xu,{maxWidth:960,paddingY:4,children:(0,m.jsx)(o.XA,{dismissButton:{accessibilityLabel:e._('Dismiss', 'profile.boardlessPinsUpsell.dismissButton', 'Button to dismiss upsell'),onDismiss:i},imageData:{component:(0,m.jsx)(C,{boardThumbs:c})},message:n,primaryAction:{label:s,accessibilityLabel:e._('Create board', 'profile.boardlessPinsUpsell.createButton', 'Button to create new board from upsell'),onClick:()=>{t(!0),l()}},title:d})})})}})}var Z=l(70993),B=l(244529),R=l(709924);function k({boardlessPinsNormalized:e,boardlessPinsResource:t,hasBoards:l,hasBoardSuggestions:s,isOwnProfile:d,isRetrievalHub:c,user:h}){let p=(0,u.ZP)(),f=(0,E.JI)(),b=(0,E.Fj)(),{hasSimplifiedPinGridExpLoaded:A}=(0,a.m)(),{logContextEvent:C}=(0,_.u)(),k=(0,i.TH)(),{experimentalGutterBoints:T}=(0,P.Z)(),{enabled:S}=(0,B.Z)(),{checkExperiment:I}=(0,v.ru)(),H=k.pathname.includes(`/${Z.qV}/`),O=(!c||c&&!H)&&d&&s,D=c&&[Z.sz.enabled_with_unorganized_feed,Z.sz.enabled_with_log_fix].includes(I("web_retrieval_hub_profile_split_").group),F=d&&e.length>=5&&!l,{data:L=[],fetchMore:M,isAtEnd:U}=t||{},V=()=>{C({event_type:101,view_type:4,view_parameter:D?3106:4047,component:14461,element:10612})},N=(0,m.jsx)(o.zx,{color:c?"white":void 0,onClick:()=>{f(!0),c&&V()},size:c?"lg":void 0,text:p._('Organize', 'profileBoard.unorganizedIdeas.organizeButton', 'Button for organizing boardless Pins')});return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsxs)(o.xu,{padding:0,children:[(!H||l&&H)&&(O||e.length>0)&&(0,m.jsx)(o.xu,{marginBottom:d&&c&&!H?0:7,marginTop:5,children:S?(0,m.jsx)(R.Z,{}):(0,m.jsx)(o.iz,{})}),l&&!H&&e.length>0&&O&&(0,m.jsx)(x,{hasBoards:!0}),F&&(0,m.jsx)(z,{}),!l&&!H&&O&&(0,m.jsx)(x,{}),!H&&e.length>0&&(0,m.jsx)(r.Fragment,{children:d&&(!c||!H)&&(0,m.jsxs)(o.xu,{alignItems:"center","data-test-id":"unorganized-ideas-heading-container",display:"flex",justifyContent:"between",marginBottom:5,marginEnd:T,marginStart:T,marginTop:6,paddingX:2,children:[(0,m.jsx)(o.X6,{size:"400",children:p._('Unorganized ideas', 'profileBoard.unorganizedIdeas.heading', 'Heading for unorganized ideas.')}),!c&&N]})}),c&&!H&&(0,m.jsx)(g,{boardlessPins:L,openBoardlessModal:()=>{V(),f(!0)},organizeIdeasButton:N,user:h}),A&&(!c||H)&&(0,m.jsx)(w.Z,{isAtEndOfFeed:!!U,itemCount:e.length,children:(0,m.jsx)(y.default,{columnWidth:void 0,isGridCentered:!1,items:e,layout:"basic",loadItems:M,renderItem:({data:e,itemIdx:t})=>{let l=d?{type:"none"}:{type:"inline"};return(0,m.jsx)(j.ZP,{duploQueryRef:null,pinId:e.id,saveButtonOptions:l,slotIndex:t,surface:"BoardlessPins",viewParameter:d?3106:3107,viewType:4})},serverRender:!0,virtualize:!1})})]}),!!e&&M&&e.length>0&&b&&(0,m.jsx)(n.Z,{boardlessPinsNormalized:e,fetchMore:M,hasBoards:l,onDismiss:()=>f(!1),userId:h.id})]})}var T=l(729082),S=l(918920),I=l(521009),H=l(821342),O=l(336057),D=l(392824),F=l(67831),L=l(15667),M=l(72918),U=l(886981),V=l(123998),N=l(341742),W=l(448505),G=l(7872),$=l(789302),J=l(209348);function X({type:e}){let t=(0,u.ZP)(),{experimentalGutterBoints:l}=(0,P.Z)();return(0,m.jsx)(o.xu,{marginEnd:l,marginStart:l,paddingX:2,children:(0,m.jsxs)(o.kC,{direction:"column",gap:1,children:[(0,m.jsxs)(o.X6,{size:"400",children:[((e,t)=>{switch(e){case"protected":return t._('Protected boards', ' - ', ' -- ');case"secret":return t._('Secret boards', ' - ', ' -- ');case"archived":return t._('Archived boards', 'title for archived boards section on a profile', 'title for archived boards section on a profile');default:return""}})(e,t)," ",(0,m.jsx)(o.JO,{accessibilityLabel:"",color:"default",icon:(e=>{if("archived"!==e&&"protected"!==e)return"lock"})(e),inline:!0,size:12})]}),(0,m.jsx)(o.xv,{inline:!0,size:"200",children:((e,t)=>{switch(e){case"protected":return t._('Protected boards are not shown on your profile page publicly but anyone with the URL can view them.', ' - ', ' -- ');case"secret":return t._('Only you and people you invite can see these boards. ', ' - ', ' -- ');default:return""}})(e,t)}),"secret"===e&&(0,m.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:(0,m.jsx)(o.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=profile",underline:"hover",children:t._('Learn more', ' - ', ' -- ')})})]})})}var q=l(452516),Y=l(493812),K=l(78762);let Q=(0,K.Z)(()=>Promise.all([l.e("19868"),l.e("1671"),l.e("95711")]).then(l.bind(l,359177)),void 0,e=>359177,"app-www-profile-ProfileBoards-ProfileBoards"),ee=(0,K.Z)(()=>Promise.all([l.e("19868"),l.e("1671"),l.e("95711"),l.e("79492")]).then(l.bind(l,463343)),void 0,e=>463343,"app-www-profile-ProfileBoards-ProfileBoardsList");function et({allPinsStory:e,openCreateBoardModal:t,boardIds:l,boardOrder:i,group:r,isOverview:s,isOwnProfile:a,onBoardChange:n,onBoardGroupChange:d,onLoadMore:c,profileBoardView:_,showCreatorProfile:u}){let h=(0,Y.WG)(),{checkExperiment:p}=(0,v.ru)(),f=(0,H.Z)(),x=(0,W.Z)(),b=(0,q.Z)(),{selfProfileBoardFilter:g}=h??{selfProfileBoardFilter:void 0},y=(0,G.Ms)(f,x),P=b[y??""]?.is_gco_account,w=a&&P&&p("dweb_presence_safe_refactor_board_reordering").anyEnabled,j={allPinsStory:e,openCreateBoardModal:t,boardIds:l,boardOrder:i,group:r,isOverview:s,isOwnProfile:a,layout:_,onBoardArchiveChange:d,onBoardDelete:n,onBoardLeave:d,onBoardPrivacyChange:d,onBoardReorder:n,onBoardUpdate:n,onLoadMore:c},A=w?(0,m.jsx)(ee,{...j}):(0,m.jsx)(Q,{...j,showCreatorProfile:u});return"unlabeled"===r?A:(0,m.jsx)(o.xu,{marginBottom:6,marginTop:6,overflow:"hidden",children:(0,m.jsxs)(o.kC,{direction:"column",gap:1,children:[("archived"!==r||g!==Y.ET.ARCHIVED)&&(0,m.jsx)(X,{type:r}),A]})})}var el=l(214239),ei=l(290965),er=l(495437),eo=l(548286),es=l(356299);function ea(e,t,l){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var i=l.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}let en=(0,K.Z)(()=>l.e("76696").then(l.bind(l,934952)),void 0,e=>934952,"app-common-react-components-profile-ProfileBoards-RecentlyDeletedBoards");function ed({isAtEndOfFeed:e}){return(0,O.Z)({isAtEndOfFeed:e,includeBackgroundImages:!0}),null}class ec extends r.PureComponent{constructor(...e){super(...e),ea(this,"state",{boardsResourceAnnotationAdded:!1,isCreateBoardModalOpen:!1}),ea(this,"feedIsStale",!1),ea(this,"handleBoardChanged",()=>{this.feedIsStale=!0}),ea(this,"handleBoardGroupChange",()=>this.props.boardsResource.refresh()),ea(this,"openCreateBoardModal",()=>{this.setState({isCreateBoardModalOpen:!0})}),ea(this,"closeCreateBoardModal",()=>{this.setState({isCreateBoardModalOpen:!1})})}componentDidUpdate(e){let{boardsResource:t}=this.props;t.isLoaded&&(e.boardsResource.data||[]).length>(t.data||[]).length&&window.scroll(0,0)}static getDerivedStateFromProps(e,t){let{boardsResource:l,pwtSurfaceContext:i}=e,{boardsResourceAnnotationAdded:r}=t;return l.isLoaded&&i&&!r?(i.addAnnotation("profileBoards.boardsResourceLoaded"),(0,D.ZP)("profileBoards.boardsResourceLoaded"),{boardsResourceAnnotationAdded:!0}):null}componentWillUnmount(){let{invalidateFeeds:e,invalidateRetrievalHubFeed:t,isRetrievalHub:l}=this.props;this.feedIsStale&&e(),l&&t()}renderAllBoardsGroups(e){let{boardOrder:t,boardlessPinsNormalized:l,boardsResource:i,filterStories:r,isOwnProfile:s,isOverview:a,mixPublicSecret:n,profileBoardView:d,user:c,isRetrievalHub:_,isBoardCreateExperiment:u,isProfilePreviewPage:h,selfProfileBoardFilter:p}=this.props,{fetchMore:f,isAtEnd:x,isLoaded:b}=i,{is_partner:g,show_creator_profile:y}=c,P=!r&&i.data&&i.data.length>0&&"all_pins"===i.data[0].story_type?i.data[0]:null,v=(i.data?.length||0)>0&&x&&"ARCHIVED"!==p&&u?this.openCreateBoardModal:null,w=P&&1===(i.data||[]).length;if((i.data||[]).length>0&&0===e.length&&!w)return(0,m.jsx)(o.xu,{padding:6,children:(0,m.jsx)(o.xH,{accessibilityLabel:this.props.i18n._('Boards', 'profileBoards.spinner', 'List of boards on the users profile page'),show:!0})});let j=(l||[]).length>0;if(_&&!h&&0===e.length)return(0,m.jsx)(er.Z,{filter:p,surface:"boards"});if(0===e.length&&!w&&!j)return(0,m.jsx)(ei.Z,{fullName:c.full_name,isOwnProfile:s,isPartnerProfile:g});let A=e.reduce((e,{id:t,profileGroup:l})=>{let i;return i="public"===l||n&&"secret"===l||"ARCHIVED"===p&&"archived"===l?{unlabeled:e.unlabeled.concat([t])}:{[l]:e[l].concat([t])},{...e,...i}},{unlabeled:[],protected:[],secret:[],archived:[]}),E=["protected","secret","archived"].filter(e=>A[e].length>0),C=r?d:"square",z=()=>{!b||a||x||f()};return j&&w?null:(0,m.jsx)(o.xu,{overflow:"hidden",children:["unlabeled"].concat(s&&!a?E:[]).map(e=>(0,m.jsx)(et,{allPinsStory:"unlabeled"===e&&P?.type==="story"?P:null,boardIds:A[e],boardOrder:t,group:e,isOverview:!!a,isOwnProfile:s,onBoardChange:this.handleBoardChanged,onBoardGroupChange:this.handleBoardGroupChange,onLoadMore:z,openCreateBoardModal:v,profileBoardView:C,showCreatorProfile:!!y},e))})}render(){let{boardKeys:e,i18n:t,isBoardlessProfileEnabled:l,isOwnProfile:i,isOverview:r,handleBoardCreate:s,boardlessPinsNormalized:a,boardlessPinsResource:n,boardsResource:d,selfProfileBoardFilter:c,showRecentlyDeletedBoards:_,user:u,isProfilePreviewPage:h,isRetrievalHub:p=!1,retrievalHubExpGroup:f}=this.props,{data:x,isFetching:b,isLoaded:g,isAtEnd:y}=d,{isLoaded:P,isAtEnd:v}=n||{},w=!!x&&x.length>0&&"all_pins"===x[0].story_type,j=!!x&&x.length>0&&("wishlist_shop_your_products_story"===x[0].story_type||x[1]?.story_type==="wishlist_shop_your_products_story"),A=!!x&&((w||j)&&x.length>1||!w&&x.length>0),E=l?P&&g:g,C=(a||[]).length>0&&n?.data||u.has_pin_clusters;return(0,m.jsx)(V.Z,{component:209,view:4,viewParameter:i?3106:3107,children:(0,m.jsxs)(o.xu,{marginBottom:12,children:[g&&this.renderAllBoardsGroups(r?e.slice(0,6):e),this.state.isCreateBoardModalOpen&&(0,m.jsx)($.Z,{boardCreateSource:"profile",onBoardCreate:s,onClose:this.closeCreateBoardModal,privacy:"SECRET"===c?S.ZP.BoardPrivacy.SECRET:void 0,shouldShowAddCollaborators:!0}),(0,m.jsx)(o.xu,{padding:6*!!b,children:(0,m.jsx)(o.xH,{accessibilityLabel:t._('Boards', 'List of boards on the users profile page', 'List of boards on the users profile page'),show:b})}),E&&(0,m.jsx)(ed,{isAtEndOfFeed:l?v&&y:y}),C&&(0,m.jsx)(k,{boardlessPinsNormalized:a,boardlessPinsResource:n,hasBoards:A,hasBoardSuggestions:!!u.has_pin_clusters,isOwnProfile:i,isRetrievalHub:f!==Z.sz.enabled_with_unorganized_feed&&p,user:u}),_&&!h&&(0,m.jsx)(en,{refreshBoardsFeed:()=>d.refresh()})]})})}}function e_(e){let t=(0,u.ZP)(),{id:l}=e.user,r=(0,H.Z)(),o=(0,i.TH)(),a=(0,i.k6)(),n=r.isAuth?r.username:"",d=(0,W.Z)(),c=(0,G.lJ)(r,d),_=(0,Y.WG)(),{checkExperiment:h}=(0,v.ru)(),p=(0,I.Z)(),{isRetrievalHub:f=!1,user:{is_partner:x},isOwnProfile:b}=e,{selfProfileBoardFilter:g}=_??{selfProfileBoardFilter:void 0},y=!1===x&&b&&o.pathname.includes(`/${n}/${Z.qV}`)&&h("web_retrieval_hub_profile_split_").anyEnabled,P=!1===x&&b?h("web_retrieval_hub_profile_split_").group:void 0,w=b&&!y&&h("web_curation_board_create_entry_points").anyEnabled;g&&p({event_type:101,view_type:4,view_parameter:f&&[Z.sz.enabled_with_unorganized_feed,Z.sz.enabled_with_log_fix].includes(P||"")?3106:4047,component:14461,element:14264,aux_data:{profile_filter:g}});let j=e.isOverview||e.inActivityView?"xxWide":e.isOwnProfile&&_?.profileBoardView||"wide",{boardlessPinsEnabled:A}=(0,J.Xt)(l),E=Y.UQ[g??"NONE"],C={name:"BoardsResource",key:"boardsResource",options:{...e,sort:e.boardOrder,field_set_key:"profile_grid_item",username:n,isRetrievalHub:!0,redux_normalize_feed:!0,filter_types:E,privacyFilter:y?"public":"all"}},z={name:el.O.name,options:el.O.options({...e,filterAllPins:f&&!y,privacyFilter:y?"public":"all"},c)},B=(0,U.Z)(f&&g?C:z),R=(0,U.Z)(A?{name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:l}}:null),k=(0,s.v9)(({feeds:e})=>e[`boardless-pins:${l}`])||[],S=(0,s.v9)(t=>{let{username:l,boardOrder:i}=e;return(((e,t)=>{let l=`profileBoards:${(0,es.Z)(t.username,t.boardOrder,t.filter)}`;return e.feeds[l]})(t,{username:l,boardOrder:i,filter:E!==Y.UQ.NONE?E.toString():void 0})||[]).reduce((e,t)=>e.concat("board"===t.type&&t.onProfile&&(!y||"public"===t.profileGroup)?[t]:[]),[])}),O=(0,s.I0)();return(0,N.Z)(()=>{p({event_type:13,view_parameter:e.isOwnProfile?3106:3107,view_type:4,component:209})}),(0,m.jsx)(ec,{...e,boardKeys:S,boardlessPinsNormalized:k,boardlessPinsResource:R,boardsResource:B,handleBoardCreate:e=>{let t=c&&(0,T.Z)(e.privacy)?`?orbac_subject_id=${c}`:"";O((0,M.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),a.push(`${e.url||""}${t}`,{newBoard:!0})},i18n:t,invalidateFeeds:()=>O((0,eo.K8)(n)),invalidatePinBetterSaveResource:()=>O((0,M.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),invalidateRetrievalHubFeed:()=>O((0,M.jB)("BoardsResource",el.O.options({...e,filterAllPins:f&&!y}))),isBoardCreateExperiment:w,isBoardlessProfileEnabled:A,isProfilePreviewPage:y,isSelfPrivateProfile:f,profileBoardView:j,pwtSurfaceContext:(0,F.A)(),requestContext:(0,L.B)(),retrievalHubExpGroup:P,selfProfileBoardFilter:g,showRecentlyDeletedBoards:b})}ea(ec,"defaultProps",{boardKeys:[]});var eu=l(788836),eh=l(450705),ep=l(604488),ef=l(878788),em=l(858845),ex=l(742438);let eb=(0,r.lazy)(()=>l.e("9949").then(l.bind(l,431153)));function eg({username:e}){let t=(0,L.B)(),{checkExperiment:l}=(0,v.ru)(),i=(0,H.Z)(),s=(0,W.Z)(),a=(0,r.useRef)(null),[,n]=(0,r.useState)(!1);(0,r.useLayoutEffect)(()=>{n(!0)},[]);let[d,c]=(0,r.useState)(!1),_=(0,Y.WG)()?.boardSortOrder.get(e||"")??"",{data:u}=(0,ex.Z)(),{data:h}=(0,U.Z)({name:"UserMetadataResource",options:{user:{id:e}}});if(!u||!h)return null;let{most_recent_board_sort_order:p}=h,{has_custom_board_sorting_order:f=!1}=u,x=(0,em.Z)({user:u,viewer:i}),b=(0,G.q6)(i,u.id,s),g=i.isAuth&&void 0!==i.groupBoardCount&&i.groupBoardCount>0,y=(0,ep.Z)({hasCustomOrder:f,hasGroupBoard:g,isOwnProfile:x||b,mostRecentBoardSortOrder:p||void 0,updatedBoardOrder:_,requestContext:t}),P=!1===u.is_partner&&x&&l("web_retrieval_hub_profile_split_").anyEnabled,w=!P&&(x||b);return(0,m.jsxs)(o.kC,{direction:"column",gap:{row:0,column:2},children:[w&&(0,m.jsx)(o.xu,{paddingX:4,children:(0,m.jsxs)(o.kC,{justifyContent:"between",children:[(x||b)&&(0,m.jsx)(o.xu,{ref:a,children:(0,m.jsx)(eh.Z,{setVisibilityControlsModalOpen:c,user:u})}),(x||b)&&(0,m.jsx)(eu.Z,{currentTab:ef.un.SAVED})]})}),(0,m.jsx)(e_,{boardOrder:y,filterStories:!1,isOwnProfile:x||b,isRetrievalHub:P,mixPublicSecret:x||b,user:u,username:u.username}),d&&(0,m.jsx)(r.Suspense,{children:(0,m.jsx)(eb,{setVisibilityControlsModalOpen:c})})]})}var ey=l(646831);function eP(){let{data:e}=(0,ex.Z)(),t=(0,i.$B)();return(0,ey.S)(t.params.username,e?.id,13669),(0,m.jsx)(eg,{username:t.params.username})}},950883:function(e,t,l){l.d(t,{X:()=>i});let i="favorited"},2929:function(e,t,l){function i(e){return e===window?window.innerHeight:e.clientHeight}function r(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function o(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function s(e){return e===window?r():e.scrollTop}function a(){window&&window.scroll(0,0)}l.d(t,{MX:()=>s,S$:()=>r,Uy:()=>i,aZ:()=>o,vM:()=>a})},91479:function(e,t,l){l.d(t,{Z:()=>_});var i=l(667294),r=l(20256),o=l(934645),s=l(525839),a=l(15667),n=l(601686),d=l(785893);let c=({onClick:e,showShadow:t,size:l="lg",onMouseEnter:o})=>{let a=(0,s.ZP)();return(0,d.jsx)(i.Fragment,{children:(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{animation:t?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},onMouseEnter:o,rounding:"circle",children:(0,d.jsx)(r.hU,{accessibilityLabel:a._('Back', 'backButton.accessibilityLabel', 'Accessibility label for the button to navigate back to the previous page'),bgColor:"white",dataTestId:"back-icon-button",icon:"directional-arrow-left",iconColor:"darkGray",onClick:e,size:l})},"back-button-icon")})};function _({handleScroll:e,marginTop:t,onClick:l,showShadow:s,onMouseEnter:_}){let{closeupWithinMasonryEnabled:u,showProductDetailPage:h}=(0,n.x4)(),{isRTL:p}=(0,a.B)(),f=(0,o.Z)({showProductDetailPage:h});return(0,i.useEffect)(()=>e?(window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)):()=>{},[e]),(0,d.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...p?{right:0}:{left:u?0:-12}}},"data-test-id":"back-button",display:"flex",paddingX:4*!u,position:"relative",children:(0,d.jsx)(c,{marginTop:t,onClick:l,onMouseEnter:_,showShadow:s,size:u&&!f?"xl":"lg"})})}},914071:function(e,t,l){l.d(t,{Z:()=>r});var i=l(667294);function r(e,t){let l=(0,i.useRef)([]),[r,o]=(0,i.useState)(),[s,a]=(0,i.useReducer)(r??(()=>t),t),n=(0,i.useCallback)(t=>{r?a(t):(l.current.length||e().then(e=>{o(()=>e.default)}),l.current=[...l.current,t])},[e,r]);return(0,i.useEffect)(()=>{r&&(l.current.forEach(a),l.current=[])},[r]),[s,n]}},874837:function(e,t,l){l.d(t,{Z:()=>i});function i(e=0){return new Promise(t=>setTimeout(t,e))}},129046:function(e,t,l){l.d(t,{Z:()=>r,j:()=>i});let i=8,r=369},502066:function(e,t,l){l.d(t,{G:()=>u,Kl:()=>h,vo:()=>_});var i=l(667294),r=l(729434),o=l(791948),s=l(914071),a=l(785893);let n=()=>l.e("83726").then(l.bind(l,3571)),{Provider:d,get:c}=(0,r.Z)("NativeEngagements");function _({children:e}){let[t,l]=(0,s.Z)(n,[]);(0,o.Z8)("NativeInteractionsResource",e=>{l({type:"FETCH_COMPLETE",payload:e})}),(0,o.my)("NativeInteractionsResource",e=>{l({type:"FETCH_MORE_COMPLETE",payload:e})});let r=(0,i.useMemo)(()=>({dispatch:l,nativeEngagements:t}),[l,t]);return(0,a.jsx)(d,{value:r,children:e})}function u(){let{dispatch:e}=c();return(0,i.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function h(){let{nativeEngagements:e}=c();return e}},46731:function(e,t,l){l.d(t,{US:()=>m,X2:()=>b,mW:()=>x});var i=l(667294),r=l(575108),o=l(521009),s=l(729434),a=l(950883),n=l(791948),d=l(914071),c=l(785893);let _=()=>l.e("44343").then(l.bind(l,833234));function u(e,t,l=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:l}}}function h(e){return r.Z.create("InterestFollowResource",{interest_id:e,interest_list:a.X})}let{Provider:p,get:f}=(0,s.Z)("Topics");function m({children:e}){let[t,l]=(0,d.Z)(_,{}),r=e=>{l({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,n.Z8)("InterestFollowingResource",r),(0,n.Z8)("InterestResource",r);let o=(0,i.useMemo)(()=>({dispatch:l,topics:t}),[l,t]);return(0,c.jsx)(p,{value:o,children:e})}function x(){let{dispatch:e}=f(),t=(0,o.Z)();return(0,i.useMemo)(()=>({follow:async(l,i=!1)=>{e(u(l,!0,i));try{await h(l).callCreate({showError:!1}),t({event_type:601,object_id_str:l})}catch(t){e(u(l,!1,i))}},unfollow:async l=>{e(u(l,!1));try{await h(l).callDelete({showError:!1}),t({event_type:602,object_id_str:l})}catch(t){e(u(l,!0))}}}),[e,t])}function b(){let{topics:e}=f();return e}},790427:function(e,t,l){l.d(t,{$8:()=>c,Dk:()=>d,Fk:()=>r,fS:()=>n,lI:()=>o,mS:()=>a,qW:()=>s});var i=l(20256);let r=new i.Ry(1),o=new i.Ry(3),s=2,a=new i.Ry(s),n=3,d=new i.Ry(100),c=new i.H3([d])},45795:function(e,t,l){l.d(t,{Z:()=>tV});var i=l(667294),r=l(581722),o=l(616550),s=l(20256),a=l(345314),n=l(375584),d=l(217986),c=l(80691),_=l(980787),u=l(525839),h=l(15667),p=l(785893);function f({shuffle:e,onClick:t,refreshDrafts:l}){let{isRTL:r}=(0,h.B)(),{logContextEvent:o}=(0,_.u)(),[a,f]=(0,i.useState)(!1),m=(0,u.ZP)(),[x,b]=(0,i.useState)(!1),[g,y]=(0,i.useState)(!1),P=(0,i.useRef)(null),{id:v,images:w}=e,j=w&&(w["736x"]?.url||w["474x"]?.url||w["236x"]?.url||w.orig?.url),A={deleteDraft:m._('Delete draft', 'collageDraftCard.dropdown.delete', 'Text for the delete draft button')},E=()=>{f(!1)},C=async()=>{v&&(E(),await (0,c.Z)(v),l())};return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsxs)(s.xu,{onMouseEnter:()=>b(!0),onMouseLeave:()=>{b(!1),y(!1)},position:"relative",rounding:n.fw,width:"100%",children:[(0,p.jsx)(s.zd,{height:"100%",rounding:4,wash:!0,width:"100%",children:(0,p.jsx)(s.Ee,{alt:m._('Collage draft image', 'collageDraftCard.image', 'Collage draft image alt text'),naturalHeight:279,naturalWidth:157,src:j??void 0})}),x&&(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(s.xu,{color:"transparentDarkGray",height:"100%",left:!0,opacity:.6,position:"absolute",rounding:n.fw,top:!0,width:"100%"}),(0,p.jsxs)(s.xu,{bottom:!0,display:"flex",left:r,margin:2,position:"absolute",right:!r,children:[(0,p.jsx)(s.xu,{marginEnd:2,children:(0,p.jsx)(s.hU,{accessibilityLabel:m._('Edit button', 'collageDraftCard.edit', 'Icon indicating that a collage draft is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:()=>{o({event_type:101,element:16321,view_parameter:4136,view_type:635,aux_data:{collage_draft_id:v}}),t()},size:"md",tabIndex:-1})}),(0,p.jsxs)(s.xu,{children:[(0,p.jsx)(s.hU,{ref:P,accessibilityExpanded:g,accessibilityHaspopup:!0,accessibilityLabel:A.deleteDraft,bgColor:"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>y(e=>!e),selected:g,size:"md"}),g&&(0,p.jsx)(s.Lt,{anchor:P.current,id:`collage-draft-card-dropdown-${v}`,onDismiss:()=>y(!1),children:(0,p.jsx)(s.Lt.Item,{onSelect:()=>f(!0),option:{value:A.deleteDraft,label:A.deleteDraft}})})]})]})]})]}),a&&(0,p.jsx)(d.Z,{handleDelete:C,onDismiss:E})]})}var m=l(302148);function x({draftsCount:e,draftsResource:t,scrollableDivRef:l}){let{isFetching:r,refresh:a,shuffles:n,fetchMore:d}=t,c=(0,u.ZP)(),_=(0,o.k6)();if(!n||0===n.length)return null;let h=e>0?(0,m.Wc)(c._('Drafts ({{ value }})', 'profile.collagesTab.draftsCount', 'Title for the Collages Drafts Feed. It shows the number of drafts. value: Number of collage drafts.'),{value:e.toString()}):c._('Drafts', 'profile.collagesTab.draftsCount', 'Title for the Collages Drafts Feed when there are no drafts.');return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(s.xu,{marginBottom:4,children:(0,p.jsx)(s.X6,{size:"400",children:h})}),(0,p.jsx)(s.kC,{alignItems:"start",height:"100%",justifyContent:"start",width:"100%",wrap:!0,children:n?(0,p.jsx)(s.Rk,{columnWidth:157,gutterWidth:16,items:n||[],layout:"flexible",loadItems:d,minCols:2,renderItem:({data:e})=>(0,p.jsx)(f,{onClick:()=>{var t;t=e.id??"",_.push(`/collage-creation-tool/?draftId=${t}`)},refreshDrafts:a,shuffle:e}),scrollContainer:()=>l.current||window}):(0,p.jsx)(s.xu,{margin:"auto",children:(0,p.jsx)(s.xH,{show:r})})})]})}var b=l(318812);function g(){let e=(0,u.ZP)(),{logContextEvent:t}=(0,_.u)();return(0,p.jsx)(s.xu,{margin:"auto",children:(0,p.jsx)(s.xu,{padding:16,children:(0,p.jsxs)(s.kC,{direction:"column",children:[(0,p.jsx)(s.X6,{align:"center",size:"500",children:e._('Make your first collage', 'collageBuilder.profile.collages.emptyState.title', 'Title for empty state in profile collages tab')}),(0,p.jsx)(s.xu,{marginTop:3,children:(0,p.jsx)(s.xv,{align:"center",size:"300",children:e._('Snip-and-paste the best parts of your favorite Pins to create something completely new.', 'collageBuilder.profile.collages.emptyState.message', 'Message for empty state in profile collages tab')})}),(0,p.jsx)(s.xu,{marginEnd:"auto",marginStart:"auto",marginTop:3,children:(0,p.jsx)(s.ZP,{color:"red",href:b.ZP,onClick:()=>{t({event_type:101,component:15085,element:13844,view_type:215})},size:"lg",text:e._('Create collage', 'collageBuilder.profile.collages.emptyState.button', 'Button text for empty state in profile collages tab')})})]})})})}var y=l(845421);function P({publishedCount:e,publishedCollagesResource:t,scrollableDivRef:l}){let{fetchMore:r,isFetching:o,isRefreshing:a,publishedCollages:n}=t,d=(0,u.ZP)();if(null===n)return null;let c=(0,m.Wc)(d._('Published ({{ value }})', 'profile.collagesTab.publishedCount', 'Title for the Collages Published Feed. It shows the number of published collages. value: Number of published collages.'),{value:e.toString()});return(0,p.jsx)(s.xu,{paddingY:4,children:!n||a?(0,p.jsx)(s.xu,{margin:"auto",children:(0,p.jsx)(s.xH,{show:o})}):(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(s.xu,{marginBottom:4,children:(0,p.jsx)(s.X6,{size:"400",children:c})}),(0,p.jsx)(s.Rk,{columnWidth:157,gutterWidth:16,items:n||[],layout:"flexible",loadItems:r,minCols:2,renderItem:({data:e,itemIdx:t})=>(0,p.jsx)(s.xu,{marginBottom:2,marginEnd:4,width:157,children:(0,p.jsx)(y.ZP,{duploQueryRef:null,pinId:e.id,slotIndex:t,surface:"PublishedCollages",viewType:1})},e.id),scrollContainer:()=>l.current||window})]})})}var v=l(327025);function w({user:e}){let t=(0,a.Z)(),l=(0,v.Z)(),{shuffles:r}=t,{publishedCollages:o}=l,n=(r?.length||0)>0,d=(o?.length||0)>0,c=(0,i.useRef)(null),_=(0,i.useRef)(null),{collage_published_count:u=0,collage_draft_count:h=0}=e||{};return(0,p.jsx)(i.Fragment,{children:(0,p.jsx)(s.xu,{ref:c,height:"100%",marginEnd:"auto",marginStart:"auto",width:"85%",children:r&&o?(0,p.jsxs)(i.Fragment,{children:[r&&o&&0===r.length&&0===o.length&&(0,p.jsx)(g,{}),n&&(0,p.jsx)(s.xu,{ref:c,children:(0,p.jsx)(x,{draftsCount:h,draftsResource:t,scrollableDivRef:c})}),d&&(0,p.jsx)(s.xu,{ref:_,children:(0,p.jsx)(P,{publishedCollagesResource:l,publishedCount:u,scrollableDivRef:_})})]}):(0,p.jsx)(s.xH,{show:!0})})})}var j=l(515829),A=l(521009),E=l(679422),C=l(821342),z=l(105433),Z=l(636921),B=l(502066),R=l(267237),k=l(110024),T=l(143665),S=l(633301),I=l(839626),H=l(369416),O=l(274320),D=l(2929),F=l(25837),L=l(878788),M=l(70993);let U=`
.ProfileTabsFullName-enter {
  opacity: 0;
}

.ProfileTabsFullName-enter-active {
  opacity: 1;
  transition: opacity 300ms ease-in-out;
}

.ProfileTabsFullName-exit {
  opacity: 1;
}

.ProfileTabsFullName-exit-active {
  opacity: 0;
  transition: opacity 300ms ease-in-out;
}
`;function V({headerHeight:e,isOwnProfile:t,selectedTab:l,user:r}){let{logContextEvent:a}=(0,_.u)(),n=(0,u.ZP)(),d=(0,o.k6)(),c=(0,o.TH)(),{checkExperiment:h}=(0,O.ru)(),f=(0,i.useRef)(null),m=(0,i.useRef)(null),{eligible_profile_tabs:x=[],id:b,username:g}=r??{},y=new s.H3([new s.Ry(F.fe)]),P=c.pathname.includes(`/${M.qV}/`),v=!1===r.is_partner&&t&&h("web_retrieval_hub_profile_split_").anyEnabled,w=v&&h("web_collage_creation").anyEnabled,j=v&&[M.sz.enabled_with_unorganized_feed,M.sz.enabled_with_log_fix].includes(h("web_retrieval_hub_profile_split_").group),[A,E]=(0,i.useState)(0),[C,z]=(0,i.useState)(!0),Z=(0,i.useRef)(null),B=()=>{E((0,D.S$)())},R=(0,i.useCallback)(e=>{e===L.un.RETRIEVAL_HUB_BOARDS?a({event_type:101,component:14461,element:j?void 0:10612,view_type:4,view_parameter:j?3106:4047}):e===L.un.RETRIEVAL_HUB_PINS?a({event_type:101,component:j?13668:14460,element:j?void 0:10612,view_type:4,view_parameter:j?3106:4047}):a({event_type:101,component:L.D1[e],object_id_str:b,view_type:4,view_parameter:t?3106:3107})},[j,t,a,b]);(0,i.useEffect)(()=>(window.addEventListener("scroll",B),()=>{window.removeEventListener("scroll",B)}));let k=(0,i.useMemo)(()=>({1:{tab:L.un.CREATED,text:n._('Created', 'profileHeader.tabs.created', 'Label for Created tab on profile header'),ref:f},0:{tab:L.un.SAVED,text:n._('Saved', 'profileHeader.tabs.saved', 'Label for Saved tab on profile header')},3:{tab:L.un.TRIED,text:n._('Tried', 'profileHeader.tabs.tried', 'Label for Tried tab on profile header')}}),[f,n]),T=(0,i.useCallback)(({isDefault:e=!1,ref:t,tab:i,text:r})=>({href:`/${g}/${i}/`,id:`${i}-profile-tab`,isActive:l===i,isDefault:e,onClick:()=>R(i),ref:t,text:r}),[l,R,g]),V=(0,i.useMemo)(()=>{let e=[];return v&&P?(e.push(T({...k[1],tab:L.un.PREVIEW_PROFILE_CREATED})),e.push(T({...k[0],tab:L.un.PREVIEW_PROFILE_SAVED}))):v?(e.push(T({ref:m,tab:L.un.RETRIEVAL_HUB_PINS,text:n._('Pins', 'profileHeader.tabs.selfProfilePins', 'Label for Pins tab on self profile header')})),e.push(T({ref:f,tab:L.un.RETRIEVAL_HUB_BOARDS,text:n._('Boards', 'profileHeader.tabs.selfProfileBoards', 'Label for Boards tab on self profile header')})),w&&e.push(T({tab:L.un.COLLAGES,text:n._('Collages', 'profileHeader.tabs.collages', 'Label for Collages tab on self profile header')}))):x.forEach(t=>{let{is_default:l,tab_type:i}=t,r=void 0===i?null:k[i];r&&e.push(T({...r,isDefault:l}))}),e},[x,T,n,w,P,v,k]),N=(0,i.useMemo)(()=>V.some(e=>e.id===`${L.un.CREATED}-profile-tab`&&e.isActive),[V]),W=(0,i.useMemo)(()=>{let e=V.findIndex(({isActive:e})=>e);return -1!==e?e:Math.max(V.findIndex(({isDefault:e})=>e),0)},[V]);return V.length<2?(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(H.Z,{unsafeCSS:U}),(0,p.jsx)(S.Z,{classNames:"ProfileTabsFullName",in:!!e&&A>e,nodeRef:Z,timeout:300,unmountOnExit:!0,children:(0,p.jsx)(s.xu,{ref:Z,children:(0,p.jsx)(s.X6,{size:"400",children:r.full_name})})})]}):(0,p.jsxs)(s.xu,{children:[(0,p.jsx)(s.mQ,{activeTabIndex:W,onChange:({event:e,activeTabIndex:t})=>{let l=V[t];!l.isActive&&(l.onClick&&l.onClick(),0!==e.button||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),d.push(l.href)))},tabs:V.map(({href:e,id:t,ref:l,text:i,isActive:r})=>r?{id:t,ref:l,text:i}:{href:e,id:t,ref:l,text:i})}),t&&N&&f.current&&(0,p.jsx)(s.mh,{zIndex:y,children:(0,p.jsx)(I.Qp,{anchor:f.current,experienceIds:[505363],idealDirection:"down",placementId:1000464,positionRelativeToAnchor:!1,showCaret:!0})}),v&&l===L.un.RETRIEVAL_HUB_BOARDS&&C&&(0,p.jsx)(I.a3,{eligibleIds:[M.Lz],placementId:19,children:(0,p.jsx)(s.mh,{zIndex:y,children:(0,p.jsx)(s.pl,{accessibilityLabel:n._('Introducing a new way to view all of your Pins', 'profileHeader.tooltip.selfProfileEducationalTooltip', 'Educational tooltip for the self profile tabs'),anchor:m.current,id:"self-profile-educational-tooltip",idealDirection:"down",message:n._('Introducing a new way to view all of your Pins', 'profileHeader.tooltip.selfProfileEducationalTooltip', 'Educational tooltip for the self profile tabs'),onDismiss:()=>z(!1)})})})]})}var N=l(858845),W=l(913852);function G({headerHeight:e,selectedTab:t,user:l}){let i=(0,C.Z)(),r=(0,N.Z)({user:l,viewer:i}),o=(0,T.G)(l),s=t===L.un.PREVIEW_PROFILE?L.un.PREVIEW_PROFILE_SAVED:t,a=o?k.TL:0;return(0,p.jsx)(R.Z,{buttonsLeft:[],buttonsRight:[],headerHeight:e,offset:a,shouldStick:!0,stickyZIndex:W.Zu,children:(0,p.jsx)(V,{headerHeight:e,isOwnProfile:r,selectedTab:s,user:l})})}var $=l(647709),J=l(355940),X=l(424297),q=l(46158),Y=l(559100),K=l(694955),Q=l(697473),ee=l(448505),et=l(7872),el=l(129046),ei=l(287952),er=l(280670),eo=l(199593),es=l(281239),ea=l(934318),en=l(683444),ed=l(63992),ec=l(204130),e_=l(547712),eu=l(399253),eh=l(434210),ep=l(691846),ef=l(419007),em=l(931107),ex=l(136070),eb=l(535360),eg=l(706147),ey=l(78762);let eP=(0,ey.Z)(()=>Promise.resolve().then(l.bind(l,970222)),void 0,e=>970222,"app-packages-experiences-Experiences-ExperienceTooltip-ExperienceTooltip"),ev=(0,ey.Z)(()=>Promise.resolve().then(l.bind(l,860880)),void 0,e=>860880,"app-www-profile-ProfileHeader-ViewerCount"),ew=(0,ey.Z)(()=>Promise.all([l.e("89788"),l.e("15398"),l.e("80294")]).then(l.bind(l,218825)),{fallback:(0,p.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"-60px"}},height:el.Z,position:"relative"})},e=>218825,"ProfileCover"),ej=(0,ey.Z)(()=>l.e("47227").then(l.bind(l,797153)),{ssr:!1},e=>797153,void 0),eA=(0,ey.Z)(()=>Promise.all([l.e("54796"),l.e("97261")]).then(l.bind(l,246658)),{ssr:!1},e=>246658,void 0),eE=Object.freeze({504214:"/settings#profile",504821:"/settings/personal-information#community-information"}),eC="none",ez="messageUpsell",eZ="shareUpsell";function eB({onClickReportProfile:e,onCreatePincodeClick:t,onToggleBlock:l,onToggleFollow:r,setHeaderHeight:a,user:n}){let{logContextEvent:d}=(0,_.u)(),c=(0,u.ZP)(),h=(0,C.Z)(),f=(0,i.useRef)(null),m=(0,i.useRef)(null),[x,b]=(0,i.useState)(eC),[g,y]=(0,i.useState)(!1),P=(0,ee.Z)(),v=(0,E.Z)(),w=(0,o.k6)(),{experienceForPlacement:j}=(0,I.oS)(19),A=(0,N.Z)({user:n,viewer:h}),z=(0,i.useRef)(null);!function(e,t){let l=null,r=null,o=null,s=null,a=()=>{if(!l)return;let t=l.clientHeight,i=l.clientWidth;(r!==t||o!==i)&&(r=t,o=i,e(l)),s=window.requestAnimationFrame(a)};(0,i.useEffect)(()=>{var i;return t.current&&(i=t.current,l&&l===i||(l=i,r=i.clientHeight,o=i.clientWidth,e(l),a())),()=>{l=null,window.cancelAnimationFrame(s)}},[t])}(e=>{a?.(e.clientHeight)},f);let{is_primary_website_verified:Z,full_name:B,impressum_url:R,is_private_profile:k,is_verified_merchant:T,username:S,instagram_data:H,verified_identity:O,website_url:D}=n??{},F=A||(0,et.N1)(h,n,P),L=!(0,et.N1)(h,n,P),{dropdownOpen:M,setObjectAttachment:U}=(0,eo.Z)(),[V,W]=(0,i.useState)(!1),G=(0,ex.Z)(n),$=h.isLimitedLogin,el=(0,X.j3)()&&!!R,ey=O?.verified||T,eB=(0,Y.l)(n),eR="";eR=A?c._('Your profile is private. Only approved followers can view your profile, Pins, boards, followers and following lists.', 'privateProfileHeaderAuthDesktop.privateIcon.tooltip.self', 'Text on private profile icon tooltip.'):c._('This profile is private. Only approved followers can view their profile, Pins, boards, followers and following lists.', 'privateProfileHeaderAuthDesktop.privateIcon.tooltip.external', 'Text on private profile icon tooltip.');let ek=D?.length||0,eT=R?.length||0,eS=eh.U-ek-eT,eI=(0,p.jsx)(eh.Z,{maxLength:eS,setShowMessageFlyout:y,user:n}),eH=el?(0,p.jsx)(s.rU,{display:"inlineBlock",href:R,underline:"hover",children:(0,p.jsx)(q.Z,{inline:!0,weight:"bold"})}):null,eO=D?(0,p.jsx)(i.Fragment,{children:(0,p.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,p.jsxs)(s.rU,{display:"inlineBlock",href:D,onClick:()=>{d({event_type:101,component:13056,element:12890,view_type:4,view_parameter:A?3106:3107,aux_data:{website_link:D}})},rel:"nofollow",target:"blank",underline:"hover",children:[Z&&!ey&&(0,p.jsx)(ed.Z,{})," ",(0,em.Z)(D)]})})}):null;return!k||A||n?.explicitly_followed_by_me?(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(s.xu,{ref:f,"data-test-id":"profile-header",display:"flex",justifyContent:"center",marginBottom:8,children:(0,p.jsx)(s.xu,{marginTop:G?void 0:3,maxWidth:G?656:488,width:"100%",children:(0,p.jsxs)(s.kC,{alignItems:"center",direction:"column",gap:{row:0,column:2},justifyContent:"center",children:[(0,p.jsxs)(s.xu,{width:G?656:void 0,children:[G&&!$&&(0,p.jsx)(ew,{user:n}),(0,p.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,p.jsx)(en.Z,{ref:z,onTouch:t,user:n,viewer:h}),(0,p.jsx)(I.N,{anchors:{3020:z.current},idealDirection:"down",onAnchorTouch:"complete",placementId:19,scrollToDismiss:!0})]})]}),(0,p.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,p.jsxs)(s.X6,{accessibilityLevel:1,align:"center",size:"700",children:[(0,p.jsx)(s.xu,{"data-test-id":"profile-name",display:"inlineBlock",children:B}),ey&&(0,p.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},display:"inlineBlock",marginStart:2,children:(0,p.jsx)(er.Z,{isVerifiedIdentity:!!O?.verified,isVerifiedMerchant:T,size:"lg"})}),T&&(0,p.jsx)(er.O,{children:(0,p.jsx)(s.xv,{align:"center",color:"shopping",size:"200",children:c._('Verified Merchant', 'profileHeader.verifiedMerchantText', 'Text showing that user is a verified merchant')})}),k&&k&&(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(s.xu,{display:"inlineBlock",marginTop:4,paddingX:2,children:(0,p.jsx)(s.u,{link:(0,p.jsx)(s.xv,{color:"inverse",size:"100",weight:"bold",children:(0,p.jsx)(s.rU,{href:K.Pm9,target:"blank",children:c._('Learn more', 'privateProfileHeaderAuthDesktop.privateIcon.learnMoreLink', 'Tooltip link to access more info about private profiles')})}),text:eR,zIndex:new s.Ry(10),children:(0,p.jsx)(s.xu,{"data-test-id":"profile-lock-icon",children:(0,p.jsx)(s.JO,{accessibilityLabel:c._('private icon', 'privateProfileHeaderAuthDesktop.privateIcon', 'private icon'),icon:"lock",size:24})})})}),!A&&(0,p.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},display:"inlineBlock",children:(0,p.jsx)(ef.Z,{onClickReportProfile:e,onToggleBlock:l,showUnblockOption:!0,user:n})})]})]}),!!n?.is_inspirational_merchant&&(0,p.jsx)(J.Z,{name:"InspirationalBadges",children:(0,p.jsx)(e_.Z,{isOwnProfile:A,userId:n.id})}),eO||eH||eI?(0,p.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},marginTop:2,children:(0,p.jsx)(Q.Z,{inline:!0,items:[eO,eH,null,eI]})}):void 0,(0,p.jsx)(eb.Z,{color:"subtle",instagramUsername:H?.username,pronounsText:eB,textSize:"200",username:S})]}),(0,p.jsx)(ec.Z,{user:n}),G&&n?.profile_views!==-1&&(0,p.jsx)(ev,{user:n}),L&&(0,p.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,p.jsxs)(s.kC,{gap:{row:7,column:0},children:[!k&&(0,p.jsx)(eg.Z,{user:n}),(0,p.jsxs)(s.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,p.jsx)(ep.Z,{setShowMessageFlyout:y,showMessageFlyout:g,user:n}),V&&(0,p.jsx)(ei.Z,{onCancel:()=>{W(!1)},onConfirm:()=>{W(!1)},onToggleBlock:l,user:n}),n?.blocked_by_me?(0,p.jsx)(s.zx,{onClick:()=>{W(!0)},size:"lg",text:c._('Unblock', 'profileHeader.unblockButton', 'Button on a user profile to unblock that user')}):(0,p.jsx)(es.Z,{button:({followText:e,onClick:t})=>(0,p.jsx)(s.xu,{"data-test-id":n?.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,p.jsx)(s.Fm,{color:"primary",onClick:t,selected:n?.explicitly_followed_by_me??!1,size:"lg",text:e})}),fullName:B,id:n?.id??"",imageUrl:n?.image_large_url??"",isOwnProfile:!1,onUserFollow:r,profileUrl:`/${n?.username??""}/`,userFollowed:n?.explicitly_followed_by_me})]}),!k&&(0,p.jsx)(ea.Z,{userId:n?.id??"",children:({showSendMessageFlyout:t})=>(0,p.jsx)(ef.Z,{onClickReportProfile:e,onToggleBlock:l,showSendMessageFlyout:t,user:n})})]})}),n&&h&&x===ez&&(0,p.jsx)(ej,{followee:n,follower:h,onDismiss:()=>b(eC),viewParameter:3107,viewType:4}),n&&h&&h.isAuth&&h.id&&x===eZ&&(0,p.jsx)(eA,{followee:n,follower:h,onClickShareLink:()=>{b(eC),U({type:"follow_invite",id:h.id}),M()},onDismiss:()=>b(eC),viewParameter:3107,viewType:4}),F&&(0,p.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,p.jsxs)(s.kC,{gap:{row:2,column:0},children:[(0,p.jsx)(eg.Z,{useGestaltButton:!0,user:n}),A&&(0,p.jsx)(s.xu,{"data-test-id":"edit-button",children:(0,p.jsxs)(s.kC,{gap:{row:2,column:0},children:[(0,p.jsx)(s.zx,{ref:m,onClick:({event:e})=>{if(v){e.stopPropagation(),v();return}d({event_type:101,element:94}),w.push("/settings#profile")},size:"lg",text:c._('Edit profile', 'profileHeader.editProfileButton', 'Button on a user profile to edit profile')}),(0,p.jsx)(I.N,{anchors:{3019:m.current},idealDirection:"down",onAnchorTouch:"complete",placementId:19,scrollToDismiss:!0})]})})]})})]})})}),m&&(0,p.jsx)(eP,{anchor:m.current,experienceIds:[504214,504821],flyoutSize:312,hasFullWidthButton:!1,idealDirection:"up",onClickComplete:()=>{w.push(eE[j?.experience_id])},placementId:19,showCaret:!0,textAlign:"center",textWeight:"normal"})]}):(0,p.jsx)(eu.Z,{handleFollowSuccessFromInvite:()=>{b(n?.explicitly_following_me?ez:eZ)},onClickReportProfile:e,onToggleBlock:l,onToggleFollow:r,user:n,viewParameter:A?3106:3107,viewType:4})}var eR=l(562277),ek=l(788836),eT=l(450705),eS=l(129950),eI=l(992225),eH=l(918920),eO=l(744862),eD=l(886981),eF=l(341742),eL=l(246145),eM=l(493812);let eU=(0,ey.Z)(()=>Promise.all([l.e("1671"),l.e("6332")]).then(l.bind(l,465702)),void 0,e=>465702,"app-www-followersAuthDesktop-FollowersModalContainer"),eV=(0,ey.Z)(()=>Promise.all([l.e("25418"),l.e("88142"),l.e("56595"),l.e("94898")]).then(l.bind(l,115718)),void 0,e=>115718,"app-www-ProfileFollowers-ProfileFollowersModalGraphQL"),eN=(0,i.lazy)(()=>l.e("9949").then(l.bind(l,431153))),eW=new s.H3([W.c6]);function eG(e){let{tab:t,user:l}=e,r=(0,u.ZP)(),a=(0,o.k6)(),{logContextEvent:n}=(0,_.u)(),d=(0,eM.WG)(),[c,h]=(0,i.useState)(null),{checkExperiment:f}=(0,O.ru)(),m=f("web_curation_board_create_entry_points").anyEnabled,{selfProfileBoardFilter:x,setSelfProfileBoardFilter:b,selfProfilePinFilter:g,setSelfProfilePinFilter:y}=d??{selfProfileBoardFilter:null,selfProfilePinFilter:eM.JH.NONE,setSelfProfileBoardFilter:()=>{}},P=e=>{e===x?b(void 0):b(e)},[v,w]=(0,i.useState)(!1),j=[M.sz.enabled_with_unorganized_feed,M.sz.enabled_with_log_fix].includes(f("web_retrieval_hub_profile_split_").group),A=t===L.un.SAVED?L.un.RETRIEVAL_HUB_BOARDS:t;(0,eF.Z)(()=>{A===L.un.RETRIEVAL_HUB_PINS?n({event_type:13,view_type:4,view_parameter:j?3106:4047,component:j?13668:14460}):A===L.un.RETRIEVAL_HUB_BOARDS&&n({event_type:13,view_type:4,view_parameter:4047,component:14461})});let{about:E,archived_board_count:C=0,secret_board_count:z=0,image_xlarge_url:Z,full_name:B="",follower_count:k=0,following_count:T=0,avatar_color_index:S,username:I,interest_following_count:H=0}=l,D=(0,eD.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!0,page_size:eH.ZP.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:!0,username:I}}),F=T-(H??0),U=()=>{h(null)},N=e=>{h(e),n({event_type:101,view_type:4,view_parameter:j?3106:4047,component:13056,element:"followers"===e?42:41})},W=[],G=[];if(A===L.un.RETRIEVAL_HUB_PINS){let e=[];l.pin_count&&(e=[(0,p.jsx)(s.xu,{children:(0,p.jsx)(s.Fm,{dataTestId:"favorites_pins_button",iconStart:"star",onClick:function(){if(y)switch(n({event_type:101,view_type:4,view_parameter:j?3106:4047,component:j?13668:14460,element:14264,aux_data:{profile_filter:eM.JH.FAVORITED}}),g){case eM.JH.CREATED_BY_ME:y(eM.JH.FAVORITED_AND_CREATED);break;case eM.JH.FAVORITED:y(eM.JH.NONE);break;case eM.JH.FAVORITED_AND_CREATED:y(eM.JH.CREATED_BY_ME);break;case eM.JH.NONE:y(eM.JH.FAVORITED);break;default:y(eM.JH.NONE)}},selected:g===eM.JH.FAVORITED||g===eM.JH.FAVORITED_AND_CREATED,text:r._('Favorites', 'SelfProfileHeader.favorites', 'Favorites filter for the self profile header section')})},1),(0,p.jsx)(s.xu,{children:(0,p.jsx)(s.Fm,{dataTestId:"created_by_you_button",onClick:function(){if(y)switch(n({event_type:101,view_type:4,view_parameter:j?3106:4047,component:j?13668:14460,element:14264,aux_data:{profile_filter:eM.JH.CREATED_BY_ME}}),g){case eM.JH.CREATED_BY_ME:y(eM.JH.NONE);break;case eM.JH.FAVORITED:y(eM.JH.FAVORITED_AND_CREATED);break;case eM.JH.FAVORITED_AND_CREATED:y(eM.JH.FAVORITED);break;case eM.JH.NONE:y(eM.JH.CREATED_BY_ME);break;default:y(eM.JH.NONE)}},selected:g===eM.JH.CREATED_BY_ME||g===eM.JH.FAVORITED_AND_CREATED,text:r._('Created by you', 'SelfProfileHeader.createdbyyou', 'Created by you filter for the self profile header section')})},2)]),W=[(0,p.jsx)(eI.Z,{},0),...e],G=m?[(0,p.jsx)(ek.Z,{currentTab:A},0)]:[(0,p.jsx)(eS.Z,{},0)]}else A===L.un.COLLAGES?W=[]:(W=[(0,p.jsx)(eT.Z,{setVisibilityControlsModalOpen:w,user:l},0),(0,p.jsx)(s.xu,{children:(0,p.jsx)(s.Fm,{onClick:()=>P(eM.ET.GROUP),selected:x===eM.ET.GROUP,text:r._('Group', 'SelfProfileHeader.group', 'Group filter for the self profile header section')})},1)],z>0&&W.push((0,p.jsx)(s.xu,{children:(0,p.jsx)(s.Fm,{onClick:()=>P(eM.ET.SECRET),selected:x===eM.ET.SECRET,text:r._('Secret', 'SelfProfileHeader.secret', 'Secret filter for the self profile header section')})},2)),C>0&&W.push((0,p.jsx)(s.xu,{children:(0,p.jsx)(s.Fm,{onClick:()=>P(eM.ET.ARCHIVED),selected:x===eM.ET.ARCHIVED,text:r._('Archived', 'SelfProfileHeader.archived', 'Archived filter for the self profile header section')})},3)),G=[(0,p.jsx)(ek.Z,{currentTab:A},0)]);return(0,p.jsx)(s.Le,{top:80,zIndex:eW,children:(0,p.jsxs)(s.xu,{color:"default",width:"100%",children:[(0,p.jsxs)(s.xu,{alignItems:"center","data-test-id":"self-profile-header",display:"flex",justifyContent:"between",marginEnd:"auto",marginStart:"auto",paddingY:5,width:"85%",wrap:!0,children:[(0,p.jsxs)(s.kC,{justifyContent:"between",width:"100%",children:[(0,p.jsx)(s.kC,{alignItems:"center",height:"inherit",justifyContent:"start",minWidth:300,children:(0,p.jsx)(s.X6,{children:r._('Your saved ideas', 'SelfProfileHeader.title', 'Title for the self profile header section')})}),(0,p.jsx)(s.xu,{children:(0,p.jsxs)(s.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:[(0,p.jsx)(s.xu,{alignItems:"center",display:"flex",height:60,justifyContent:"center",marginEnd:3,rounding:"circle",width:60,children:(0,p.jsx)(eO.qE,{color:S,name:B,size:"lg",src:Z})}),(0,p.jsxs)(s.xu,{direction:"column",marginEnd:6,mdDisplay:"flex",smDisplay:"none",children:[(0,p.jsx)(s.xu,{"data-test-id":"profile-name",maxWidth:500,children:(0,p.jsx)(s.xv,{lineClamp:2,size:"400",weight:"bold",children:B})}),(0,p.jsx)(s.xu,{marginBottom:1,marginTop:1,maxWidth:500,children:(0,p.jsx)(s.xv,{align:"start",lineClamp:2,size:"200",children:E})}),(0,p.jsx)(s.xu,{children:(0,p.jsx)(Q.Z,{items:[k&&k>=0?(0,p.jsx)(eL.Z,{count:k,onClick:()=>N("followers"),size:"200",variant:"followers"}):null,F>=0?(0,p.jsx)(eL.Z,{count:F,onClick:()=>N("following"),size:"200",variant:"following"}):null]})})]}),(0,p.jsx)(s.xu,{children:(0,p.jsx)(s.zx,{color:"gray",dataTestId:"selfProfileHeader-view-profile-button",fullWidth:!0,onClick:()=>{n({event_type:101,view_type:4,view_parameter:j?3106:4047,component:13056,element:12601}),a.push(`/${I}/${M.qV}/`)},size:"md",text:r._('View profile', 'SelfProfileHeader.button', 'Button that redirects to a user public profile')})})]})})]}),(0,p.jsx)(s.xu,{marginTop:3,children:(0,p.jsx)(V,{isOwnProfile:!0,selectedTab:A,user:l})})]}),(0,p.jsx)(s.xu,{marginEnd:"auto",marginStart:"auto",width:"85%",children:(0,p.jsx)(R.Z,{buttonsLeft:W,buttonsRight:G,paddingX:0,shouldStick:!1})}),"followers"===c&&(0,p.jsx)(eV,{onDismiss:U,totalFollowersCount:k}),"following"===c&&(0,p.jsx)(eU,{followersResource:D,onDismiss:U,totalFollowersCount:F,user:l,variant:c}),v&&(0,p.jsx)(i.Suspense,{children:(0,p.jsx)(eN,{setVisibilityControlsModalOpen:w})})]})})}let e$=(0,ey.Z)(()=>Promise.all([l.e("75348"),l.e("89788"),l.e("15398"),l.e("64913")]).then(l.bind(l,510808)),void 0,e=>510808,"app-www-profile-ProfileHeader-BusinessProfileHeader-BusinessProfileHeader");function eJ(e){let t=(0,$.HG)(),l=(0,C.Z)(),{tab:i,user:r,isRetrievalHub:o}=e;return(0,T.G)(r)?(0,p.jsx)(e$,{...e}):o?(0,p.jsx)(eG,{tab:i,user:r}):l?.isAuth&&t?(0,p.jsx)(eB,{...e}):(0,p.jsx)(eR.Z,{...e})}function eX({avatarUrl:e,contentsRight:t,merchantName:l,text:i,username:r,accessibilityLevel:o}){return(0,p.jsxs)(s.kC,{alignItems:"stretch",height:80,justifyContent:"between",children:[(0,p.jsx)(s.xu,{column:2,"data-test-id":"minimal-partner-header"}),(0,p.jsxs)(s.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,p.jsx)(s.xu,{marginEnd:2,children:(0,p.jsx)(s.Tg,{href:`/${r}`,rounding:"circle",children:(0,p.jsx)(eO.qE,{name:l,size:"md",src:e})})}),(0,p.jsx)(s.rU,{href:`/${r}/`,underline:"none",children:(0,p.jsx)(s.X6,{accessibilityLevel:o,size:"600",children:i})})]}),(0,p.jsx)(s.xu,{alignItems:"center",column:2,display:"flex",justifyContent:"end",children:t})]})}var eq=l(401450),eY=l(793698);function eK(e,t,l){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var i=l.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}let eQ=(0,i.lazy)(()=>Promise.all([l.e("93961"),l.e("10249")]).then(l.bind(l,656652)));class e0 extends i.Component{constructor(...e){super(...e),eK(this,"state",{currentModal:null}),eK(this,"handleClickCreatePincode",()=>{let{requireAuth:e}=this.props;if(e)return void e();this.setState({currentModal:"createPincode"})}),eK(this,"handleClickReportProfile",()=>{let{requireAuth:e}=this.props;if(e)return void e();this.setState({currentModal:"reportProfile"})}),eK(this,"handleHideModal",()=>this.setState({currentModal:null})),eK(this,"handleToggleBlock",()=>{let{isUserBlocked:e,requireAuth:t}=this.props;if(t)return void t();e?this.unblockUser():this.setState({currentModal:"blockUser"})}),eK(this,"unblockUser",()=>{let{unblockUser:e,user:t}=this.props;e(t.id||"")}),eK(this,"handleBlockUser",()=>{let{blockUser:e,user:t}=this.props;e(t.id||""),this.props.showBlockToastMessage(),this.setState({currentModal:null})}),eK(this,"handleToggleFollow",()=>{let e=!this.props.user.explicitly_followed_by_me;this.props.onToggleFollow?.(e)})}renderModal(){let{currentModal:e}=this.state,{user:t,isUserBlocked:l,unblockUser:r,blockUser:o}=this.props;return(0,p.jsx)(i.Suspense,{children:(0,p.jsx)(eQ,{blockUser:o,currentModal:e,handleBlockUser:this.handleBlockUser,handleHideModal:this.handleHideModal,isUserBlocked:l,unblockUser:r,user:t})})}render(){let{minimalPartnerHeader:e,tab:t,user:l,headerHeight:r,ownProfile:o,setHeaderHeight:s,showContent:a,isRetrievalHub:n}=this.props,{currentModal:d}=this.state,c=o||(l.eligible_profile_tabs?.length??0)>1;return e?(0,p.jsx)(eX,{avatarUrl:l.image_medium_url??"",merchantName:l.full_name??"",text:l.full_name??"",username:l.username??""}):(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(eJ,{isRetrievalHub:n,onClickReportProfile:this.handleClickReportProfile,onCreatePincodeClick:this.handleClickCreatePincode,onToggleBlock:this.handleToggleBlock,onToggleFollow:this.handleToggleFollow,setHeaderHeight:s,tab:t,user:l}),a&&!n&&c&&(0,p.jsx)(G,{headerHeight:r,selectedTab:t,user:l}),d&&this.renderModal()]})}}function e1(e){let t=(0,r.I0)(),l=(0,eY.dM)(),{user:o}=e,s=l?.[o.id??""]||o,a=(0,E.Z)(),{aggregatedCommentsHiddenForUser:n}=(0,z.nf)(),{nativeEngagementsHiddenForUser:d}=(0,B.G)(),[c,_]=(0,i.useState)(null),u=(0,A.Z)(),h=(0,C.Z)(),f=(0,N.Z)({user:o,viewer:h}),m=(0,Z.Z)();return(0,p.jsx)(e0,{...e,blockUser:async l=>{await t((0,eq.Ge)({id:l,blockSource:"profile",blockContext:l,logContextEvent:u})),n(l),d(l),e.onBlockUser?.()},headerHeight:c,isUserBlocked:!!s.blocked_by_me,ownProfile:f,requireAuth:a,setHeaderHeight:_,showBlockToastMessage:m,unblockUser:e=>t((0,eq.h2)(e,u)),user:s})}var e4=l(678213);let e2=({history:e,placementId:t})=>{let l=(0,u.ZP)();return(0,p.jsx)(I.a3,{eligibleIds:[505404],placementId:t,children:({complete:t,dismiss:i})=>(0,p.jsx)(s.mh,{zIndex:e4.b7,children:(0,p.jsx)(s.WB,{accessibilityModalLabel:l._('Comments turned off education modal', 'modalEducation.commentsTurnedOff', 'modal to inform users comments are turned off for their Pins for safety reason'),heading:l._('Comments are turned off', 'modalEducation.commentsTurnedOff.heading', 'title text for modal to inform users comments are turned off for their Pins for safety reason'),onDismiss:()=>{i()},primaryAction:{accessibilityLabel:l._('button dismissing comments turned off education modal', 'modalEducation.commentsTurnedOff.confirmButton.a11yLabel', 'call to action, button to dismiss the modal'),label:l._('Open settings', 'modalEducation.commentsTurnedOff.confirmButton', 'call to action, title on button to go to settings'),onClick:()=>{t(),e.push("/settings/permissions")}},children:(0,p.jsx)(s.xv,{children:(0,m.nk)(l._('Want to allow comments on your Pins? {{ turnOn }}', 'modalEducation.commentsTurnedOff.description', 'description text for modal to inform users how to turn their comments on. turnOn: text for where to turn on comments'),{turnOn:(0,p.jsx)(s.xv,{inline:!0,weight:"bold",children:l._('Turn them on in social permissions.', 'modalEducation.commentsTurnedOff.description.socialPermissions', 'description text for for modal to inform users where to turn their comments on')})})})})})})};var e6=l(697063),e3=l(475498),e8=l(278533),e5=l(123998),e7=l(91479),e9=l(87853),te=l(874837),tt=l(745395),tl=l(230543),ti=l(314011);let tr=({tab:e,userData:t})=>{if(t&&e===L.un.DECIDER){let e=t.eligible_profile_tabs?.find(e=>e.is_default);return L.IL[e?.tab_type]||L.un.SAVED}return e};var to=l(349417),ts=l(742438),ta=l(46731);let tn=[1,2,3],td=(0,I.RL)(19,({clickedFollowingButton:e,tab:t},l)=>({clickedFollowingButton:e,profile_ownership:l.profile_ownership,profile_user_id:l.profile_user_id,tab:t}))(function({children:e,clickedFollowingButton:t,history:l,minimalPartnerHeader:r,renderError:a,setPlacementExtraContext:n,tab:d,unsetError:c,username:h}){let{logContextEvent:f}=(0,_.u)(),x=(0,u.ZP)(),b=(0,C.Z)(),g=(0,i.useRef)(!1),y=(0,i.useRef)(t),P=(0,ti.R)(),{checkExperiment:v}=(0,O.ru)(),w=(0,e9.dI)(),j=(0,eY.dM)(),A=(0,o.TH)(),E=(0,ts.Z)(),{refresh:z}=E,Z=j[E.data?.id||""]||E.data,{explicitly_followed_by_me:B,full_name:R,id:k,is_ads_only_profile:T,is_partner:S,is_private_profile:H}=Z||{},D=P.id,F=b&&b.isAuth&&Z&&b.id===k,L=b.isAuth&&h===b.username,U=H&&!L,V=!U||B,N=tr({tab:d,userData:Z}),W=!1===S&&L&&A.pathname.includes(`/${h}/${M.qV}`)&&v("web_retrieval_hub_profile_split_").anyEnabled,G=!1===S&&L&&v("web_retrieval_hub_profile_split_").anyEnabled,$=G&&[M.sz.enabled_with_unorganized_feed,M.sz.enabled_with_log_fix].includes(v("web_retrieval_hub_profile_split_").group),X=e=>{U&&e&&(0,te.Z)(1e3).then(E.refresh)};if((0,i.useEffect)(()=>{(0,e8.Z)()},[]),(0,i.useEffect)(()=>{a?.apiHandler!=="v3_get_board"||a?.http_status!==404||g.current||!Z||E.error?E.error&&404===E.error.httpStatus&&l.replace("/?show_error=true"):(g.current=!0,e6.Z.showHtmlError((0,m.nk)(x._('But here are some of {{ fullName }}\'s other boards!', ' - ', ' -- '),{fullName:R}).join(""),c(),x._('We couldn\'t find that page.', ' - ', ' -- ')))}),(0,i.useEffect)(()=>{f({event_type:13,view_type:4,aux_data:{pin_id:D}})},[f,D]),(0,i.useEffect)(()=>{if(E.isLoaded){let e={profile_ownership:F?"own":"other",profile_user_id:k||""};t&&t!==y.current&&(e={...e,clickedFollowingButton:!0}),n(e)}},[t,E.isLoaded]),(0,i.useEffect)(()=>{W&&w.showOneToast(({hideToast:e})=>(0,p.jsx)(e3.Z,{dismissButton:{onDismiss:()=>{e(),f({event_type:101,view_type:4,view_parameter:$?3106:4047,component:20,element:75})}},duration:5e3,onHide:e,text:x._('This is how your profile looks to others', 'profilePage.selfProfile.retrievalHub.toast.educational', 'Educational banner to let users known this is how their public profile looks')}))},[W]),!E||!E.isLoaded||!Z)return null;let q=L?3106:3107,Y=(0,p.jsx)(to.aG,{children:(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(I.dr,{placementId:19}),(0,p.jsx)(I.u3,{placementId:19}),(0,p.jsx)(I.nj,{placementId:19}),(0,p.jsx)(I._f,{placementId:19}),(0,p.jsx)(e2,{history:l,placementId:19}),W&&(0,p.jsx)(e7.Z,{onClick:()=>l.push(`/${h}/`)}),L&&T&&(0,p.jsx)(s.xu,{"data-test-id":"ad-only-profile-banner",display:"flex",justifyContent:"center",marginBottom:4,children:(0,p.jsx)(s.ci,{iconAccessibilityLabel:"Info",message:x._('Using an ad-only profile will prevent Pinners from discovering your profile page. Your profile page will be hidden in search results on Pinterest and on search engines.', 'profilePage.adOnlyProfile.callout.title', 'Callout message that describes more details about ad-only profiles'),primaryAction:{accessibilityLabel:x._('Learn more about ad-only profiles', 'profilePage.adOnlyProfile.callout.primaryAction.accessibilityLabel', 'Accessibility label'),label:x._('Learn more', 'profilePage.adOnlyProfile.callout.primaryAction.label', 'Button that opens the Ad-Only Profile Help Center article'),href:K.SNA,target:"blank",role:"link"},title:x._('Your account settings indicate that this is an ad-only profile.', 'profilePage.adOnlyProfile.callout.title', 'Callout title that indicates the current profile is an ad-only profile'),type:"info"})}),(0,p.jsxs)(s.xu,{children:[(0,p.jsx)(J.Z,{name:"ProfileHeaderContainer",children:(0,p.jsx)(tl.c,{children:e=>(0,p.jsx)(e1,{isRetrievalHub:G&&!W,minimalPartnerHeader:r,onBlockUser:z,onToggleFollow:X,showContent:V,tab:N,top:e,user:Z})})}),V&&(0,p.jsx)(J.Z,{name:"ProfileContent",children:(0,p.jsx)(s.xu,{children:e})})]})]})});return v("ps_blocking_profile_visibility",{dangerouslySkipActivation:!0}).anyEnabled&&tn.includes(Number(Z?.profile_view?.profile_view_id))?(0,p.jsx)(tt.Z,{onUnBlockConfirmation:()=>z(),user:Z}):(0,p.jsx)(e5.Z,{objectId:k,view:4,viewParameter:q,children:(0,p.jsx)(i.Fragment,{children:Y})})});function tc(e){let t=(0,ta.X2)(),l=t&&Object.keys(t).map(e=>t[e]).filter(e=>e.showTooltip).length>0;return(0,p.jsx)(td,{...e,clickedFollowingButton:l})}var t_=l(417365),tu=l(490698),th=l(255957),tp=l(956077),tf=l(900675),tm=l(444185),tx=l(984126),tb=l(51354),tg=l(487550),ty=l(452516),tP=l(458707),tv=l(125675);let tw=(0,ey.Z)(()=>Promise.all([l.e("38554"),l.e("36549"),l.e("93583"),l.e("89562"),l.e("66215"),l.e("35729")]).then(l.bind(l,363757)),void 0,e=>363757,"app-common-react-components-profile-ProfileHeader-BusinessProfileSection"),tj=(0,ey.Z)(()=>l.e("55610").then(l.bind(l,280695)),void 0,e=>280695,"app-common-react-components-profile-ProfileCreated-ProfileCreatedContainer"),tA=(0,ey.Z)(()=>l.e("34220").then(l.bind(l,114923)),void 0,e=>114923,"app-www-pages-duplo-ProfileCreated"),tE=(0,ey.Z)(()=>l.e("56595").then(l.bind(l,270885)),void 0,e=>270885,"app-www-ProfileFollowers-ProfileFollowersControllerGraphQL"),tC=(0,ey.Z)(()=>l.e("85682").then(l.bind(l,216018)),void 0,e=>216018,"app-www-pages-duplo-ProfileFollowing"),tz=(0,ey.Z)(()=>Promise.all([l.e("38554"),l.e("36549"),l.e("93583"),l.e("89562")]).then(l.bind(l,713642)),void 0,e=>713642,"app-common-react-components-do-aggregated-pins-did-it-DidItProfileFeed-DidItProfileFeedContainer"),tZ=(0,ey.Z)(()=>l.e("35822").then(l.bind(l,491026)),void 0,e=>491026,"app-www-pages-duplo-ProfileTried"),tB=(0,ey.Z)(()=>Promise.all([l.e("39997"),l.e("56876")]).then(l.bind(l,880401)),void 0,e=>880401,"app-www-pages-duplo-ProfileBoards"),tR=(0,ey.Z)(()=>l.e("66215").then(l.bind(l,279122)),void 0,e=>279122,"app-www-profile-ProfileTopics-ProfileTopics"),tk=(0,ey.Z)(()=>l.e("70261").then(l.bind(l,982787)),void 0,e=>982787,"app-common-react-components-profile-ProfileStoryPins-ProfileStoryPinsContainer"),tT=(0,ey.Z)(()=>l.e("9868").then(l.bind(l,689035)),void 0,e=>689035,"app-common-react-components-profile-ProfileVideoPins-ProfileVideoPinsContainer"),tS=()=>{let e=(0,C.Z)(),t=(0,o.TH)();return e.isAuth&&t.pathname.startsWith(`/${e.username}/`)},tI=()=>{let[,,e,t]=(0,o.$B)().path.split("/");return e===L.un.PREVIEW_PROFILE&&t?[e,t].join("/"):e},tH=()=>{let{username:e}=(0,o.UO)(),{isAuthenticated:t}=(0,h.B)(),l=(0,ty.Z)(),i=t&&e&&l[e],r=tI(),s=i&&tr({tab:L.un.DECIDER,userData:i}),a=(()=>{let{isAuthenticated:e}=(0,h.B)(),t=(0,o.$B)(),l=tS(),i=(0,ty.Z)()[t.params.username??""];return!!i&&function({isAuthenticated:e,isOwnProfile:t,user:l}){if(!l)return!1;let{eligible_profile_tabs:i=[],has_published_pins:r,is_partner:o,story_pin_count:s}=l,a=i.filter(({tab_type:e})=>1===e).length>0;return e&&a&&(o||!t)&&!(!o&&0===s||o&&!r&&0===s)}({isAuthenticated:e,isOwnProfile:l,user:i})})()?L.un.CREATED:L.un.SAVED,n=r||s||a;return{isRouteMachedTab:!!r,key:n,path:tg.kx[n]}};function tO(){let{path:e}=tH();return e===tg.Bj?(0,p.jsx)(tA,{}):(0,p.jsx)(tB,{})}let tD=()=>{let{isAuthenticated:e}=(0,h.B)(),t=(0,$.HG)();return e&&t};function tF({tab:e,user:t}){let l=tD();switch(e){case"_created":case L.un.PREVIEW_PROFILE_CREATED:return l?(0,p.jsx)(tj,{}):(0,p.jsx)(tA,{});case"_followers":return l?(0,p.jsx)(j.Z,{}):(0,p.jsx)(tE,{});case"_following":return l?(0,p.jsx)(j.Z,{}):(0,p.jsx)(tC,{});case"_saved":case L.un.PREVIEW_PROFILE_SAVED:return l?(0,p.jsx)(t_.Z,{}):(0,p.jsx)(tB,{});case"tried":return l?(0,p.jsx)(tz,{}):(0,p.jsx)(tZ,{});case"topics":return(0,p.jsx)(tR,{});case L.un.RETRIEVAL_HUB_PINS:return(0,p.jsx)(tu.ZP,{isOwnProfile:!0,surface:"RetrievalHub",user:t,username:t?.username||""});case L.un.RETRIEVAL_HUB_BOARDS:return l?(0,p.jsx)(t_.Z,{}):(0,p.jsx)(tO,{});case"story_pins":return l?(0,p.jsx)(tk,{}):null;case"video_pins":return l?(0,p.jsx)(tT,{}):null;case"_collages":return l?(0,p.jsx)(w,{user:t}):null;default:return l?(0,p.jsx)(j.Z,{}):(0,p.jsx)(tO,{})}}function tL({boardVisibilityDataRef:e}){let t=(0,o.k6)(),l=(0,o.TH)(),s=(0,o.$B)(),a=tI(),n=(0,r.I0)(),{setSelfProfileBoardFilter:d}=(0,eM.WG)()||{setSelfProfileBoardFilter:()=>{}},{username:c}=(0,o.UO)(),u=(0,r.v9)(({ui:e})=>e.mainComponent.locationToErrorMap);(0,tf.Z)(e);let{data:h}=(0,eD.Z)({name:"UserResource",options:{username:c,field_set_key:"profile"}}),f=tD(),m=(0,ex.Z)(h),x=tS(),b=(0,ty.Z)(),{logContextEvent:g}=(0,_.u)(),y=!x&&c&&b[c]&&b[c].is_ads_only_profile&&b[c].ads_only_profile_site;if((0,i.useEffect)(()=>{d(void 0),y&&(g({event_type:9371,element:13383,aux_data:{aop_origin:"ProfilePage"}}),window.location.replace(y))},[y,g,d]),y)return null;if(h?.username&&h.username!==c&&c)return(0,p.jsx)(o.l_,{to:l.pathname.replace(c,h.username)});let P=a||tr({tab:L.un.DECIDER,userData:h})||L.un.DECIDER;return(0,p.jsx)(tv.M,{children:(0,p.jsx)(tc,{history:t,minimalPartnerHeader:h?.has_catalog&&RegExp(/\?pin=/).test(l.search),renderError:u[l.pathname],tab:P,unsetError:()=>n((0,tP.L)(l.pathname)),username:s.params.username||"",children:(0,p.jsx)(J.Z,{name:"SafeSuspense_ProfilePage_ProfilePageTabContent",children:m&&h?(0,p.jsx)(tw,{businessProfileTab:P,deciderFallback:f?j.Z:tO}):(0,p.jsx)(tF,{tab:P,user:h})})})})}function tM(){let{username:e}=(0,o.UO)(),{logContextEvent:t}=(0,_.u)(),l=(0,ty.Z)(),{key:r,isRouteMachedTab:s,path:a}=tH(),n=e&&l[e],d=n&&n.is_ads_only_profile&&n.ads_only_profile_site;return(0,i.useEffect)(()=>{d&&(t({event_type:9371,element:13383,aux_data:{aop_origin:"ProfilePage"}}),window.location.replace(d))},[d,t]),(0,p.jsx)(tb.ZP,{headerTab:a,children:(0,p.jsx)(J.Z,{name:"SafeSuspense_ProfilePage_ProfileDefaultTabContent",children:(0,p.jsx)(tF,{tab:s?r:void 0})})})}function tU(){let e=tD(),t=tS(),l=(0,o.k6)(),r=(0,C.Z)(),{checkExperiment:s}=(0,O.ru)(),{username:a}=(0,o.UO)(),{isFetching:n,isLoaded:d}=(0,eD.Z)({name:"UserResource",options:{username:a}}),{ref:c}=(0,tm.Z)(e?{name:"UserResource",options:{field_set_key:"board_visibility",username:a}}:null),_=(e=>{let{username:t}=(0,o.UO)(),l=(0,ty.Z)(),i=t&&l[t],{path:r}=tH();if(!i||e)return!0;switch(r){case tg.c0:return(i.pin_count??0)>0||(i.board_count??0)>0;case tg.Bj:return i.has_published_pins||(i.story_pin_count??0)>0;default:return!0}})(n||!d),u=r.isAuth&&!1===r.isPartner&&t&&!l.location.pathname.includes(M.qV)&&s("web_retrieval_hub_profile_split_").anyEnabled&&s("web_retrieval_hub_profile_split_").group===M.sz.enabled_old,h=u?"self_profile":t?_?"own_profile":"own_profile_no_pins":_?"other_profile":"other_profile_no_pins";(0,tp.qS)(h);let f=e?(0,p.jsx)(J.Z,{name:"ProfilePage_ResourceError",children:(0,p.jsx)(i.Suspense,{fallback:(0,p.jsx)(tx.Z,{}),children:(0,p.jsx)(tL,{boardVisibilityDataRef:c})})}):(0,p.jsx)(tM,{});return(0,p.jsx)(th.Z,{customEnabledNavigationTypes:["client_route_push","client_route_replace","initial_app_load"],measureGridVisuallyComplete:_,surface:h,children:f})}function tV(){let{isAuthenticated:e}=(0,h.B)();return(0,i.useEffect)(()=>{(0,e8.Z)()},[]),e?(0,p.jsx)(tU,{}):(0,p.jsx)(tM,{})}},209348:function(e,t,l){l.d(t,{Yh:()=>d,Xt:()=>n,ZP:()=>a,tY:()=>c,$7:()=>_});var i=l(581722),r=l(821342),o=l(274320),s=l(886981);function a(e){let t=(0,r.Z)(),l=t.isAuth&&t.id===e,{checkExperiment:i}=(0,o.ru)(),a=(0,s.Z)(!t.isAuth||l?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:l&&t.has_quicksave_board||!!(t.isAuth&&(a??{}).data?.has_quicksave_board)||(l||t.isAuth)&&!t.has_quicksave_board&&!(a??{}).data?.has_quicksave_board&&i("profile_saves_for_all").anyEnabled}}function n(e){let t=(0,r.Z)(),l=t.isAuth&&t.id===e,i=(0,s.Z)(!t.isAuth||l?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{boardlessPinsEnabled:l&&t.has_quicksave_board||!!(t.isAuth&&(i??{}).data?.has_quicksave_board)}}function d(e){let t=(0,i.I0)(),l=(0,r.Z)(),o=l.isAuth&&"number"==typeof l.boardCount&&l.boardCount<5&&e,a=(0,s.Z)(o&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:l.isAuth&&l.id}}:null);return l.isAuth&&void 0===l.save_behavior&&a&&a.data?.id&&t({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:a.data.save_behavior}}),{showEnabledSaveBehavior:o}}function c(e){let t,l=(0,r.Z)();return l.isAuth&&e&&(0===l.save_behavior?t={type:"classic"}:1===l.save_behavior&&(t={type:"inline"})),{saveBehaviorType:t}}function _(){let e=(0,r.Z)();return e.isAuth&&(e?.secretBoardCount??0)>0}},604488:function(e,t,l){l.d(t,{Z:()=>i});function i({hasCustomOrder:e,hasGroupBoard:t,isOwnProfile:l,mostRecentBoardSortOrder:i,requestContext:r,updatedBoardOrder:o}){if(!l)return"last_pinned_to";if(o)return o;if(i)return i;let s=r?.experimentsClient.checkExperiment("web_gb_highlight_on_profile_default").anyEnabled;return e?"custom":!e&&t&&s?"group_boards_at_top":"last_pinned_to"}},434674:function(e,t,l){l.d(t,{Z:()=>o});var i=l(20256),r=l(785893);let o=function({children:e,itemWidth:t,maxColumns:l=12}){return(0,r.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[e,Array.from(Array(l)).map((e,l)=>(0,r.jsx)(i.xu,{width:t},l))]})}},458707:function(e,t,l){function i(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function r(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}l.d(t,{L:()=>r,m:()=>i})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/61941-db483066fe1e871b.mjs.map