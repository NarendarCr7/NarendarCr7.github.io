(self.modernJsonp=self.modernJsonp||[]).push([["35024"],{399573:function(e,t,r){r.d(t,{Z:()=>n});function n(e){return function e(t,r){let n;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let o=r.find(e=>e.value===t);if(o)return o.result;let a=Object.prototype.toString.call(t);switch(a){case"[object Array]":n=Array(t.length);break;case"[object Set]":n=new Set;break;case"[object Object]":case"[object Arguments]":n={};break;case"[object Map]":n=new Map;break;default:return t}let s=[...r,{value:t,result:n}];switch(a){case"[object Array]":t.forEach((t,r)=>{n[r]=e(t,s)});break;case"[object Set]":t.forEach(t=>{n.add(e(t,s))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,r])=>{n[t]=e(r,s)});break;case"[object Map]":t.forEach((t,r)=>{n.set(r,e(t,s))})}return n}(e,[])}},707079:function(e,t,r){r.d(t,{F_:()=>s,MA:()=>c,ZP:()=>o,y8:()=>a});var n=r(729434);class o{constructor(){var e,t,r;t={},(e="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="pending","string"))?r:r+"")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}add(e,t,r){r&&(this.pending[e]={...this.pending[e]??{},[t]:r},r.finally?.(()=>this.remove(e,t)))}remove(e,t){this.pending[e]?.[t]&&(delete this.pending[e][t],0===Object.keys(this.pending[e]).length&&delete this.pending[e])}get(e,t){return this.pending[e]?.[t]??null}}let a=new o,{Provider:s,getMaybe:c}=(0,n.Z)("PendingFetches")},791948:function(e,t,r){r.d(t,{UZ:()=>p,Z8:()=>m,my:()=>b,vL:()=>h,w1:()=>y});var n=r(667294),o=r(581722),a=r(575108),s=r(729434),c=r(72918),l=r(785893);function i(e,t,r){let n=[...t[e][r.payload.name]??[],r.payload.handler],o={...t};return o[e]={...t[e],[r.payload.name]:n},o}function u(e,t,r){if(!t[e][r.payload.name])return t;let n=t[e][r.payload.name].filter(e=>e!==r.payload.handler),o={...t};return o[e]={...t[e],[r.payload.name]:n},o}let{Provider:f,get:d}=(0,s.Z)("ResourceContext");function p({children:e,resourceCreator:t}){let[{listeners:r,moreListeners:o},s]=(0,n.useReducer)((e,t)=>{switch(t.type){case"addListener":return i("listeners",e,t);case"addMoreListener":return i("moreListeners",e,t);case"removeListener":return u("listeners",e,t);case"removeMoreListener":return u("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}});a.Z.fetchCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:o,refresh:a,resourceSchema:s})=>{r[e]&&r[e].forEach(r=>r({isRefresh:a,normalizedResponse:o,options:t,schema:s,resource:e,response:n}))},a.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:r,normalizedResponse:n,refresh:a,resourceSchema:s})=>{o[e]&&o[e].forEach(o=>o({isRefresh:a,normalizedResponse:n,options:t,schema:s,resource:e,response:r}))};let c=(0,n.useMemo)(()=>({listenerDispatch:s,resourceCreator:t}),[t]);return(0,l.jsx)(f,{value:c,children:e})}function m(e,t){let{listenerDispatch:r}=d();(0,n.useEffect)(()=>(r({type:"addListener",payload:{name:e,handler:t}}),()=>{r({type:"removeListener",payload:{name:e,handler:t}})}),[r,e,t])}function b(e,t){let{listenerDispatch:r}=d();(0,n.useEffect)(()=>(r({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{r({type:"removeMoreListener",payload:{name:e,handler:t}})}))}function y(){let e=(0,o.I0)();return(0,n.useCallback)((t,r)=>e((0,c.jB)(t,r)),[e])}function h(){return d().resourceCreator}},536652:function(e,t,r){r.d(t,{U:()=>f,b:()=>d});var n=r(575108),o=r(399573),a=r(440568),s=r(849233),c=r(72918),l=r(82347),i=r(954300);function u({addSuspenseResourceSSRData:e,fetchOptions:t,resource:r,resourceCreator:f,retry:d}){return async(m,b)=>{let{bookmark:y,headers:h,options:v,refresh:k,schema:g}=t,Z=(0,a.Z)(v);if(b().resources?.[r]?.[Z]?.fetching&&!d)return Promise.resolve();let j=d?d.bookmark:y,C=(0,o.Z)(v),M=j?{...C,bookmarks:[j]}:C;m((0,c.LQ)(r,v,!0));try{let o,a,b=f??n.Z.create,Z=await b(r,M).callGet(void 0,h);e&&p(Z)&&e(r,M,Z),p(Z)||(o=Z.bookmarks?.[0]);let{data:j}=Z.resource_response,{normalizedResponse:C,resourceSchema:L}=(0,i.f)({data:j,opts:{bookmark:y,options:v,schema:g},resource:r});if(p(Z)){o=Z.resource_response.bookmark??"";let e=(0,l.Z)(Z);C=e.normalizedResponse,L=e.schema,a=e.response}else a=Z;if(Array.isArray(j)&&0===j.length&&o&&o!==s.qx){let e=d?d.count:0;if(!(e>=s.s9))return m(u({resource:r,fetchOptions:t,retry:{count:e+1,bookmark:o},resourceCreator:f}))}a&&(y?(m((0,c.Dm)(r,v,a,C,L)),n.Z.fetchMoreCompleteCallback&&n.Z.fetchMoreCompleteCallback({resource:r,options:v,response:a,normalizedResponse:C,refresh:k,resourceSchema:L})):(m((0,c.Sr)(r,v,a,C,k,L)),n.Z.fetchCompleteCallback&&n.Z.fetchCompleteCallback({resource:r,options:v,response:a,normalizedResponse:C,refresh:k,resourceSchema:L})))}catch(t){if(e){let n=t.http_status??500;e(r,v,{resource:{name:r,options:v},resource_response:{data:null,error:t,http_status:n,status:"failure"}})}m((0,c.Tl)(r,v,t))}}}let f=(e,{bookmark:t,headers:r,options:n,schema:o},a,s)=>u({resource:e,fetchOptions:{bookmark:t,headers:r,options:n,refresh:!1,schema:o},resourceCreator:a,addSuspenseResourceSSRData:s}),d=(e,{headers:t,options:r,schema:n},o)=>u({resource:e,fetchOptions:{headers:t,options:r,refresh:!0,schema:n},resourceCreator:o});function p(e){return"resource"in e}},72918:function(e,t,r){r.d(t,{Dm:()=>i,LQ:()=>s,Sr:()=>l,Tl:()=>c,XM:()=>a,jB:()=>u});var n=r(35831),o=r(23534);function a(e,t,r,o){return{type:n.AF,payload:{resource:e,options:t,response:r,normalizedResponse:o}}}function s(e,t,r){return{type:n.KK,payload:{resource:e,options:t,isFetching:r}}}let c=(e,t,r)=>({type:n.cR,payload:{resource:e,options:t,error:r}});function l(e,t,r,a,s,c){return{type:n.zP,payload:{isRefresh:s,normalizedResponse:a,options:t,resource:e,response:r,schema:c},meta:{[o.s]:!0}}}function i(e,t,r,o,a){return{type:n.aW,payload:{resource:e,options:t,response:r,normalizedResponse:o,schema:a}}}function u(e,t){return{type:n.se,payload:{resource:e,optionsOrOptionsKey:t}}}},82347:function(e,t,r){r.d(t,{Z:()=>s});var n=r(782677),o=r(24315),a=r(954300);function s(e){let{resource:t,resource_response:r}=e,{name:s,options:c}=t,l=(0,o.Z)(r),{data:i,error:u}=r,f=(0,a.J)(s,{options:c});return{error:u,isRefresh:!1,normalizedResponse:f&&i?(0,n.Fv)(i,f):null,options:c,resource:s,response:{auxData:l,bookmarks:r.bookmark?[r.bookmark]:void 0,resource_response:{data:i,error:u}},schema:f}}},943257:function(e,t,r){r.d(t,{Z:()=>d});var n=r(667294),o=r(581722),a=r(616550),s=r(440568),c=r(15667),l=r(536652),i=r(849233),u=r(707079),f=r(791948);function d(e,t,r){let{enabledRouteRefresh:d,headers:p,name:m,noCache:b,options:y,schema:h}=e,v=(0,u.MA)(),k=(0,f.vL)(),g=(0,o.I0)(),Z=(0,s.Z)(y),j=(0,n.useRef)(void 0),C=(0,a.k6)(),M=C&&"POP"!==C.action,L=(0,n.useRef)(void 0),_=e=>e[m]?.[Z],w=(0,o.v9)(({resources:e})=>_(e)?.data),A=(0,o.v9)(({resources:e})=>_(e)?.error),R=!!A||void 0!==w,S=(0,o.v9)(({resources:e})=>!!_(e)?.fetching),E=(0,o.v9)(({resources:e})=>_(e)?.nextBookmark),P=R&&!S&&E===i.qx,O=!!(R&&d&&M&&!t),[x,B]=(0,n.useState)(O),F=x;(0,o.wU)(w,L.current)||(x&&(L.current||!O)&&(F=!1,B(!1)),L.current=w);let z=(0,n.useCallback)(e=>{let t=g((0,l.U)(m,{options:y,schema:h,bookmark:e,headers:p},k,void 0));e||v?.add(m,Z,t)},[g,m,Z,h,p]),J=(0,n.useCallback)(()=>{let e=g((0,l.b)(m,{options:y,schema:h,headers:p},k));v?.add(m,Z,e)},[g,m,Z,h,p]),U=(0,n.useCallback)(()=>{t||(J(),B(!0))},[t,J]),q=(0,n.useCallback)(()=>{!E||P||S||t||z(E)},[t,z,P,S,E]),{isBot:D}=(0,c.B)(),T=(0,n.useCallback)(()=>{if(!(S||v?.get(m,Z))&&!t&&j.current!==Z){let e=void 0===j.current;j.current=Z,!R||r&&e&&A&&(({httpStatus:e})=>!e||e>=500)(A)?z():(!D&&b||O)&&J()}},[r,z,J,t,A,D,S,R,O,m,b,Z,v]),I=(0,n.useMemo)(()=>({name:m,optionsKey:Z}),[m,Z]);return(0,n.useMemo)(()=>({fetchResource:T,ref:I,refresh:U,fetchMore:q,isFetching:S,isLoaded:R,isRefreshing:F}),[q,T,S,R,I,F,U])}(0,r(512395).kr)()},886981:function(e,t,r){r.d(t,{Z:()=>l});var n=r(667294),o=r(581722),a=r(440568),s=r(849233),c=r(943257);function l(e){let{enabledRouteRefresh:t,headers:r,name:l,noCache:i,options:u,schema:f}=e??{name:s.fY,options:null},d=(0,a.Z)(u),p=e=>e[l]?.[d],m=(0,o.v9)(({resources:e})=>p(e)?.nextBookmark),b=(0,o.v9)(({resources:e})=>p(e)?.data),y=(0,o.v9)(({resources:e})=>p(e)?.auxData),h=(0,o.v9)(({resources:e})=>p(e)?.error),{fetchResource:v,fetchMore:k,isFetching:g,isLoaded:Z,isRefreshing:j,refresh:C}=(0,c.Z)({enabledRouteRefresh:t,headers:r,name:l,noCache:i,options:u,schema:f},!e,!0),M=Z&&!g&&m===s.qx;return(0,n.useEffect)(()=>{v()}),(0,n.useMemo)(()=>({auxData:y,data:b,error:h,fetchMore:k,isAtEnd:M,isFetching:g,isLoaded:Z,isRefreshing:j,nextBookmark:m,refresh:C}),[y,b,h,k,M,g,Z,j,m,C])}},954300:function(e,t,r){r.d(t,{J:()=>a,f:()=>s});var n=r(782677),o=r(388023);let a=(e,{bookmark:t,options:r,schema:n})=>{let a=n||o.Z[e];return"function"==typeof a?a({resource:e,options:r,bookmark:t}):a};function s({data:e,opts:{bookmark:t,options:r,schema:o},resource:s}){let c=a(s,{bookmark:t,options:r,schema:o});return{normalizedResponse:c&&e?(0,n.Fv)(e,c):null,resourceSchema:c}}},512395:function(e,t,r){function n(){return{}}r.d(t,{kr:()=>n}),r.g.__AsyncLocalStorage__&&new r.g.__AsyncLocalStorage__}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/35024-b7f291bc30780d91.mjs.map